<!DOCTYPE html> <html><head>
		<title>Part2：Class (Abandoned)</title>
		<base href="../">
		<meta id="root-path" root-path="../">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes, minimum-scale=1.0, maximum-scale=5.0">
		<meta charset="UTF-8">
		<meta name="description" content="Congzhi's Notes Vault - Part2：Class (Abandoned)">
		<meta property="og:title" content="Part2：Class (Abandoned)">
		<meta property="og:description" content="Congzhi's Notes Vault - Part2：Class (Abandoned)">
		<meta property="og:type" content="website">
		<meta property="og:url" content="https://congzhi.wiki/c-plus-plus/part2：class-(abandoned).html">
		<meta property="og:image" content="undefined">
		<meta property="og:site_name" content="Congzhi's Notes Vault">
		<meta name="author" content="Congzhi"><link rel="alternate" type="application/rss+xml" title="RSS Feed" href="https://congzhi.wiki/lib/rss.xml"><script async="" id="webpage-script" src="lib/scripts/webpage.js" onload="this.onload=null;this.setAttribute(&quot;loaded&quot;, &quot;true&quot;)"></script><script type="module" async="" id="graph-view-script" src="lib/scripts/graph-view.js"></script><script async="" id="graph-wasm-script" src="lib/scripts/graph-wasm.js" onload="this.onload=null;this.setAttribute(&quot;loaded&quot;, &quot;true&quot;)"></script><script async="" id="graph-render-worker-script" src="lib/scripts/graph-render-worker.js" onload="this.onload=null;this.setAttribute(&quot;loaded&quot;, &quot;true&quot;)"></script><script async="" id="tinycolor-script" src="lib/scripts/tinycolor.js" onload="this.onload=null;this.setAttribute(&quot;loaded&quot;, &quot;true&quot;)"></script><script async="" id="pixi-script" src="https://cdnjs.cloudflare.com/ajax/libs/pixi.js/7.4.0/pixi.min.js" onload="this.onload=null;this.setAttribute(&quot;loaded&quot;, &quot;true&quot;)"></script><script async="" id="minisearch-script" src="https://cdn.jsdelivr.net/npm/minisearch@6.3.0/dist/umd/index.min.js" onload="this.onload=null;this.setAttribute(&quot;loaded&quot;, &quot;true&quot;)"></script><link rel="icon" href="lib/media/favicon.png"><script async="" id="graph-data-script" src="lib/scripts/graph-data.js" onload="this.onload=null;this.setAttribute(&quot;loaded&quot;, &quot;true&quot;)"></script><style>body{--line-width:40em;--line-width-adaptive:40em;--file-line-width:40em;--sidebar-width:min(20em, 80vw);--collapse-arrow-size:11px;--tree-horizontal-spacing:0.6em;--tree-vertical-spacing:0.6em;--sidebar-margin:12px}.sidebar{height:100%;min-width:calc(var(--sidebar-width) + var(--divider-width-hover));max-width:calc(var(--sidebar-width) + var(--divider-width-hover));font-size:14px;z-index:10;position:relative;overflow:hidden;transition:min-width ease-in-out,max-width ease-in-out;transition-duration:.2s;contain:size}.sidebar-left{left:0}.sidebar-right{right:0}.sidebar.is-collapsed{min-width:0;max-width:0}body.floating-sidebars .sidebar{position:absolute}.sidebar-content{height:100%;min-width:calc(var(--sidebar-width) - var(--divider-width-hover));top:0;padding:var(--sidebar-margin);padding-top:4em;line-height:var(--line-height-tight);background-color:var(--background-secondary);transition:background-color,border-right,border-left,box-shadow;transition-duration:var(--color-fade-speed);transition-timing-function:ease-in-out;position:absolute;display:flex;flex-direction:column}.sidebar:not(.is-collapsed) .sidebar-content{min-width:calc(max(100%,var(--sidebar-width)) - 3px);max-width:calc(max(100%,var(--sidebar-width)) - 3px)}.sidebar-left .sidebar-content{left:0;border-top-right-radius:var(--radius-l);border-bottom-right-radius:var(--radius-l)}.sidebar-right .sidebar-content{right:0;border-top-left-radius:var(--radius-l);border-bottom-left-radius:var(--radius-l)}.sidebar:has(.sidebar-content:empty):has(.topbar-content:empty){display:none}.sidebar-topbar{height:2em;width:var(--sidebar-width);top:var(--sidebar-margin);padding-inline:var(--sidebar-margin);z-index:1;position:fixed;display:flex;align-items:center;transition:width ease-in-out;transition-duration:inherit}.sidebar.is-collapsed .sidebar-topbar{width:calc(2.3em + var(--sidebar-margin) * 2)}.sidebar .sidebar-topbar.is-collapsed{width:0}.sidebar-left .sidebar-topbar{left:0}.sidebar-right .sidebar-topbar{right:0}.topbar-content{overflow:hidden;overflow:clip;width:100%;height:100%;display:flex;align-items:center;transition:inherit}.sidebar.is-collapsed .topbar-content{width:0;transition:inherit}.clickable-icon.sidebar-collapse-icon{background-color:transparent;color:var(--icon-color-focused);padding:0!important;margin:0!important;height:100%!important;width:2.3em!important;margin-inline:0.14em!important;position:absolute}.sidebar-left .clickable-icon.sidebar-collapse-icon{transform:rotateY(180deg);right:var(--sidebar-margin)}.sidebar-right .clickable-icon.sidebar-collapse-icon{transform:rotateY(180deg);left:var(--sidebar-margin)}.clickable-icon.sidebar-collapse-icon svg.svg-icon{width:100%;height:100%}.sidebar-section-header{margin:0 0 1em 0;text-transform:uppercase;letter-spacing:.06em;font-weight:600}body{transition:background-color var(--color-fade-speed) ease-in-out}.webpage-container{display:flex;flex-direction:row;height:100%;width:100%;align-items:stretch;justify-content:center}.document-container{opacity:1;flex-basis:100%;max-width:100%;width:100%;height:100%;display:flex;flex-direction:column;align-items:center;transition:opacity .2s ease-in-out;contain:inline-size}.hide{opacity:0;transition:opacity .2s ease-in-out}.document-container>.markdown-preview-view{margin:var(--sidebar-margin);margin-bottom:0;width:100%;width:-webkit-fill-available;width:-moz-available;width:fill-available;background-color:var(--background-primary);transition:background-color var(--color-fade-speed) ease-in-out;border-top-right-radius:var(--window-radius,var(--radius-m));border-top-left-radius:var(--window-radius,var(--radius-m));overflow-x:hidden!important;overflow-y:auto!important;display:flex!important;flex-direction:column!important;align-items:center!important;contain:inline-size}.document-container>.markdown-preview-view>.markdown-preview-sizer{padding-bottom:80vh!important;width:100%!important;max-width:var(--line-width)!important;flex-basis:var(--line-width)!important;transition:background-color var(--color-fade-speed) ease-in-out;contain:inline-size}.markdown-rendered img:not([width]),.view-content img:not([width]){max-width:100%;outline:0}.document-container>.view-content.embed{display:flex;padding:1em;height:100%;width:100%;align-items:center;justify-content:center}.document-container>.view-content.embed>*{max-width:100%;max-height:100%;object-fit:contain}:has(> :is(.math,table)){overflow-x:auto!important}.document-container>.view-content{overflow-x:auto;contain:content;padding:0;margin:0;height:100%}.scroll-highlight{position:absolute;width:100%;height:100%;pointer-events:none;z-index:1000;background-color:hsla(var(--color-accent-hsl),.25);opacity:0;padding:1em;inset:50%;translate:-50% -50%;border-radius:var(--radius-s)}</style><script defer="">async function loadIncludes(){if("file:"!=location.protocol){let e=document.querySelectorAll("include");for(let t=0;t<e.length;t++){let o=e[t],l=o.getAttribute("src");try{const e=await fetch(l);if(!e.ok){console.log("Could not include file: "+l),o?.remove();continue}let t=await e.text(),n=document.createRange().createContextualFragment(t),i=Array.from(n.children);for(let e of i)e.classList.add("hide"),e.style.transition="opacity 0.5s ease-in-out",setTimeout((()=>{e.classList.remove("hide")}),10);o.before(n),o.remove(),console.log("Included file: "+l)}catch(e){o?.remove(),console.log("Could not include file: "+l,e);continue}}}else{if(document.querySelectorAll("include").length>0){var e=document.createElement("div");e.id="error",e.textContent="Web server exports must be hosted on an http / web server to be viewed correctly.",e.style.position="fixed",e.style.top="50%",e.style.left="50%",e.style.transform="translate(-50%, -50%)",e.style.fontSize="1.5em",e.style.fontWeight="bold",e.style.textAlign="center",document.body.appendChild(e),document.querySelector(".document-container")?.classList.remove("hide")}}}document.addEventListener("DOMContentLoaded",(()=>{loadIncludes()}));let isFileProtocol="file:"==location.protocol;function waitLoadScripts(e,t){let o=e.map((e=>document.getElementById(e+"-script"))),l=0;!function e(){let n=o[l];l++,n&&"true"!=n.getAttribute("loaded")||l<o.length&&e(),l<o.length?n.addEventListener("load",e):t()}()}</script><link rel="stylesheet" href="lib/styles/obsidian.css"><link rel="preload" href="lib/styles/other-plugins.css" as="style" onload="this.onload=null;this.rel='stylesheet'"><noscript><link rel="stylesheet" href="lib/styles/other-plugins.css"></noscript><link rel="preload" href="lib/styles/global-variable-styles.css" as="style" onload="this.onload=null;this.rel='stylesheet'"><noscript><link rel="stylesheet" href="lib/styles/global-variable-styles.css"></noscript><link rel="preload" href="lib/styles/main-styles.css" as="style" onload="this.onload=null;this.rel='stylesheet'"><noscript><link rel="stylesheet" href="lib/styles/main-styles.css"></noscript></head><body class="publish css-settings-manager theme-light show-inline-title show-ribbon"><script defer="">let theme=localStorage.getItem("theme")||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light");"dark"==theme?(document.body.classList.add("theme-dark"),document.body.classList.remove("theme-light")):(document.body.classList.add("theme-light"),document.body.classList.remove("theme-dark")),window.innerWidth<480?document.body.classList.add("is-phone"):window.innerWidth<768?document.body.classList.add("is-tablet"):window.innerWidth<1024?document.body.classList.add("is-small-screen"):document.body.classList.add("is-large-screen")</script><div class="webpage-container workspace"><div class="sidebar-left sidebar"><div class="sidebar-handle"></div><div class="sidebar-topbar"><div class="topbar-content"><label class="theme-toggle-container" for="theme_toggle"><input class="theme-toggle-input" type="checkbox" id="theme_toggle"><div class="toggle-background"></div></label></div><div class="clickable-icon sidebar-collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="100%" height="100%" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" class="svg-icon"><path d="M21 3H3C1.89543 3 1 3.89543 1 5V19C1 20.1046 1.89543 21 3 21H21C22.1046 21 23 20.1046 23 19V5C23 3.89543 22.1046 3 21 3Z"></path><path d="M10 4V20"></path><path d="M4 7H7"></path><path d="M4 10H7"></path><path d="M4 13H7"></path></svg></div></div><div class="sidebar-content"><div class="search-input-container"><input enterkeyhint="search" type="search" spellcheck="false" placeholder="Search..."><div class="search-input-clear-button" aria-label="Clear search"></div></div><include src="lib/html/file-tree.html"></include></div><script defer="">let ls = document.querySelector(".sidebar-left"); ls.classList.add("is-collapsed"); if (window.innerWidth > 768) ls.classList.remove("is-collapsed"); ls.style.setProperty("--sidebar-width", localStorage.getItem("sidebar-left-width"));</script></div><div class="document-container markdown-reading-view hide"><div class="markdown-preview-view markdown-rendered allow-fold-headings allow-fold-lists is-readable-line-width"><style id="MJX-CHTML-styles"></style><pre class="frontmatter language-yaml" tabindex="0" style="display: none;"><code class="language-yaml is-loaded"><span class="token key atrule">tags</span><span class="token punctuation">:</span>
  <span class="token punctuation">-</span> Cpp</code><button class="copy-code-button"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon lucide-copy"><rect x="8" y="8" width="14" height="14" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button></pre><div class="markdown-preview-sizer markdown-preview-section"><h1 class="page-title heading inline-title" id="Part2：Class (Abandoned)"><p dir="auto">Part2：Class (Abandoned)</p></h1><div class="el-h2 heading-wrapper"><h2 data-heading="1.`struct`和`class`" dir="auto" class="heading" id="1.`struct`和`class`"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>1.<code>struct</code>和<code>class</code></h2><div class="heading-children"><div class="el-p"><p dir="auto">在C语言中，我们常用<code>struct</code>关键字来定义我们想要的数据类型，但结构体中不能包含函数。这是因为结构体中的变量存储在数据段（如<code>.bss</code>、<code>.data</code>）或堆栈上，而函数存储在代码区（<code>.text</code>）。我们要对结构体的数据进行操作，只能在结构体外定义各种函数，这不仅不利于数据的封装性，而且独立的函数也容易让人一头雾水。（C++中，struct和class的唯一区别就是默认类内/结构体中的属性不同，还有继承）</p></div><div class="el-p"><p dir="auto">以下是一个面向过程的“把大象放进冰箱”的操作示例：</p></div><div class="el-pre"><pre class="language-c" tabindex="0"><code data-line="0" class="language-c is-loaded"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h&gt;</span></span>

<span class="token keyword">typedef</span> <span class="token keyword">struct</span> <span class="token punctuation">{</span>
    <span class="token keyword">unsigned</span> <span class="token keyword">int</span> height<span class="token punctuation">;</span>
    <span class="token keyword">unsigned</span> <span class="token keyword">int</span> weight<span class="token punctuation">;</span>
    <span class="token keyword">unsigned</span> <span class="token keyword">int</span> age<span class="token punctuation">;</span>
<span class="token punctuation">}</span> person<span class="token punctuation">;</span>

<span class="token keyword">typedef</span> <span class="token keyword">struct</span> <span class="token punctuation">{</span>
    <span class="token keyword">unsigned</span> <span class="token keyword">int</span> volume<span class="token punctuation">;</span>
<span class="token punctuation">}</span> elephant<span class="token punctuation">;</span>

<span class="token keyword">typedef</span> <span class="token keyword">struct</span> <span class="token punctuation">{</span>
    <span class="token keyword">unsigned</span> <span class="token keyword">int</span> volume<span class="token punctuation">;</span>
<span class="token punctuation">}</span> fridge<span class="token punctuation">;</span>

<span class="token keyword">void</span> <span class="token function">person_cutting_elephant</span><span class="token punctuation">(</span>person p<span class="token punctuation">,</span> elephant e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">/*
    cutting operations
    */</span>
    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"Elephant has been cut\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">void</span> <span class="token function">person_fill_fridge</span><span class="token punctuation">(</span>person p<span class="token punctuation">,</span> elephant e<span class="token punctuation">,</span> fridge f<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">/*
    filling operations
    */</span>
    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"Fridge has been filled\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    person p <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token number">180</span><span class="token punctuation">,</span> <span class="token number">70</span><span class="token punctuation">,</span> <span class="token number">24</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
    elephant e <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token number">5</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
    fridge f <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token number">6</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token function">person_cutting_elephant</span><span class="token punctuation">(</span>p<span class="token punctuation">,</span> e<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">person_fill_fridge</span><span class="token punctuation">(</span>p<span class="token punctuation">,</span> e<span class="token punctuation">,</span> f<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code><button class="copy-code-button"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon lucide-copy"><rect x="8" y="8" width="14" height="14" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button></pre></div><div class="el-p"><p dir="auto">在这个例子中，我们定义了人、大象和冰箱三个结构体，并在结构体外编写了相关函数。虽然这样可以完成任务，但数据和操作分离的形式并不直观。当使用结构体，操作函数描述起来的着重点是函数，如：人把大象切开了，其中人是p、大象是e（有了类，我们就可以说p人把e大象切开了）。</p></div><div class="el-p"><p dir="auto">而C++提供了<code>class</code>类描述符，可以将对象的操作（方法函数）放到类内，不仅提升了数据元素的封装性，还使整个过程的思维流程更加通顺易懂。在开发大型项目时，海量的操作函数并不利于项目迭代和操作不同的对象。而类能做什么，只需查看类内成员函数就一目了然了。在写一个面向对象的“把大象放进冰箱”的操作示例之前，我们先学习类的构造函数和析构函数。</p></div></div></div><div class="el-h2 heading-wrapper"><h2 data-heading="2. 构造函数和析构函数" dir="auto" class="heading" id="2._构造函数和析构函数"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>2. 构造函数和析构函数</h2><div class="heading-children"><div class="el-h3 heading-wrapper"><h3 data-heading="2.1 构造函数" dir="auto" class="heading" id="2.1_构造函数"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>2.1 构造函数</h3><div class="heading-children"><div class="el-p"><p dir="auto">类相当于一个新类型，该类型的成员变量可以放在数据段或堆栈上，同样成员函数会存储在代码区（<code>.text</code>段）。构造函数就是在类对象创建时就在对应内存将数据初始化的成员函数。</p></div><div class="el-h5 heading-wrapper"><h5 data-heading="2.1.1 构造函数的种类" dir="auto" class="heading" id="2.1.1_构造函数的种类"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>2.1.1 构造函数的种类</h5><div class="heading-children"><div class="el-ol"><ol>
<li data-line="0" dir="auto"><strong>默认构造函数</strong>：没有参数的构造函数。我们可以定义自己的默认构造函数来初始化不带参数的对象。如果我们没有定义默认构造函数，编译器会自动生成一个默认构造函数，这个默认构造函数什么都不干。</li>
<li data-line="1" dir="auto"><strong>普通构造函数</strong>：带参数的构造函数。普通构造函数是用于初始化对象的构造函数。</li>
<li data-line="2" dir="auto"><strong>复制构造函数</strong>：用于创建对象的副本。该对象是通过复制现有对象来初始化的。它接受一个同类对象的引用作为参数。</li>
<li data-line="3" dir="auto"><strong>移动构造函数</strong>：移动构造函数用于创建一个新对象，它接受一个右值引用（<code>&amp;&amp;</code>）作为参数。移动构造函数会将右值引用对象资源移动到新对象，并”人工地“将源对象的成员变量重置。</li>
</ol></div><div class="el-pre"><pre class="language-cpp" tabindex="0"><code data-line="0" class="language-cpp is-loaded"><span class="token keyword">class</span> <span class="token class-name">person</span>
<span class="token punctuation">{</span>
<span class="token keyword">public</span><span class="token operator">:</span>
	<span class="token keyword">unsigned</span> <span class="token keyword">int</span> height<span class="token punctuation">;</span>
	<span class="token keyword">unsigned</span> <span class="token keyword">int</span> weight<span class="token punctuation">;</span>
	<span class="token keyword">unsigned</span> <span class="token keyword">int</span> age<span class="token punctuation">;</span>
<span class="token keyword">public</span><span class="token operator">:</span>
	<span class="token comment">//默认构造函数</span>
	<span class="token function">person</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">:</span><span class="token function">height</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">weight</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">age</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Default constructor has been called."</span> <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token comment">//普通构造函数</span>
	<span class="token function">person</span><span class="token punctuation">(</span><span class="token keyword">unsigned</span> <span class="token keyword">int</span> height_<span class="token punctuation">,</span> <span class="token keyword">unsigned</span> <span class="token keyword">int</span> weight_<span class="token punctuation">,</span> <span class="token keyword">unsigned</span> <span class="token keyword">int</span> age_<span class="token punctuation">)</span>
		<span class="token operator">:</span><span class="token function">height</span><span class="token punctuation">(</span>height_<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">weight</span><span class="token punctuation">(</span>weight_<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">age</span><span class="token punctuation">(</span>age_<span class="token punctuation">)</span> <span class="token punctuation">{</span>
		std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"A person object is constructed."</span> <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token comment">//复制构造函数</span>
	<span class="token function">person</span><span class="token punctuation">(</span><span class="token keyword">const</span> person<span class="token operator">&amp;</span> other_person<span class="token punctuation">)</span>
		<span class="token operator">:</span><span class="token function">height</span><span class="token punctuation">(</span>other_person<span class="token punctuation">.</span>height<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">weight</span><span class="token punctuation">(</span>other_person<span class="token punctuation">.</span>weight<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">age</span><span class="token punctuation">(</span>other_person<span class="token punctuation">.</span>age<span class="token punctuation">)</span> <span class="token punctuation">{</span>
		std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Copy constructor has been called."</span> <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token comment">//移动构造函数</span>
	<span class="token function">person</span><span class="token punctuation">(</span>person<span class="token operator">&amp;&amp;</span> other_person<span class="token punctuation">)</span>
		<span class="token keyword">noexcept</span><span class="token operator">:</span><span class="token function">height</span><span class="token punctuation">(</span>other_person<span class="token punctuation">.</span>height<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">weight</span><span class="token punctuation">(</span>other_person<span class="token punctuation">.</span>weight<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">age</span><span class="token punctuation">(</span>other_person<span class="token punctuation">.</span>age<span class="token punctuation">)</span> <span class="token punctuation">{</span>
		other_person<span class="token punctuation">.</span>height <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
		other_person<span class="token punctuation">.</span>weight <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
		other_person<span class="token punctuation">.</span>age <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
		std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Move constructor has been called."</span> <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
		<span class="token operator">~</span><span class="token function">person</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code><button class="copy-code-button"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon lucide-copy"><rect x="8" y="8" width="14" height="14" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button></pre></div></div></div></div></div><div class="el-h3 heading-wrapper"><h3 data-heading="2.2 析构函数" dir="auto" class="heading" id="2.2_析构函数"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>2.2 析构函数</h3><div class="heading-children"><div class="el-p"><p dir="auto">析构函数（Deconstructor）是C++中的一种特殊成员函数，用于在对象的生命周期结束时执行清理操作。析构函数的名称与类名相同，但前面有一个波浪号（<code>~</code>），并且没有返回类型和参数，所以不能够重载。</p></div><div class="el-p"><p dir="auto">析构函数的作用是释放类对象的资源，只有当类内成员申请内存才需要在析构函数中显式定义<code>delete</code>操作，否则析构函数不需要释放什么资源。如果类管理其他资源（如文件句柄、网络连接、数据库连接等），需要在析构函数中释放这些资源。</p></div></div></div><div class="el-h3 heading-wrapper"><h3 data-heading="2.3 面向对象的”把大象放冰箱“操作" dir="auto" class="heading" id="2.3_面向对象的”把大象放冰箱“操作"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>2.3 面向对象的”把大象放冰箱“操作</h3><div class="heading-children"><div class="el-p"><p dir="auto">我们忽略大象类、冰箱类的实现和操作的实现细节，以下是一个面向对象的“把大象放进冰箱”的操作示例：</p></div><div class="el-pre"><pre class="language-cpp" tabindex="0"><code data-line="0" class="language-cpp is-loaded"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;iostream&gt;</span></span>
<span class="token keyword">class</span> <span class="token class-name">person</span><span class="token punctuation">;</span>
<span class="token keyword">class</span> <span class="token class-name">elephant</span><span class="token punctuation">;</span>
<span class="token keyword">class</span> <span class="token class-name">fridge</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">person</span>
<span class="token punctuation">{</span>
<span class="token keyword">public</span><span class="token operator">:</span>
	<span class="token keyword">unsigned</span> <span class="token keyword">int</span> height<span class="token punctuation">;</span>
	<span class="token keyword">unsigned</span> <span class="token keyword">int</span> weight<span class="token punctuation">;</span>
	<span class="token keyword">unsigned</span> <span class="token keyword">int</span> age<span class="token punctuation">;</span>
<span class="token keyword">public</span><span class="token operator">:</span>
	<span class="token comment">//默认构造函数</span>
	<span class="token function">person</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">:</span><span class="token function">height</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">weight</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">age</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Default constructor has been called."</span> <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token comment">//普通构造函数</span>
	<span class="token function">person</span><span class="token punctuation">(</span><span class="token keyword">unsigned</span> <span class="token keyword">int</span> height_<span class="token punctuation">,</span> <span class="token keyword">unsigned</span> <span class="token keyword">int</span> weight_<span class="token punctuation">,</span> <span class="token keyword">unsigned</span> <span class="token keyword">int</span> age_<span class="token punctuation">)</span>
		<span class="token operator">:</span><span class="token function">height</span><span class="token punctuation">(</span>height_<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">weight</span><span class="token punctuation">(</span>weight_<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">age</span><span class="token punctuation">(</span>age_<span class="token punctuation">)</span> <span class="token punctuation">{</span>
		std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"A person object is constructed."</span> <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token comment">//复制构造函数</span>
	<span class="token function">person</span><span class="token punctuation">(</span><span class="token keyword">const</span> person<span class="token operator">&amp;</span> other_person<span class="token punctuation">)</span>
		<span class="token operator">:</span><span class="token function">height</span><span class="token punctuation">(</span>other_person<span class="token punctuation">.</span>height<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">weight</span><span class="token punctuation">(</span>other_person<span class="token punctuation">.</span>weight<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">age</span><span class="token punctuation">(</span>other_person<span class="token punctuation">.</span>age<span class="token punctuation">)</span> <span class="token punctuation">{</span>
		std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Copy constructor has been called."</span> <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token comment">//移动构造函数</span>
	<span class="token function">person</span><span class="token punctuation">(</span>person<span class="token operator">&amp;&amp;</span> other_person<span class="token punctuation">)</span>
		<span class="token keyword">noexcept</span><span class="token operator">:</span><span class="token function">height</span><span class="token punctuation">(</span>other_person<span class="token punctuation">.</span>height<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">weight</span><span class="token punctuation">(</span>other_person<span class="token punctuation">.</span>weight<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">age</span><span class="token punctuation">(</span>other_person<span class="token punctuation">.</span>age<span class="token punctuation">)</span> <span class="token punctuation">{</span>
		other_person<span class="token punctuation">.</span>height <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
		other_person<span class="token punctuation">.</span>weight <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
		other_person<span class="token punctuation">.</span>age <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
		std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Move constructor has been called."</span> <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
		<span class="token operator">~</span><span class="token function">person</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
		<span class="token keyword">void</span> <span class="token function">person_cut_elephant</span><span class="token punctuation">(</span><span class="token keyword">const</span> person p<span class="token punctuation">,</span> elephant e<span class="token punctuation">)</span> <span class="token punctuation">;</span>
		<span class="token keyword">void</span> <span class="token function">person_fill_fridge</span><span class="token punctuation">(</span><span class="token keyword">const</span> person p<span class="token punctuation">,</span> elephant e<span class="token punctuation">,</span> fridge f<span class="token punctuation">)</span> <span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	person <span class="token function">p</span><span class="token punctuation">(</span><span class="token number">180</span><span class="token punctuation">,</span> <span class="token number">70</span><span class="token punctuation">,</span> <span class="token number">24</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	elephant <span class="token function">e</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	fridge <span class="token function">f</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	p<span class="token punctuation">.</span><span class="token function">person_cut_elephant</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	p<span class="token punctuation">.</span><span class="token function">person_fill_fridge</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code><button class="copy-code-button"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon lucide-copy"><rect x="8" y="8" width="14" height="14" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button></pre></div><div class="el-p"><p dir="auto">这样，我们能明显的感受到前面“人把大象切开了，其中人是p、大象是e（有了类，我们就可以说p人把e大象切开了）。”这句话的含义。</p></div></div></div></div></div><div class="el-h2 heading-wrapper"><h2 data-heading="3. `this`，常成员函数和常对象" dir="auto" class="heading" id="3._`this`，常成员函数和常对象"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>3. <code>this</code>，常成员函数和常对象</h2><div class="heading-children"><div class="el-h3 heading-wrapper"><h3 data-heading="3.1 `this`" dir="auto" class="heading" id="3.1_`this`"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>3.1 <code>this</code></h3><div class="heading-children"><div class="el-p"><p dir="auto"><code>this</code> 是&nbsp;C++&nbsp;中的一个关键字，也是一个 const&nbsp;指针，它指向当前对象，通过它可以访问当前对象的所有成员。所谓当前对象，是指正在使用的对象。<code>this</code> 只能用在类的内部，通过 <code>this</code> 可以访问类的所有成员，包括 private、protected、public 属性的。<code>this</code>的简单用法如下：</p></div><div class="el-pre"><pre class="language-cpp" tabindex="0"><code data-line="0" class="language-cpp is-loaded"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>

<span class="token keyword">class</span> <span class="token class-name">person</span> <span class="token punctuation">{</span>
	<span class="token keyword">int</span> height<span class="token punctuation">;</span>
	<span class="token keyword">int</span> weight<span class="token punctuation">;</span>
	<span class="token keyword">int</span> age<span class="token punctuation">;</span>
<span class="token keyword">public</span><span class="token operator">:</span>
	<span class="token function">person</span><span class="token punctuation">(</span><span class="token keyword">int</span> h<span class="token punctuation">,</span> <span class="token keyword">int</span> w<span class="token punctuation">,</span> <span class="token keyword">int</span> a<span class="token punctuation">)</span> <span class="token operator">:</span><span class="token function">height</span><span class="token punctuation">(</span>h<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">weight</span><span class="token punctuation">(</span>w<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">age</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span> <span class="token punctuation">{</span>
		std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"A person object has been added."</span> <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token operator">~</span><span class="token function">person</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
	<span class="token keyword">void</span> <span class="token function">getter</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Height: "</span> <span class="token operator">&lt;&lt;</span> <span class="token keyword">this</span><span class="token operator">-&gt;</span>height <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl <span class="token operator">&lt;&lt;</span> <span class="token string">"Weight: "</span>
			<span class="token operator">&lt;&lt;</span> <span class="token keyword">this</span><span class="token operator">-&gt;</span>weight <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl <span class="token operator">&lt;&lt;</span> <span class="token string">"Age: "</span> <span class="token operator">&lt;&lt;</span> <span class="token keyword">this</span><span class="token operator">-&gt;</span>age <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">void</span> <span class="token function">setter</span><span class="token punctuation">(</span><span class="token keyword">int</span> height<span class="token punctuation">,</span> <span class="token keyword">int</span> weight<span class="token punctuation">,</span> <span class="token keyword">int</span> age<span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">this</span><span class="token operator">-&gt;</span>height <span class="token operator">=</span> height<span class="token punctuation">;</span><span class="token comment">// 使用 this-&gt;height 表示成员变量</span>
		<span class="token keyword">this</span><span class="token operator">-&gt;</span>weight <span class="token operator">=</span> weight<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token operator">-&gt;</span>age <span class="token operator">=</span> age<span class="token punctuation">;</span> 
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	person <span class="token function">Pa</span><span class="token punctuation">(</span><span class="token number">160</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">22</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	person <span class="token function">Pb</span><span class="token punctuation">(</span><span class="token number">175</span><span class="token punctuation">,</span> <span class="token number">60</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	Pa<span class="token punctuation">.</span><span class="token function">getter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	Pb<span class="token punctuation">.</span><span class="token function">getter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code><button class="copy-code-button"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon lucide-copy"><rect x="8" y="8" width="14" height="14" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button></pre></div><div class="el-p"><p dir="auto">编译器将<code>this</code>关键字解释为指向函数所作用的对象的指针。 C++类的本质就是C语言的结构体外加几个类外的函数，C++最后都要转化为C语言来实现，类外的函数就是通过this来指向这个类的。上面的类在 C 语言中的实现如下：</p></div><div class="el-pre"><pre class="language-c" tabindex="0"><code data-line="0" class="language-c is-loaded"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h&gt;</span></span>

<span class="token keyword">typedef</span> <span class="token keyword">struct</span> <span class="token punctuation">{</span>
    <span class="token keyword">int</span> height<span class="token punctuation">;</span>
    <span class="token keyword">int</span> weight<span class="token punctuation">;</span>
    <span class="token keyword">int</span> age<span class="token punctuation">;</span>
<span class="token punctuation">}</span> Person<span class="token punctuation">;</span>

<span class="token keyword">void</span> <span class="token function">initPerson</span><span class="token punctuation">(</span>Person <span class="token operator">*</span>this<span class="token punctuation">,</span> <span class="token keyword">int</span> height<span class="token punctuation">,</span> <span class="token keyword">int</span> weight<span class="token punctuation">,</span> <span class="token keyword">int</span> age<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    this<span class="token operator">-&gt;</span>height <span class="token operator">=</span> height<span class="token punctuation">;</span>
    this<span class="token operator">-&gt;</span>weight <span class="token operator">=</span> weight<span class="token punctuation">;</span>
    this<span class="token operator">-&gt;</span>age <span class="token operator">=</span> age<span class="token punctuation">;</span>
    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"A person object has been added.\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">void</span> <span class="token function">getter</span><span class="token punctuation">(</span><span class="token keyword">const</span> Person <span class="token operator">*</span>this<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"Height: %d\nWeight: %d\nAge: %d\n"</span><span class="token punctuation">,</span> 
    this<span class="token operator">-&gt;</span>height<span class="token punctuation">,</span> this<span class="token operator">-&gt;</span>weight<span class="token punctuation">,</span> this<span class="token operator">-&gt;</span>age<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">void</span> <span class="token function">setter</span><span class="token punctuation">(</span>Person <span class="token operator">*</span>this<span class="token punctuation">,</span> <span class="token keyword">int</span> height<span class="token punctuation">,</span> <span class="token keyword">int</span> weight<span class="token punctuation">,</span> <span class="token keyword">int</span> age<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    this<span class="token operator">-&gt;</span>height <span class="token operator">=</span> height<span class="token punctuation">;</span> <span class="token comment">// 使用 p-&gt;height 表示成员变量</span>
    this<span class="token operator">-&gt;</span>weight <span class="token operator">=</span> weight<span class="token punctuation">;</span>
    this<span class="token operator">-&gt;</span>age <span class="token operator">=</span> age<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    Person Pa<span class="token punctuation">,</span> Pb<span class="token punctuation">;</span>
    <span class="token function">initPerson</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>Pa<span class="token punctuation">,</span> <span class="token number">160</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">22</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">initPerson</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>Pb<span class="token punctuation">,</span> <span class="token number">175</span><span class="token punctuation">,</span> <span class="token number">60</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">getter</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>Pa<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">getter</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>Pb<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

</code><button class="copy-code-button"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon lucide-copy"><rect x="8" y="8" width="14" height="14" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button></pre></div><div class="el-p"><p dir="auto"><code>this</code>有很多功能是单纯的指针无法满足的。比如每个类函数的参数根本没有名叫<code>this</code>的指针。这是编译器赋予的功能。</p></div></div></div><div class="el-h3 heading-wrapper"><h3 data-heading="3.2 常成员函数" dir="auto" class="heading" id="3.2_常成员函数"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>3.2 常成员函数</h3><div class="heading-children"><div class="el-p"><p dir="auto"><code>const</code>除了修饰变量，还可以用来修饰<strong>类内函数</strong>。用 <code>const</code> 修饰的函数我们称为<mark>常成员函数</mark>。C++规定常成员函数在调用时不会修改类的成员变量。</p></div><div class="el-pre"><pre class="language-cpp" tabindex="0"><code data-line="0" class="language-cpp is-loaded"><span class="token keyword">class</span> <span class="token class-name">MyClass</span> <span class="token punctuation">{</span>
<span class="token keyword">public</span><span class="token operator">:</span>
    <span class="token keyword">int</span> <span class="token function">getValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">const</span> <span class="token punctuation">{</span> <span class="token comment">// 常成员函数</span>
        <span class="token keyword">return</span> value<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">void</span> <span class="token function">setValue</span><span class="token punctuation">(</span><span class="token keyword">int</span> val<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        value <span class="token operator">=</span> val<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token keyword">private</span><span class="token operator">:</span>
    <span class="token keyword">int</span> value<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code><button class="copy-code-button"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon lucide-copy"><rect x="8" y="8" width="14" height="14" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button></pre></div><div class="el-p"><p dir="auto">函数括号后的<code>const</code>实际上是为了修饰<code>this</code>，常成员函数会隐式地转换为：</p></div><div class="el-pre"><pre class="language-cpp" tabindex="0"><code data-line="0" class="language-cpp is-loaded"><span class="token keyword">void</span> <span class="token function">outPut</span><span class="token punctuation">(</span><span class="token keyword">const</span> myClass<span class="token operator">*</span> <span class="token keyword">const</span> myThis<span class="token punctuation">)</span><span class="token punctuation">{</span>
	std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> myThis<span class="token operator">-&gt;</span>name <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code><button class="copy-code-button"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon lucide-copy"><rect x="8" y="8" width="14" height="14" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button></pre></div><div class="el-p"><p dir="auto">但由于<code>this</code>是隐式的，所以将<code>const</code>放到括号外。</p></div></div></div><div class="el-h3 heading-wrapper"><h3 data-heading="3.3 常对象" dir="auto" class="heading" id="3.3_常对象"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>3.3 常对象</h3><div class="heading-children"><div class="el-p"><p dir="auto">同样，加入<code>const</code>关键字就可以定义一个常对象。理解起来也很方便，常对象的对象变量是不可改变的。这样一来，常对象和普通对象可以使用的类内函数就有一些区别。即 <strong>常对象只能使用常成员函数</strong>。在<strong>函数重载的情况下，普通对象只能使用普通成员函数，常对象只能使用常成员函数</strong>。我们举例说明一下：</p></div><div class="el-pre"><pre class="language-cpp" tabindex="0"><code data-line="0" class="language-cpp is-loaded"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>

<span class="token keyword">class</span> <span class="token class-name">person</span> <span class="token punctuation">{</span>
	<span class="token keyword">int</span> height<span class="token punctuation">;</span>
	<span class="token keyword">int</span> weight<span class="token punctuation">;</span>
	<span class="token keyword">int</span> age<span class="token punctuation">;</span>
<span class="token keyword">public</span><span class="token operator">:</span>
	<span class="token function">person</span><span class="token punctuation">(</span><span class="token keyword">int</span> h<span class="token punctuation">,</span> <span class="token keyword">int</span> w<span class="token punctuation">,</span> <span class="token keyword">int</span> a<span class="token punctuation">)</span> <span class="token operator">:</span><span class="token function">height</span><span class="token punctuation">(</span>h<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">weight</span><span class="token punctuation">(</span>w<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">age</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span> <span class="token punctuation">{</span>
		std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"A person object has been added."</span> <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token operator">~</span><span class="token function">person</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
	<span class="token keyword">void</span> <span class="token function">getter</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Height: "</span> <span class="token operator">&lt;&lt;</span> height <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl <span class="token operator">&lt;&lt;</span> <span class="token string">"Weight: "</span>
			<span class="token operator">&lt;&lt;</span> weight <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl <span class="token operator">&lt;&lt;</span> <span class="token string">"Age: "</span> <span class="token operator">&lt;&lt;</span> age <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl <span class="token operator">&lt;&lt;</span> <span class="token keyword">this</span> <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">void</span> <span class="token function">getter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token keyword">const</span> <span class="token punctuation">{</span>
		std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Height: "</span> <span class="token operator">&lt;&lt;</span> height <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl <span class="token operator">&lt;&lt;</span> <span class="token string">"Weight: "</span>
			<span class="token operator">&lt;&lt;</span> weight <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl <span class="token operator">&lt;&lt;</span> <span class="token string">"Age: "</span> <span class="token operator">&lt;&lt;</span> age <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl <span class="token operator">&lt;&lt;</span> <span class="token keyword">this</span> <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span>
		std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"this is a const func"</span> <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	person <span class="token function">Pa</span><span class="token punctuation">(</span><span class="token number">160</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">22</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">const</span> person <span class="token function">Pb</span><span class="token punctuation">(</span><span class="token number">175</span><span class="token punctuation">,</span> <span class="token number">60</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	Pa<span class="token punctuation">.</span><span class="token function">getter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	Pb<span class="token punctuation">.</span><span class="token function">getter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code><button class="copy-code-button"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon lucide-copy"><rect x="8" y="8" width="14" height="14" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button></pre></div></div></div></div></div><div class="el-h2 heading-wrapper"><h2 data-heading="4. `inline`, `mutable`, `default`, `delete`关键字" dir="auto" class="heading" id="4._`inline`,_`mutable`,_`default`,_`delete`关键字"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>4. <code>inline</code>, <code>mutable</code>, <code>default</code>, <code>delete</code>关键字</h2><div class="heading-children"><div class="el-h3 heading-wrapper"><h3 data-heading="4.1 内联函数" dir="auto" class="heading" id="4.1_内联函数"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>4.1 内联函数</h3><div class="heading-children"><div class="el-p"><p dir="auto">我们用&nbsp;<code>inline</code>&nbsp;关键字来指定某一个函数为内联函数。我们知道，当函数被调用时，会在栈空间里生成栈帧。函数的调用和返回对应着栈帧的生成与销毁，这往往意味着开销。内联函数就是让调用函数将被调用函数看作自身的一部分（即被调用函数不需要生成栈帧，空间换时间），节省了调用其他函数时生成和销毁栈帧的时间开销。因此，内联函数往往设置为较为短小的函数，因为当函数很大时，内联会导致代码膨胀，增加指令缓存的压力，反而可能降低性能。</p></div><div class="el-p"><p dir="auto">我们在使用<code>inline</code>关键字时需要有以下几点注意：</p></div><div class="el-ol"><ol>
<li data-line="0" dir="auto">关键字必须与<mark>函数定义</mark>放在一起才能使函数成为内联，放在函数声明前不起作用。</li>
<li data-line="1" dir="auto">函数在类内实现时，默认是内联的。</li>
<li data-line="2" dir="auto">内联函数只是对编译器的一种建议，只有符合内联的情况编译器才会采纳将函数设置为内联。</li>
</ol></div><div class="el-pre"><pre class="language-cpp" tabindex="0"><code data-line="0" class="language-cpp is-loaded"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;iostream&gt;</span></span>

<span class="token keyword">class</span> <span class="token class-name">test</span> <span class="token punctuation">{</span>
<span class="token keyword">public</span><span class="token operator">:</span>
	<span class="token keyword">inline</span> <span class="token keyword">void</span> <span class="token function">print</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">void</span> <span class="token function">print2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">void</span> <span class="token function">print3</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
		std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"print3"</span> <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">void</span> test<span class="token double-colon punctuation">::</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"hello"</span> <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">inline</span> <span class="token keyword">void</span> test<span class="token double-colon punctuation">::</span><span class="token function">print2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
	std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"print2"</span> <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	test test1<span class="token punctuation">;</span>
	test1<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//test1.print(); 不是内联函数</span>
	test1<span class="token punctuation">.</span><span class="token function">print2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//test1.print2();是内联函数</span>
	test1<span class="token punctuation">.</span><span class="token function">print3</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//是内联函数</span>
<span class="token punctuation">}</span>
</code><button class="copy-code-button"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon lucide-copy"><rect x="8" y="8" width="14" height="14" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button></pre></div></div></div><div class="el-h3 heading-wrapper"><h3 data-heading="4.2 `mutable`关键字" dir="auto" class="heading" id="4.2_`mutable`关键字"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>4.2 <code>mutable</code>关键字</h3><div class="heading-children"><div class="el-p"><p dir="auto"><code>mutable</code>可变的，这个关键字与<code>const</code>相对。<code>const</code>关键字突出的是“常”而<code>mutable</code>关键字突出的是“变”。我们延续上面的例子来看看<code>mutable</code>可以做什么：</p></div><div class="el-pre"><pre class="language-cpp" tabindex="0"><code data-line="0" class="language-cpp is-loaded"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;iostream&gt;</span></span>

<span class="token keyword">class</span> <span class="token class-name">test</span> <span class="token punctuation">{</span>
	<span class="token keyword">mutable</span> <span class="token keyword">unsigned</span> <span class="token keyword">int</span> print_Count<span class="token punctuation">;</span>
<span class="token keyword">public</span><span class="token operator">:</span>
	<span class="token function">test</span><span class="token punctuation">(</span><span class="token keyword">unsigned</span> <span class="token keyword">int</span> Count_init<span class="token punctuation">)</span> <span class="token operator">:</span><span class="token function">print_Count</span><span class="token punctuation">(</span>Count_init<span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
	<span class="token keyword">inline</span> <span class="token keyword">void</span> <span class="token function">print</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token keyword">const</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">void</span> test<span class="token double-colon punctuation">::</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token keyword">const</span> <span class="token punctuation">{</span>
	std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"hello"</span> <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span>
	print_Count<span class="token operator">++</span><span class="token punctuation">;</span>
	std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> print_Count <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	test <span class="token function">test1</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	test1<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	test1<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code><button class="copy-code-button"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon lucide-copy"><rect x="8" y="8" width="14" height="14" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button></pre></div><div class="el-p"><p dir="auto">我们看到，即使我们定义了一个常成员函数，我们依然可以因为变量是<code>mutable</code>修饰的而修改<code>print_Count</code>的值。</p></div><div class="el-p"><p dir="auto"><code>mutable</code>关键字一般万不得已才会使用，为了提高程序设计应当避免使用<code>mutable</code>关键字。另外注意，mutable不能修饰静态成员变量和常成员变量。</p></div></div></div><div class="el-h3 heading-wrapper"><h3 data-heading="4.3 `default`关键字" dir="auto" class="heading" id="4.3_`default`关键字"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>4.3 <code>default</code>关键字</h3><div class="heading-children"><div class="el-p"><p dir="auto">提高代码的可读性。</p></div></div></div><div class="el-h3 heading-wrapper"><h3 data-heading="4.4 `delete`关键字" dir="auto" class="heading" id="4.4_`delete`关键字"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>4.4 <code>delete</code>关键字</h3><div class="heading-children"><div class="el-p"><p dir="auto"><code>delete</code>关键字最基本的用途就是释放掉申请的堆内存，如：</p></div><div class="el-pre"><pre class="language-cpp" tabindex="0"><code data-line="0" class="language-cpp is-loaded"><span class="token comment">//删去单个对象</span>
<span class="token keyword">int</span><span class="token operator">*</span> ptr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">int</span><span class="token punctuation">;</span>
<span class="token keyword">delete</span> ptr<span class="token punctuation">;</span>

<span class="token comment">//删去对象数组</span>
<span class="token keyword">int</span><span class="token operator">*</span> ptr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">delete</span><span class="token punctuation">[</span><span class="token punctuation">]</span> ptr<span class="token punctuation">;</span>
</code><button class="copy-code-button"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon lucide-copy"><rect x="8" y="8" width="14" height="14" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button></pre></div><div class="el-p"><p dir="auto">但在C++ 11，<code>delete</code>关键字可以用于disable特定函数，用于阻止某些特定操作。比如，我们就可以在类内disable复制构造函数，<code>delete</code>关键字也可以用于disable类外的函数。</p></div></div></div></div></div><div class="el-h2 heading-wrapper"><h2 data-heading="5. 友元函数和友元类" dir="auto" class="heading" id="5._友元函数和友元类"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>5. 友元函数和友元类</h2><div class="heading-children"><div class="el-p"><p dir="auto">C++提供<code>friend</code>关键字来声明友元函数和友元类。如：</p></div><div class="el-pre"><pre class="language-cpp" tabindex="0"><code data-line="0" class="language-cpp is-loaded"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>
<span class="token keyword">class</span> <span class="token class-name">person</span><span class="token punctuation">;</span>
<span class="token keyword">class</span> <span class="token class-name">dog</span><span class="token punctuation">;</span>
<span class="token keyword">void</span> <span class="token function">gym</span><span class="token punctuation">(</span>person<span class="token operator">&amp;</span> p<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">person</span> <span class="token punctuation">{</span>
	<span class="token keyword">int</span> height<span class="token punctuation">;</span>
	<span class="token keyword">int</span> weight<span class="token punctuation">;</span>
	<span class="token keyword">int</span> age<span class="token punctuation">;</span>
<span class="token keyword">public</span><span class="token operator">:</span>
	<span class="token keyword">friend</span> <span class="token keyword">class</span> <span class="token class-name">dog</span><span class="token punctuation">;</span>
	<span class="token keyword">friend</span> <span class="token keyword">void</span> <span class="token function">gym</span><span class="token punctuation">(</span>person<span class="token operator">&amp;</span> p<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">person</span><span class="token punctuation">(</span><span class="token keyword">int</span> h<span class="token punctuation">,</span> <span class="token keyword">int</span> w<span class="token punctuation">,</span> <span class="token keyword">int</span> a<span class="token punctuation">)</span> <span class="token operator">:</span><span class="token function">height</span><span class="token punctuation">(</span>h<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">weight</span><span class="token punctuation">(</span>w<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">age</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span> <span class="token punctuation">{</span>
		std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"A person object has been added."</span> <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token operator">~</span><span class="token function">person</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
	<span class="token keyword">void</span> <span class="token function">getter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token keyword">const</span> <span class="token punctuation">{</span>
		std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Height: "</span> <span class="token operator">&lt;&lt;</span> height <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl <span class="token operator">&lt;&lt;</span> <span class="token string">"Weight: "</span>
			<span class="token operator">&lt;&lt;</span> weight <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl <span class="token operator">&lt;&lt;</span> <span class="token string">"Age: "</span> <span class="token operator">&lt;&lt;</span> age <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl <span class="token operator">&lt;&lt;</span> <span class="token keyword">this</span> <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">class</span> <span class="token class-name">dog</span> <span class="token punctuation">{</span>
<span class="token keyword">public</span><span class="token operator">:</span>
	<span class="token keyword">void</span> <span class="token function">bark_person</span><span class="token punctuation">(</span>person<span class="token operator">&amp;</span> p<span class="token punctuation">)</span> <span class="token punctuation">{</span>
		p<span class="token punctuation">.</span>age <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
		p<span class="token punctuation">.</span>height <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
		p<span class="token punctuation">.</span>weight <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
		p<span class="token punctuation">.</span><span class="token function">getter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">void</span> <span class="token function">gym</span><span class="token punctuation">(</span>person<span class="token operator">&amp;</span> p<span class="token punctuation">)</span> <span class="token punctuation">{</span>
	p<span class="token punctuation">.</span>weight <span class="token operator">-=</span> <span class="token number">5</span><span class="token punctuation">;</span>
	p<span class="token punctuation">.</span><span class="token function">getter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	person <span class="token function">Pa</span><span class="token punctuation">(</span><span class="token number">160</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">22</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	person <span class="token function">Pb</span><span class="token punctuation">(</span><span class="token number">175</span><span class="token punctuation">,</span> <span class="token number">65</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	dog D<span class="token punctuation">;</span>
	D<span class="token punctuation">.</span><span class="token function">bark_person</span><span class="token punctuation">(</span>Pb<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">gym</span><span class="token punctuation">(</span>Pa<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code><button class="copy-code-button"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon lucide-copy"><rect x="8" y="8" width="14" height="14" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button></pre></div><div class="el-p"><p dir="auto">我们看到，友元函数和友元类可以任意操作<code>person</code>类中的任意成员，无论成员是什么属性。这样会破坏类的封装性，使得类内私有成员在友元函数和友元类下一览无余，而友元函数和友元类可能只是需要访问类内的某几个私有成员。我们可以用<code>getter</code>来代替友元对象，但也各有利弊。有些运算符的重载必须用到友元的功能，我们下节课会介绍。</p></div></div></div><div class="el-h2 heading-wrapper"><h2 data-heading="6. 重载运算符" dir="auto" class="heading" id="6._重载运算符"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>6. 重载运算符</h2><div class="heading-children"></div></div><div class="el-h2 heading-wrapper"><h2 data-heading="7. 普通继承及实现" dir="auto" class="heading" id="7._普通继承及实现"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>7. 普通继承及实现</h2><div class="heading-children"><div class="el-p"><p dir="auto">在C++程序设计课程中，我们就听到多C++面向对象的三大特征——封装、<strong>继承</strong>和多态。这节课，我们来简单了解一下继承。</p></div><div class="el-p"><p dir="auto">我们先试想一个场景，假如我们要开发一款游戏，主人公需要使用法杖来过五关斩六将。火之杖、水之杖、冰之杖、土之杖......这么多法杖我们开发时需要如下这样做么？</p></div><div class="el-pre"><pre class="language-cpp" tabindex="0"><code data-line="0" class="language-cpp is-loaded"><span class="token keyword">class</span> <span class="token class-name">fire_wand</span><span class="token punctuation">{</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">class</span> <span class="token class-name">water_wand</span><span class="token punctuation">{</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">class</span> <span class="token class-name">ice_wand</span><span class="token punctuation">{</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">class</span> <span class="token class-name">earth_wand</span><span class="token punctuation">{</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">class</span> <span class="token class-name">air_wand</span><span class="token punctuation">{</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
</code><button class="copy-code-button"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon lucide-copy"><rect x="8" y="8" width="14" height="14" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button></pre></div><div class="el-p"><p dir="auto">我们显然不会这也做，将法杖一个个枚举起来既延长了开发时长，也不利于后面的拓展。C++提供了子类对父类的继承派生，这就大大减少了我们的工作量。假如父类法杖有3个属性，加入继承后，子类只需要实现子类法杖的属性，有关父类的各种属性只需要继承就好了。代码如下：</p></div><div class="el-pre"><pre class="language-cpp" tabindex="0"><code data-line="0" class="language-cpp is-loaded"><span class="token keyword">class</span> <span class="token class-name">wand</span> <span class="token punctuation">{</span>
	<span class="token keyword">char</span> name<span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
	<span class="token keyword">char</span> element<span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
	<span class="token keyword">unsigned</span> <span class="token keyword">int</span> length<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">class</span> <span class="token class-name">fire_wand</span> <span class="token operator">:</span><span class="token base-clause"><span class="token keyword">public</span> <span class="token class-name">wand</span></span> <span class="token punctuation">{</span><span class="token comment">//子类fire_wand继承父类wand的所有成员变量</span>
    <span class="token keyword">unsigned</span> <span class="token keyword">char</span><span class="token operator">*</span> elem_paricle<span class="token punctuation">;</span>
    <span class="token keyword">int</span> particle_width<span class="token punctuation">;</span>
    <span class="token keyword">int</span> particle_height<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
</code><button class="copy-code-button"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon lucide-copy"><rect x="8" y="8" width="14" height="14" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button></pre></div><div class="el-p"><p dir="auto">接着我们来演示一下父子类的构造和析构函数。在此之前，我们需要注意：</p></div><div class="el-ol"><ol>
<li data-line="0" dir="auto">C++的继承是在创建子类成员对象前先创建父类的成员变量，也就是<strong>先调用父类的构造函数构造父类成员变量，之后再调用子类的构造函数</strong>。</li>
<li data-line="1" dir="auto">析构函数的调用顺序是<strong>先调用子类的析构函数，再调用父类析构函数</strong>。</li>
<li data-line="2" dir="auto"><strong>父类的指针是可以指向子类对象的</strong>。这在C++中也叫向上转型，这是由于子类对象包含了父类对象的所有成员。</li>
</ol></div><div class="el-pre"><pre class="language-cpp" tabindex="0"><code data-line="0" class="language-cpp is-loaded"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;cstring&gt;</span></span>
<span class="token keyword">class</span> <span class="token class-name">wand</span> <span class="token punctuation">{</span>
	std<span class="token double-colon punctuation">::</span>string name<span class="token punctuation">;</span>
	std<span class="token double-colon punctuation">::</span>string element<span class="token punctuation">;</span>
	<span class="token keyword">unsigned</span> length<span class="token punctuation">;</span>
<span class="token keyword">public</span><span class="token operator">:</span>
	<span class="token function">wand</span><span class="token punctuation">(</span>std<span class="token double-colon punctuation">::</span>string name_<span class="token punctuation">,</span> std<span class="token double-colon punctuation">::</span>string element_<span class="token punctuation">,</span> <span class="token keyword">unsigned</span> length_<span class="token punctuation">)</span> 
	<span class="token operator">:</span><span class="token function">name</span><span class="token punctuation">(</span>name_<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">element</span><span class="token punctuation">(</span>element_<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">length</span><span class="token punctuation">(</span>length_<span class="token punctuation">)</span> <span class="token punctuation">{</span>
		std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Father class constructor."</span> <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token operator">~</span><span class="token function">wand</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Father class deconstrutor."</span> <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">class</span> <span class="token class-name">fire_wand</span> <span class="token operator">:</span><span class="token base-clause"><span class="token keyword">public</span> <span class="token class-name">wand</span></span> <span class="token punctuation">{</span>
	<span class="token keyword">unsigned</span> <span class="token keyword">char</span><span class="token operator">*</span> elem_paricle<span class="token punctuation">;</span>
	<span class="token keyword">int</span> particle_width<span class="token punctuation">;</span>
	<span class="token keyword">int</span> particle_height<span class="token punctuation">;</span>
<span class="token keyword">public</span><span class="token operator">:</span>
	<span class="token function">fire_wand</span><span class="token punctuation">(</span>std<span class="token double-colon punctuation">::</span>string name_<span class="token punctuation">,</span> std<span class="token double-colon punctuation">::</span>string element_<span class="token punctuation">,</span> <span class="token keyword">unsigned</span> length_<span class="token punctuation">,</span>
		<span class="token keyword">unsigned</span> <span class="token keyword">char</span><span class="token operator">*</span> elem_particle_<span class="token punctuation">,</span> <span class="token keyword">int</span> parti_width_<span class="token punctuation">,</span> <span class="token keyword">int</span> parti_height_<span class="token punctuation">)</span>
		<span class="token operator">:</span><span class="token function">wand</span><span class="token punctuation">(</span>name_<span class="token punctuation">,</span> element_<span class="token punctuation">,</span> length_<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">elem_paricle</span><span class="token punctuation">(</span>elem_particle_<span class="token punctuation">)</span><span class="token punctuation">,</span>
		<span class="token function">particle_width</span><span class="token punctuation">(</span>parti_width_<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">particle_height</span><span class="token punctuation">(</span>parti_height_<span class="token punctuation">)</span> <span class="token punctuation">{</span>
		std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Child class constructor."</span> <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token operator">~</span><span class="token function">fire_wand</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Child class deconstructor"</span> <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">unsigned</span> <span class="token keyword">char</span> parti_data<span class="token punctuation">[</span><span class="token number">2</span> <span class="token operator">*</span> <span class="token number">35</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token number">0</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
	fire_wand <span class="token function">fw</span><span class="token punctuation">(</span><span class="token string">"Blacken blast"</span><span class="token punctuation">,</span> <span class="token string">"Fire"</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> parti_data<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">35</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	wand<span class="token operator">*</span> w <span class="token operator">=</span> <span class="token operator">&amp;</span>fw<span class="token punctuation">;</span><span class="token comment">//父类指针指向子类对象</span>
	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code><button class="copy-code-button"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon lucide-copy"><rect x="8" y="8" width="14" height="14" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button></pre></div></div></div><div class="el-h2 heading-wrapper"><h2 data-heading="8. 多态" dir="auto" class="heading" id="8._多态"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>8. 多态</h2><div class="heading-children"><div class="el-h3 heading-wrapper"><h3 data-heading="8.1 多态是什么？" dir="auto" class="heading" id="8.1_多态是什么？"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>8.1 多态是什么？</h3><div class="heading-children"><div class="el-blockquote"><blockquote dir="auto">
<p><em>polymorphism — providing a single interface to entities of different types. virtual functions provide dynamic (run-time) polymorphism through an interface provided by a base class. Overloaded functions and templates provide static (compile-time) polymorphism.</em>     </p>
</blockquote></div><div class="el-p"><p dir="auto">多态(Polymorphism)是面向对象编程(OOP)的一个核心概念。它允许同一个接口调用不同类型的对象，并根据对象的实际类型执行相应的操作。多态性可以分为两种类型：编译时多态性（静态多态性）和运行时多态性（动态多态性）。</p></div><div class="el-h5 heading-wrapper"><h5 data-heading="8.1.1 编译时多态性（静态多态性）" dir="auto" class="heading" id="8.1.1_编译时多态性（静态多态性）"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>8.1.1 编译时多态性（静态多态性）</h5><div class="heading-children"><div class="el-p"><p dir="auto">编译时多态性通过函数<strong>重载(Overload)</strong> 和模板实现。在编译期间，编译器根据函数的参数类型和数量来确定调用哪个函数。这种多态性在编译时就已经确定了函数调用的地址，因此称为早绑定（early binding）。</p></div><div class="el-p"><p dir="auto">重载函数虽然函数名是相同的，但由于不同的参数列表（不同的参数类型和数量）使得编译器能够区分这些函数。编译器在编译时根据传递的参数类型和数量来确定调用哪个重载函数。</p></div></div></div><div class="el-h5 heading-wrapper"><h5 data-heading="8.1.2 运行时多态性（动态多态性）" dir="auto" class="heading" id="8.1.2_运行时多态性（动态多态性）"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>8.1.2 运行时多态性（动态多态性）</h5><div class="heading-children"><div class="el-p"><p dir="auto">运行时多态性通过虚函数实现。虚函数允许子类<strong>重写(Override)</strong> 基类中的函数。当通过基类指针或引用调用虚函数时，实际调用的是子类的实现。这种多态性在运行时才确定函数调用的地址，因此称为晚绑定（late binding）。</p></div></div></div></div></div><div class="el-h3 heading-wrapper"><h3 data-heading="8.2 虚函数和`override`" dir="auto" class="heading" id="8.2_虚函数和`override`"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>8.2 虚函数和<code>override</code></h3><div class="heading-children"><div class="el-h5 heading-wrapper"><h5 data-heading="8.2.1 虚函数" dir="auto" class="heading" id="8.2.1_虚函数"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>8.2.1 虚函数</h5><div class="heading-children"><div class="el-p"><p dir="auto">虚函数实现了<strong>运行时(Run-time)</strong> 的多态性。函数的多态性就意味着父类对象可以调用子类对象中的成员函数。我们之前说过，因为子类对象包含父类的所有成员变量，所以父类对象的指针是可以指向子类对象的。这样父类的析构函数就必须是虚函数，不然就可能会造成内存泄漏。</p></div></div></div><div class="el-h5 heading-wrapper"><h5 data-heading="8.2.3 虚函数表(vtable)\*" dir="auto" class="heading" id="8.2.3_虚函数表(vtable)\*"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>8.2.3 虚函数表(vtable)*</h5><div class="heading-children"><div class="el-p"><p dir="auto">每个有虚函数的类都会有一个虚函数表，对象其实就是指向虚函数表的指针，编译时编译器只告诉了程序会在运行时查找虚函数表的对应函数。每个类都会有自己的虚函数表，所以当父类指针引用的是子类虚函数表时，自然调用的就是子类的函数。</p></div></div></div><div class="el-h5 heading-wrapper"><h5 data-heading="8.2.3 `override`重写关键字" dir="auto" class="heading" id="8.2.3_`override`重写关键字"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>8.2.3 <code>override</code>重写关键字</h5><div class="heading-children"><div class="el-p"><p dir="auto"><code>override</code>&nbsp;关键字用于在子类中重写基类中的虚函数。它告诉编译器该函数是用来重写基类中的虚函数的，如果没有正确匹配基类中的虚函数，编译器会报错。这有助于避免由于拼写错误或参数不匹配而导致的意外行为。</p></div><div class="el-p"><p dir="auto">我们举例说明：</p></div><div class="el-pre"><pre class="language-cpp" tabindex="0"><code data-line="0" class="language-cpp is-loaded"><span class="token keyword">class</span> <span class="token class-name">wand</span> <span class="token punctuation">{</span>
<span class="token keyword">public</span><span class="token operator">:</span>
	<span class="token function">wand</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span>
	<span class="token keyword">virtual</span> <span class="token operator">~</span><span class="token function">wand</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
	<span class="token keyword">virtual</span> <span class="token keyword">void</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">class</span> <span class="token class-name">fire_wand</span> <span class="token operator">:</span> <span class="token base-clause"><span class="token keyword">public</span> <span class="token class-name">wand</span></span> <span class="token punctuation">{</span>
<span class="token keyword">public</span><span class="token operator">:</span>
	<span class="token function">fire_wand</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span>
	<span class="token keyword">virtual</span> <span class="token operator">~</span><span class="token function">fire_wand</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token keyword">override</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
	<span class="token keyword">virtual</span> <span class="token keyword">void</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token keyword">override</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token comment">//标准写法</span>
	<span class="token keyword">virtual</span> <span class="token keyword">void</span> <span class="token function">teste</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token comment">//，函数名写错了，但不会报错</span>
	<span class="token keyword">virtual</span> <span class="token keyword">void</span> <span class="token function">teste</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token keyword">override</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token comment">//报错，因为父类中没有能够匹配的虚函数</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code><button class="copy-code-button"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon lucide-copy"><rect x="8" y="8" width="14" height="14" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button></pre></div></div></div><div class="el-h5 heading-wrapper"><h5 data-heading="8.2.4 例子" dir="auto" class="heading" id="8.2.4_例子"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>8.2.4 例子</h5><div class="heading-children"><div class="el-p"><p dir="auto">由于父类中并没有申请任何堆内存，我们就将父类析构函数的提示输出给注释掉。我们让父类的<code>test</code>函数输出一串字符串，让子类<code>test</code>函数申请一段堆内存。<strong>由于父类<code>test</code>是虚函数，所以子类中的<code>test</code>函数即使不加<code>virtual</code>关键字，编译器也会隐式地认为这个函数是虚函数</strong>。一旦父类对象调用了子类的<code>test</code>函数，就会动态申请一段堆内存。所以父类的析构函数必须也是虚函数，不然会造成内存泄漏。</p></div><div class="el-pre"><pre class="language-cpp" tabindex="0"><code data-line="0" class="language-cpp is-loaded"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;cstring&gt;</span></span>

<span class="token keyword">class</span> <span class="token class-name">wand</span> <span class="token punctuation">{</span>
	std<span class="token double-colon punctuation">::</span>string name<span class="token punctuation">;</span>
	std<span class="token double-colon punctuation">::</span>string element<span class="token punctuation">;</span>
	<span class="token keyword">unsigned</span> length<span class="token punctuation">;</span>
<span class="token keyword">public</span><span class="token operator">:</span>
	<span class="token function">wand</span><span class="token punctuation">(</span>std<span class="token double-colon punctuation">::</span>string name_<span class="token punctuation">,</span> std<span class="token double-colon punctuation">::</span>string element_<span class="token punctuation">,</span> <span class="token keyword">unsigned</span> length_<span class="token punctuation">)</span>
		<span class="token operator">:</span><span class="token function">name</span><span class="token punctuation">(</span>name_<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">element</span><span class="token punctuation">(</span>element_<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">length</span><span class="token punctuation">(</span>length_<span class="token punctuation">)</span> <span class="token punctuation">{</span>
		std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Father class constructor."</span> <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">virtual</span> <span class="token operator">~</span><span class="token function">wand</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// 虚析构函数</span>
		<span class="token comment">//std::cout &lt;&lt; "Father class destructor." &lt;&lt; std::endl;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">virtual</span> <span class="token keyword">void</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Base class"</span> <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">fire_wand</span> <span class="token operator">:</span> <span class="token base-clause"><span class="token keyword">public</span> <span class="token class-name">wand</span></span> <span class="token punctuation">{</span>
	<span class="token keyword">unsigned</span> <span class="token keyword">char</span><span class="token operator">*</span> elem_paricle<span class="token punctuation">;</span>
	<span class="token keyword">int</span> particle_width<span class="token punctuation">;</span>
	<span class="token keyword">int</span> particle_height<span class="token punctuation">;</span>
	fire_wand<span class="token operator">*</span> fw_ptr <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>
<span class="token keyword">public</span><span class="token operator">:</span>
	<span class="token function">fire_wand</span><span class="token punctuation">(</span>std<span class="token double-colon punctuation">::</span>string name_<span class="token punctuation">,</span> std<span class="token double-colon punctuation">::</span>string element_<span class="token punctuation">,</span> <span class="token keyword">unsigned</span> length_<span class="token punctuation">,</span>
		<span class="token keyword">unsigned</span> <span class="token keyword">char</span><span class="token operator">*</span> elem_particle_<span class="token punctuation">,</span> <span class="token keyword">int</span> parti_width_<span class="token punctuation">,</span> <span class="token keyword">int</span> parti_height_<span class="token punctuation">)</span>
		<span class="token operator">:</span> <span class="token function">wand</span><span class="token punctuation">(</span>name_<span class="token punctuation">,</span> element_<span class="token punctuation">,</span> length_<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">elem_paricle</span><span class="token punctuation">(</span>elem_particle_<span class="token punctuation">)</span><span class="token punctuation">,</span>
		<span class="token function">particle_width</span><span class="token punctuation">(</span>parti_width_<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">particle_height</span><span class="token punctuation">(</span>parti_height_<span class="token punctuation">)</span> <span class="token punctuation">{</span>
		std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Child class constructor."</span> <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">virtual</span> <span class="token operator">~</span><span class="token function">fire_wand</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token keyword">override</span> <span class="token punctuation">{</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>fw_ptr <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Child class destructor"</span> <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		<span class="token keyword">else</span> <span class="token punctuation">{</span>
			<span class="token keyword">delete</span> fw_ptr<span class="token punctuation">;</span>
			std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Heap space freed."</span> <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">void</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
		<span class="token keyword">unsigned</span> <span class="token keyword">char</span> parti_data<span class="token punctuation">[</span><span class="token number">2</span> <span class="token operator">*</span> <span class="token number">35</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token number">0</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
		fw_ptr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">fire_wand</span><span class="token punctuation">(</span><span class="token string">"Blacken blast"</span><span class="token punctuation">,</span> <span class="token string">"Fire"</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> parti_data<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">35</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Derived class"</span> <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">unsigned</span> <span class="token keyword">char</span> parti_data<span class="token punctuation">[</span><span class="token number">2</span> <span class="token operator">*</span> <span class="token number">35</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token number">0</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
	wand<span class="token operator">*</span> wand_ptr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">fire_wand</span><span class="token punctuation">(</span><span class="token string">"Blacken blast"</span><span class="token punctuation">,</span> <span class="token string">"Fire"</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> parti_data<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">35</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	wand_ptr<span class="token operator">-&gt;</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">delete</span> wand_ptr<span class="token punctuation">;</span>
	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code><button class="copy-code-button"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon lucide-copy"><rect x="8" y="8" width="14" height="14" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button></pre></div><div class="el-p"><p dir="auto">代码执行后结果如下：</p></div><div class="el-pre"><pre class="language-shell" tabindex="0"><code data-line="0" class="language-shell is-loaded">Father class constructor.
Child class constructor.
Father class constructor.
Child class constructor.
Derived class
Child class destructor
Heap space freed.
</code><button class="copy-code-button"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon lucide-copy"><rect x="8" y="8" width="14" height="14" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button></pre></div></div></div><div class="el-h5 heading-wrapper"><h5 data-heading="8.2.5 注意事项" dir="auto" class="heading" id="8.2.5_注意事项"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>8.2.5 注意事项</h5><div class="heading-children"><div class="el-p"><p dir="auto">该函数为虚函数：父类指针调用的是子类的成员函数。<br>
该函数不是虚函数：父类指针调用的是父类的成员函数。</p></div></div></div></div></div></div></div><div class="el-h2 heading-wrapper"><h2 data-heading="9. 静态成员变量和静态成员函数" dir="auto" class="heading" id="9._静态成员变量和静态成员函数"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>9. 静态成员变量和静态成员函数</h2><div class="heading-children"><div class="el-h3 heading-wrapper"><h3 data-heading="9.1 静态成员变量" dir="auto" class="heading" id="9.1_静态成员变量"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>9.1 静态成员变量</h3><div class="heading-children"><div class="el-p"><p dir="auto">之前说过，如果静态变量未初始化就会载入<code>bss.</code>段并在程序加载时初始化为0。但是<strong>静态成员变量必须在类外进行初始化</strong>。这是因为静态成员变量属于整个类。无论创建多少个对象，静态成员变量在内存中也只有一份拷贝，存储在静态存储区中，而不在堆栈区。在类外初始化可以避免静态成员变量多次初始化，保证了静态成员变量的唯一性。（不能用构造函数初始化）</p></div><div class="el-p"><p dir="auto">而且由于静态成员变量为整个类所共享的特性，所以它<strong>可以通过类名来调用</strong>，当然<strong>也能用类对象调用</strong>。创建一个静态成员变量如下所示：</p></div><div class="el-pre"><pre class="language-cpp" tabindex="0"><code data-line="0" class="language-cpp is-loaded"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>

<span class="token keyword">class</span> <span class="token class-name">Test</span> <span class="token punctuation">{</span>
<span class="token keyword">public</span><span class="token operator">:</span>
	<span class="token keyword">static</span> <span class="token keyword">int</span> var<span class="token punctuation">;</span>
	<span class="token keyword">static</span> <span class="token keyword">const</span> <span class="token keyword">int</span> vari <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span><span class="token comment">//可以</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> Test<span class="token double-colon punctuation">::</span>var <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>

<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	Test t<span class="token punctuation">;</span>
	std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> Test<span class="token double-colon punctuation">::</span>var <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span>
	std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> t<span class="token punctuation">.</span>var <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span>
	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code><button class="copy-code-button"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon lucide-copy"><rect x="8" y="8" width="14" height="14" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button></pre></div></div></div><div class="el-h3 heading-wrapper"><h3 data-heading="9.2 静态成员函数" dir="auto" class="heading" id="9.2_静态成员函数"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>9.2 静态成员函数</h3><div class="heading-children"><div class="el-p"><p dir="auto">静态成员函数和静态成员变量一样，可以用类名调用<code>Test::static_func();</code>，同样可以用类对象调用。静态成员函数只能访问静态成员变量，由于没有<code>this</code>指针，所以也不能访问非静态成员变量。<strong>也由于静态的特性，使得静态成员函数不需要生成对象就可调用。</strong></p></div><div class="el-p"><p dir="auto">虽然静态成员函数和普通成员函数都可以访问静态成员变量，但是由于静态成员函数可以在不创建类对象的情况下被调用，所以多用静态成员函数调用静态成员变量。</p></div><div class="el-p"><p dir="auto">代码示例：</p></div><div class="el-pre"><pre class="language-cpp" tabindex="0"><code data-line="0" class="language-cpp is-loaded"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>

<span class="token keyword">class</span> <span class="token class-name">Test</span> <span class="token punctuation">{</span>
	<span class="token keyword">static</span> <span class="token keyword">int</span> var<span class="token punctuation">;</span>
<span class="token keyword">public</span><span class="token operator">:</span>
	<span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">getter</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> var <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> Test<span class="token double-colon punctuation">::</span>var <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>

<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token class-name">Test</span><span class="token double-colon punctuation">::</span><span class="token function">getter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//没有创建实例对象。</span>
	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code><button class="copy-code-button"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon lucide-copy"><rect x="8" y="8" width="14" height="14" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button></pre></div></div></div></div></div><div class="el-h2 heading-wrapper"><h2 data-heading="10. 纯虚函数" dir="auto" class="heading" id="10._纯虚函数"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>10. 纯虚函数</h2><div class="heading-children"><div class="el-p"><p dir="auto">父类子类继承中，父类唯一的作用就是被子类继承。父类不产生任何对象，父类的虚函数实现过程也是没有意义的，唯一的作用就是为子类重写。为了不让这些无意义的代码占用内存空间，纯虚函数的语法就诞生了。</p></div><div class="el-p"><p dir="auto">纯虚函数是一种特殊的虚函数，它没有实现，只提供接口。纯虚函数的语法是将函数声明为&nbsp;<code>= 0</code>。包含纯虚函数的类称为抽象类，不能实例化对象。抽象类的主要作用是作为其他类的基类，提供一个接口框架。</p></div><div class="el-p"><p dir="auto">在法杖的例子中，我们用<code>virtual void test() = 0;</code>将<code>test()</code>函数定义成纯虚函数，这样，这条语句就不会产生任何的函数对象，编译器会忽略之。由于子类还是需要父类构造函数和析构函数，所以构造函数和析构函数不能声明成纯虚函数。</p></div><div class="el-pre"><pre class="language-cpp" tabindex="0"><code data-line="0" class="language-cpp is-loaded"><span class="token keyword">class</span> <span class="token class-name">wand</span> <span class="token punctuation">{</span>
	std<span class="token double-colon punctuation">::</span>string name<span class="token punctuation">;</span>
	std<span class="token double-colon punctuation">::</span>string element<span class="token punctuation">;</span>
	<span class="token keyword">unsigned</span> length<span class="token punctuation">;</span>
<span class="token keyword">public</span><span class="token operator">:</span>
	<span class="token function">wand</span><span class="token punctuation">(</span>std<span class="token double-colon punctuation">::</span>string name_<span class="token punctuation">,</span> std<span class="token double-colon punctuation">::</span>string element_<span class="token punctuation">,</span> <span class="token keyword">unsigned</span> length_<span class="token punctuation">)</span>
		<span class="token operator">:</span><span class="token function">name</span><span class="token punctuation">(</span>name_<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">element</span><span class="token punctuation">(</span>element_<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">length</span><span class="token punctuation">(</span>length_<span class="token punctuation">)</span> <span class="token punctuation">{</span>
		std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Father class constructor."</span> <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">virtual</span> <span class="token operator">~</span><span class="token function">wand</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// 虚析构函数</span>
		std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Father class destructor."</span> <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">virtual</span> <span class="token keyword">void</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code><button class="copy-code-button"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon lucide-copy"><rect x="8" y="8" width="14" height="14" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button></pre></div><div class="el-ul"><ul>
<li data-line="0" dir="auto"><strong>纯虚函数</strong>：<code>virtual void test() = 0;</code>&nbsp;声明了一个纯虚函数，这意味着&nbsp;<code>wand</code>&nbsp;类是一个抽象类，不能实例化对象。</li>
<li data-line="1" dir="auto"><div class="list-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div><strong>抽象类</strong>：由于&nbsp;<code>wand</code>&nbsp;类包含纯虚函数，它被认为是抽象类，不能直接创建&nbsp;<code>wand</code>&nbsp;类的对象。
<ul>
<li data-line="2" dir="auto">在上面的例子中，由于类内包含纯虚函数<code>test()</code>，所以下面的语句都会是错误的。</li>
</ul>
</li>
</ul></div><div class="el-pre"><pre class="language-cpp" tabindex="0"><code data-line="0" class="language-cpp is-loaded">	  wand<span class="token operator">*</span> wand_ptr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">fire_wand</span><span class="token punctuation">(</span><span class="token string">"Blacken blast"</span><span class="token punctuation">,</span> <span class="token string">"Fire"</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
	  wand<span class="token operator">*</span> <span class="token function">wand_ptr</span><span class="token punctuation">(</span><span class="token string">"Blacken blast"</span><span class="token punctuation">,</span> <span class="token string">"Fire"</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code><button class="copy-code-button"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon lucide-copy"><rect x="8" y="8" width="14" height="14" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button></pre></div><div class="el-ul"><ul>
<li data-line="0" dir="auto"><strong>实现纯虚函数</strong>：<code>fire_wand</code>&nbsp;类实现了&nbsp;<code>wand</code>&nbsp;类中的纯虚函数&nbsp;<code>test()</code>，因此&nbsp;<code>fire_wand</code>&nbsp;类可以实例化对象。</li>
</ul></div><div class="mod-footer mod-ui"></div></div></div></div></div></div><div class="sidebar-right sidebar"><div class="sidebar-handle"></div><div class="sidebar-topbar"><div class="topbar-content"></div><div class="clickable-icon sidebar-collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="100%" height="100%" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" class="svg-icon"><path d="M21 3H3C1.89543 3 1 3.89543 1 5V19C1 20.1046 1.89543 21 3 21H21C22.1046 21 23 20.1046 23 19V5C23 3.89543 22.1046 3 21 3Z"></path><path d="M10 4V20"></path><path d="M4 7H7"></path><path d="M4 10H7"></path><path d="M4 13H7"></path></svg></div></div><div class="sidebar-content"><div class="graph-view-wrapper"><div class="sidebar-section-header">Interactive Graph</div><div class="graph-view-placeholder">
		<div class="graph-view-container">
			<div class="graph-icon graph-expand" role="button" aria-label="Expand" data-tooltip-position="top"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon"><line x1="7" y1="17" x2="17" y2="7"></line><polyline points="7 7 17 7 17 17"></polyline></svg></div>
			<canvas id="graph-canvas" class="hide" width="512px" height="512px"></canvas>
		</div>
		</div></div><div class="tree-container mod-root nav-folder tree-item outline-tree" data-depth="0"><div class="tree-header"><span class="sidebar-section-header">Table Of Contents</span><button class="clickable-icon collapse-tree-button" aria-label="Collapse All"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></svg></button></div><div class="tree-scroll-area tree-item-children nav-folder-children"><div class="tree-item mod-tree-folder nav-folder mod-collapsible is-collapsed" style="display: none;"></div><div class="tree-item" data-depth="1"><a class="tree-link" href="c-plus-plus\part2：class-(abandoned).html#Part2：Class (Abandoned)"><div class="tree-item-contents heading-link" heading-name="Part2：Class (Abandoned)"><span class="tree-item-title">Part2：Class (Abandoned)</span></div></a><div class="tree-item-children nav-folder-children"><div class="tree-item" data-depth="2"><a class="tree-link" href="c-plus-plus\part2：class-(abandoned).html#1.`struct`和`class`"><div class="tree-item-contents heading-link" heading-name="1.`struct`和`class`"><span class="tree-item-title">1.<code>struct</code>和<code>class</code></span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item mod-collapsible" data-depth="2"><a class="tree-link" href="c-plus-plus\part2：class-(abandoned).html#2._构造函数和析构函数"><div class="tree-item-contents heading-link" heading-name="2. 构造函数和析构函数"><div class="collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div><span class="tree-item-title">2. 
构造函数和析构函数
</span></div></a><div class="tree-item-children nav-folder-children"><div class="tree-item mod-collapsible" data-depth="3"><a class="tree-link" href="c-plus-plus\part2：class-(abandoned).html#2.1_构造函数"><div class="tree-item-contents heading-link" heading-name="2.1 构造函数"><div class="collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div><span class="tree-item-title">2.1 构造函数</span></div></a><div class="tree-item-children nav-folder-children"><div class="tree-item" data-depth="5"><a class="tree-link" href="c-plus-plus\part2：class-(abandoned).html#2.1.1_构造函数的种类"><div class="tree-item-contents heading-link" heading-name="2.1.1 构造函数的种类"><span class="tree-item-title">2.1.1 构造函数的种类</span></div></a><div class="tree-item-children nav-folder-children"></div></div></div></div><div class="tree-item" data-depth="3"><a class="tree-link" href="c-plus-plus\part2：class-(abandoned).html#2.2_析构函数"><div class="tree-item-contents heading-link" heading-name="2.2 析构函数"><span class="tree-item-title">2.2 析构函数</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item" data-depth="3"><a class="tree-link" href="c-plus-plus\part2：class-(abandoned).html#2.3_面向对象的”把大象放冰箱“操作"><div class="tree-item-contents heading-link" heading-name="2.3 面向对象的”把大象放冰箱“操作"><span class="tree-item-title">2.3 面向对象的”把大象放冰箱“操作</span></div></a><div class="tree-item-children nav-folder-children"></div></div></div></div><div class="tree-item mod-collapsible" data-depth="2"><a class="tree-link" href="c-plus-plus\part2：class-(abandoned).html#3._`this`，常成员函数和常对象"><div class="tree-item-contents heading-link" heading-name="3. `this`，常成员函数和常对象"><div class="collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div><span class="tree-item-title">3. 
this，常成员函数和常对象
</span></div></a><div class="tree-item-children nav-folder-children"><div class="tree-item" data-depth="3"><a class="tree-link" href="c-plus-plus\part2：class-(abandoned).html#3.1_`this`"><div class="tree-item-contents heading-link" heading-name="3.1 `this`"><span class="tree-item-title">3.1 <code>this</code></span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item" data-depth="3"><a class="tree-link" href="c-plus-plus\part2：class-(abandoned).html#3.2_常成员函数"><div class="tree-item-contents heading-link" heading-name="3.2 常成员函数"><span class="tree-item-title">3.2 常成员函数</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item" data-depth="3"><a class="tree-link" href="c-plus-plus\part2：class-(abandoned).html#3.3_常对象"><div class="tree-item-contents heading-link" heading-name="3.3 常对象"><span class="tree-item-title">3.3 常对象</span></div></a><div class="tree-item-children nav-folder-children"></div></div></div></div><div class="tree-item mod-collapsible" data-depth="2"><a class="tree-link" href="c-plus-plus\part2：class-(abandoned).html#4._`inline`,_`mutable`,_`default`,_`delete`关键字"><div class="tree-item-contents heading-link" heading-name="4. `inline`, `mutable`, `default`, `delete`关键字"><div class="collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div><span class="tree-item-title">4. 
inline, mutable, default, delete关键字
</span></div></a><div class="tree-item-children nav-folder-children"><div class="tree-item" data-depth="3"><a class="tree-link" href="c-plus-plus\part2：class-(abandoned).html#4.1_内联函数"><div class="tree-item-contents heading-link" heading-name="4.1 内联函数"><span class="tree-item-title">4.1 内联函数</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item" data-depth="3"><a class="tree-link" href="c-plus-plus\part2：class-(abandoned).html#4.2_`mutable`关键字"><div class="tree-item-contents heading-link" heading-name="4.2 `mutable`关键字"><span class="tree-item-title">4.2 <code>mutable</code>关键字</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item" data-depth="3"><a class="tree-link" href="c-plus-plus\part2：class-(abandoned).html#4.3_`default`关键字"><div class="tree-item-contents heading-link" heading-name="4.3 `default`关键字"><span class="tree-item-title">4.3 <code>default</code>关键字</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item" data-depth="3"><a class="tree-link" href="c-plus-plus\part2：class-(abandoned).html#4.4_`delete`关键字"><div class="tree-item-contents heading-link" heading-name="4.4 `delete`关键字"><span class="tree-item-title">4.4 <code>delete</code>关键字</span></div></a><div class="tree-item-children nav-folder-children"></div></div></div></div><div class="tree-item" data-depth="2"><a class="tree-link" href="c-plus-plus\part2：class-(abandoned).html#5._友元函数和友元类"><div class="tree-item-contents heading-link" heading-name="5. 友元函数和友元类"><span class="tree-item-title">5. 
友元函数和友元类
</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item" data-depth="2"><a class="tree-link" href="c-plus-plus\part2：class-(abandoned).html#6._重载运算符"><div class="tree-item-contents heading-link" heading-name="6. 重载运算符"><span class="tree-item-title">6. 
重载运算符
</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item" data-depth="2"><a class="tree-link" href="c-plus-plus\part2：class-(abandoned).html#7._普通继承及实现"><div class="tree-item-contents heading-link" heading-name="7. 普通继承及实现"><span class="tree-item-title">7. 
普通继承及实现
</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item mod-collapsible" data-depth="2"><a class="tree-link" href="c-plus-plus\part2：class-(abandoned).html#8._多态"><div class="tree-item-contents heading-link" heading-name="8. 多态"><div class="collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div><span class="tree-item-title">8. 
多态
</span></div></a><div class="tree-item-children nav-folder-children"><div class="tree-item mod-collapsible" data-depth="3"><a class="tree-link" href="c-plus-plus\part2：class-(abandoned).html#8.1_多态是什么？"><div class="tree-item-contents heading-link" heading-name="8.1 多态是什么？"><div class="collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div><span class="tree-item-title">8.1 多态是什么？</span></div></a><div class="tree-item-children nav-folder-children"><div class="tree-item" data-depth="5"><a class="tree-link" href="c-plus-plus\part2：class-(abandoned).html#8.1.1_编译时多态性（静态多态性）"><div class="tree-item-contents heading-link" heading-name="8.1.1 编译时多态性（静态多态性）"><span class="tree-item-title">8.1.1 编译时多态性（静态多态性）</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item" data-depth="5"><a class="tree-link" href="c-plus-plus\part2：class-(abandoned).html#8.1.2_运行时多态性（动态多态性）"><div class="tree-item-contents heading-link" heading-name="8.1.2 运行时多态性（动态多态性）"><span class="tree-item-title">8.1.2 运行时多态性（动态多态性）</span></div></a><div class="tree-item-children nav-folder-children"></div></div></div></div><div class="tree-item mod-collapsible" data-depth="3"><a class="tree-link" href="c-plus-plus\part2：class-(abandoned).html#8.2_虚函数和`override`"><div class="tree-item-contents heading-link" heading-name="8.2 虚函数和`override`"><div class="collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div><span class="tree-item-title">8.2 虚函数和<code>override</code></span></div></a><div class="tree-item-children nav-folder-children"><div class="tree-item" data-depth="5"><a class="tree-link" href="c-plus-plus\part2：class-(abandoned).html#8.2.1_虚函数"><div class="tree-item-contents heading-link" heading-name="8.2.1 虚函数"><span class="tree-item-title">8.2.1 虚函数</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item" data-depth="5"><a class="tree-link" href="c-plus-plus\part2：class-(abandoned).html#8.2.3_虚函数表(vtable)\*"><div class="tree-item-contents heading-link" heading-name="8.2.3 虚函数表(vtable)\*"><span class="tree-item-title">8.2.3 虚函数表(vtable)*</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item" data-depth="5"><a class="tree-link" href="c-plus-plus\part2：class-(abandoned).html#8.2.3_`override`重写关键字"><div class="tree-item-contents heading-link" heading-name="8.2.3 `override`重写关键字"><span class="tree-item-title">8.2.3 <code>override</code>重写关键字</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item" data-depth="5"><a class="tree-link" href="c-plus-plus\part2：class-(abandoned).html#8.2.4_例子"><div class="tree-item-contents heading-link" heading-name="8.2.4 例子"><span class="tree-item-title">8.2.4 例子</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item" data-depth="5"><a class="tree-link" href="c-plus-plus\part2：class-(abandoned).html#8.2.5_注意事项"><div class="tree-item-contents heading-link" heading-name="8.2.5 注意事项"><span class="tree-item-title">8.2.5 注意事项</span></div></a><div class="tree-item-children nav-folder-children"></div></div></div></div></div></div><div class="tree-item mod-collapsible" data-depth="2"><a class="tree-link" href="c-plus-plus\part2：class-(abandoned).html#9._静态成员变量和静态成员函数"><div class="tree-item-contents heading-link" heading-name="9. 静态成员变量和静态成员函数"><div class="collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div><span class="tree-item-title">9. 
静态成员变量和静态成员函数
</span></div></a><div class="tree-item-children nav-folder-children"><div class="tree-item" data-depth="3"><a class="tree-link" href="c-plus-plus\part2：class-(abandoned).html#9.1_静态成员变量"><div class="tree-item-contents heading-link" heading-name="9.1 静态成员变量"><span class="tree-item-title">9.1 静态成员变量</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item" data-depth="3"><a class="tree-link" href="c-plus-plus\part2：class-(abandoned).html#9.2_静态成员函数"><div class="tree-item-contents heading-link" heading-name="9.2 静态成员函数"><span class="tree-item-title">9.2 静态成员函数</span></div></a><div class="tree-item-children nav-folder-children"></div></div></div></div><div class="tree-item" data-depth="2"><a class="tree-link" href="c-plus-plus\part2：class-(abandoned).html#10._纯虚函数"><div class="tree-item-contents heading-link" heading-name="10. 纯虚函数"><span class="tree-item-title">10. 
纯虚函数
</span></div></a><div class="tree-item-children nav-folder-children"></div></div></div></div></div></div></div><script defer="">let rs = document.querySelector(".sidebar-right"); rs.classList.add("is-collapsed"); if (window.innerWidth > 768) rs.classList.remove("is-collapsed"); rs.style.setProperty("--sidebar-width", localStorage.getItem("sidebar-right-width"));</script></div></div></body></html>