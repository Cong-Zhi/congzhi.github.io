<!DOCTYPE html> <html><head>
		<title>Lecture 4 - Viewing (NC)</title>
		<base href="../">
		<meta id="root-path" root-path="../">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes, minimum-scale=1.0, maximum-scale=5.0">
		<meta charset="UTF-8">
		<meta name="description" content="Congzhi's Notes Vault - Lecture 4 - Viewing (NC)">
		<meta property="og:title" content="Lecture 4 - Viewing (NC)">
		<meta property="og:description" content="Congzhi's Notes Vault - Lecture 4 - Viewing (NC)">
		<meta property="og:type" content="website">
		<meta property="og:url" content="https://congzhi.wiki/cs50-sql/lecture-4-viewing-(nc).html">
		<meta property="og:image" content="https://cs50.harvard.edu/sql/2024/notes/4/images/4.jpg">
		<meta property="og:site_name" content="Congzhi's Notes Vault">
		<meta name="author" content="Congzhi"><link rel="alternate" type="application/rss+xml" title="RSS Feed" href="https://congzhi.wiki/lib/rss.xml"><script async="" id="webpage-script" src="lib/scripts/webpage.js" onload="this.onload=null;this.setAttribute(&quot;loaded&quot;, &quot;true&quot;)"></script><script type="module" async="" id="graph-view-script" src="lib/scripts/graph-view.js"></script><script async="" id="graph-wasm-script" src="lib/scripts/graph-wasm.js" onload="this.onload=null;this.setAttribute(&quot;loaded&quot;, &quot;true&quot;)"></script><script async="" id="graph-render-worker-script" src="lib/scripts/graph-render-worker.js" onload="this.onload=null;this.setAttribute(&quot;loaded&quot;, &quot;true&quot;)"></script><script async="" id="tinycolor-script" src="lib/scripts/tinycolor.js" onload="this.onload=null;this.setAttribute(&quot;loaded&quot;, &quot;true&quot;)"></script><script async="" id="pixi-script" src="https://cdnjs.cloudflare.com/ajax/libs/pixi.js/7.4.0/pixi.min.js" onload="this.onload=null;this.setAttribute(&quot;loaded&quot;, &quot;true&quot;)"></script><script async="" id="minisearch-script" src="https://cdn.jsdelivr.net/npm/minisearch@6.3.0/dist/umd/index.min.js" onload="this.onload=null;this.setAttribute(&quot;loaded&quot;, &quot;true&quot;)"></script><link rel="icon" href="lib/media/favicon.png"><script async="" id="graph-data-script" src="lib/scripts/graph-data.js" onload="this.onload=null;this.setAttribute(&quot;loaded&quot;, &quot;true&quot;)"></script><style>body{--line-width:40em;--line-width-adaptive:40em;--file-line-width:40em;--sidebar-width:min(20em, 80vw);--collapse-arrow-size:11px;--tree-horizontal-spacing:0.6em;--tree-vertical-spacing:0.6em;--sidebar-margin:12px}.sidebar{height:100%;min-width:calc(var(--sidebar-width) + var(--divider-width-hover));max-width:calc(var(--sidebar-width) + var(--divider-width-hover));font-size:14px;z-index:10;position:relative;overflow:hidden;transition:min-width ease-in-out,max-width ease-in-out;transition-duration:.2s;contain:size}.sidebar-left{left:0}.sidebar-right{right:0}.sidebar.is-collapsed{min-width:0;max-width:0}body.floating-sidebars .sidebar{position:absolute}.sidebar-content{height:100%;min-width:calc(var(--sidebar-width) - var(--divider-width-hover));top:0;padding:var(--sidebar-margin);padding-top:4em;line-height:var(--line-height-tight);background-color:var(--background-secondary);transition:background-color,border-right,border-left,box-shadow;transition-duration:var(--color-fade-speed);transition-timing-function:ease-in-out;position:absolute;display:flex;flex-direction:column}.sidebar:not(.is-collapsed) .sidebar-content{min-width:calc(max(100%,var(--sidebar-width)) - 3px);max-width:calc(max(100%,var(--sidebar-width)) - 3px)}.sidebar-left .sidebar-content{left:0;border-top-right-radius:var(--radius-l);border-bottom-right-radius:var(--radius-l)}.sidebar-right .sidebar-content{right:0;border-top-left-radius:var(--radius-l);border-bottom-left-radius:var(--radius-l)}.sidebar:has(.sidebar-content:empty):has(.topbar-content:empty){display:none}.sidebar-topbar{height:2em;width:var(--sidebar-width);top:var(--sidebar-margin);padding-inline:var(--sidebar-margin);z-index:1;position:fixed;display:flex;align-items:center;transition:width ease-in-out;transition-duration:inherit}.sidebar.is-collapsed .sidebar-topbar{width:calc(2.3em + var(--sidebar-margin) * 2)}.sidebar .sidebar-topbar.is-collapsed{width:0}.sidebar-left .sidebar-topbar{left:0}.sidebar-right .sidebar-topbar{right:0}.topbar-content{overflow:hidden;overflow:clip;width:100%;height:100%;display:flex;align-items:center;transition:inherit}.sidebar.is-collapsed .topbar-content{width:0;transition:inherit}.clickable-icon.sidebar-collapse-icon{background-color:transparent;color:var(--icon-color-focused);padding:0!important;margin:0!important;height:100%!important;width:2.3em!important;margin-inline:0.14em!important;position:absolute}.sidebar-left .clickable-icon.sidebar-collapse-icon{transform:rotateY(180deg);right:var(--sidebar-margin)}.sidebar-right .clickable-icon.sidebar-collapse-icon{transform:rotateY(180deg);left:var(--sidebar-margin)}.clickable-icon.sidebar-collapse-icon svg.svg-icon{width:100%;height:100%}.sidebar-section-header{margin:0 0 1em 0;text-transform:uppercase;letter-spacing:.06em;font-weight:600}body{transition:background-color var(--color-fade-speed) ease-in-out}.webpage-container{display:flex;flex-direction:row;height:100%;width:100%;align-items:stretch;justify-content:center}.document-container{opacity:1;flex-basis:100%;max-width:100%;width:100%;height:100%;display:flex;flex-direction:column;align-items:center;transition:opacity .2s ease-in-out;contain:inline-size}.hide{opacity:0;transition:opacity .2s ease-in-out}.document-container>.markdown-preview-view{margin:var(--sidebar-margin);margin-bottom:0;width:100%;width:-webkit-fill-available;width:-moz-available;width:fill-available;background-color:var(--background-primary);transition:background-color var(--color-fade-speed) ease-in-out;border-top-right-radius:var(--window-radius,var(--radius-m));border-top-left-radius:var(--window-radius,var(--radius-m));overflow-x:hidden!important;overflow-y:auto!important;display:flex!important;flex-direction:column!important;align-items:center!important;contain:inline-size}.document-container>.markdown-preview-view>.markdown-preview-sizer{padding-bottom:80vh!important;width:100%!important;max-width:var(--line-width)!important;flex-basis:var(--line-width)!important;transition:background-color var(--color-fade-speed) ease-in-out;contain:inline-size}.markdown-rendered img:not([width]),.view-content img:not([width]){max-width:100%;outline:0}.document-container>.view-content.embed{display:flex;padding:1em;height:100%;width:100%;align-items:center;justify-content:center}.document-container>.view-content.embed>*{max-width:100%;max-height:100%;object-fit:contain}:has(> :is(.math,table)){overflow-x:auto!important}.document-container>.view-content{overflow-x:auto;contain:content;padding:0;margin:0;height:100%}.scroll-highlight{position:absolute;width:100%;height:100%;pointer-events:none;z-index:1000;background-color:hsla(var(--color-accent-hsl),.25);opacity:0;padding:1em;inset:50%;translate:-50% -50%;border-radius:var(--radius-s)}</style><script defer="">async function loadIncludes(){if("file:"!=location.protocol){let e=document.querySelectorAll("include");for(let t=0;t<e.length;t++){let o=e[t],l=o.getAttribute("src");try{const e=await fetch(l);if(!e.ok){console.log("Could not include file: "+l),o?.remove();continue}let t=await e.text(),n=document.createRange().createContextualFragment(t),i=Array.from(n.children);for(let e of i)e.classList.add("hide"),e.style.transition="opacity 0.5s ease-in-out",setTimeout((()=>{e.classList.remove("hide")}),10);o.before(n),o.remove(),console.log("Included file: "+l)}catch(e){o?.remove(),console.log("Could not include file: "+l,e);continue}}}else{if(document.querySelectorAll("include").length>0){var e=document.createElement("div");e.id="error",e.textContent="Web server exports must be hosted on an http / web server to be viewed correctly.",e.style.position="fixed",e.style.top="50%",e.style.left="50%",e.style.transform="translate(-50%, -50%)",e.style.fontSize="1.5em",e.style.fontWeight="bold",e.style.textAlign="center",document.body.appendChild(e),document.querySelector(".document-container")?.classList.remove("hide")}}}document.addEventListener("DOMContentLoaded",(()=>{loadIncludes()}));let isFileProtocol="file:"==location.protocol;function waitLoadScripts(e,t){let o=e.map((e=>document.getElementById(e+"-script"))),l=0;!function e(){let n=o[l];l++,n&&"true"!=n.getAttribute("loaded")||l<o.length&&e(),l<o.length?n.addEventListener("load",e):t()}()}</script><link rel="stylesheet" href="lib/styles/obsidian.css"><link rel="preload" href="lib/styles/other-plugins.css" as="style" onload="this.onload=null;this.rel='stylesheet'"><noscript><link rel="stylesheet" href="lib/styles/other-plugins.css"></noscript><link rel="preload" href="lib/styles/global-variable-styles.css" as="style" onload="this.onload=null;this.rel='stylesheet'"><noscript><link rel="stylesheet" href="lib/styles/global-variable-styles.css"></noscript><link rel="preload" href="lib/styles/main-styles.css" as="style" onload="this.onload=null;this.rel='stylesheet'"><noscript><link rel="stylesheet" href="lib/styles/main-styles.css"></noscript></head><body class="publish css-settings-manager theme-light show-inline-title show-ribbon"><script defer="">let theme=localStorage.getItem("theme")||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light");"dark"==theme?(document.body.classList.add("theme-dark"),document.body.classList.remove("theme-light")):(document.body.classList.add("theme-light"),document.body.classList.remove("theme-dark")),window.innerWidth<480?document.body.classList.add("is-phone"):window.innerWidth<768?document.body.classList.add("is-tablet"):window.innerWidth<1024?document.body.classList.add("is-small-screen"):document.body.classList.add("is-large-screen")</script><div class="webpage-container workspace"><div class="sidebar-left sidebar"><div class="sidebar-handle"></div><div class="sidebar-topbar"><div class="topbar-content"><label class="theme-toggle-container" for="theme_toggle"><input class="theme-toggle-input" type="checkbox" id="theme_toggle"><div class="toggle-background"></div></label></div><div class="clickable-icon sidebar-collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="100%" height="100%" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" class="svg-icon"><path d="M21 3H3C1.89543 3 1 3.89543 1 5V19C1 20.1046 1.89543 21 3 21H21C22.1046 21 23 20.1046 23 19V5C23 3.89543 22.1046 3 21 3Z"></path><path d="M10 4V20"></path><path d="M4 7H7"></path><path d="M4 10H7"></path><path d="M4 13H7"></path></svg></div></div><div class="sidebar-content"><div class="search-input-container"><input enterkeyhint="search" type="search" spellcheck="false" placeholder="Search..."><div class="search-input-clear-button" aria-label="Clear search"></div></div><include src="lib/html/file-tree.html"></include></div><script defer="">let ls = document.querySelector(".sidebar-left"); ls.classList.add("is-collapsed"); if (window.innerWidth > 768) ls.classList.remove("is-collapsed"); ls.style.setProperty("--sidebar-width", localStorage.getItem("sidebar-left-width"));</script></div><div class="document-container markdown-reading-view hide"><div class="markdown-preview-view markdown-rendered allow-fold-headings allow-fold-lists is-readable-line-width"><style id="MJX-CHTML-styles">mjx-c.mjx-c4B::before{padding:.683em .778em 0 0;content:"K"}mjx-c.mjx-c46::before{padding:.68em .653em 0 0;content:"F"}mjx-c.mjx-c7A::before{padding:.431em .444em 0 0;content:"z"}mjx-c.mjx-cD7::before{padding:.491em .778em 0 0;content:"×"}mjx-c.mjx-c4D::before{padding:.683em .917em 0 0;content:"M"}mjx-c.mjx-c1D43A.TEX-I::before{padding:.705em .786em .022em 0;content:"G"}mjx-c.mjx-c70::before{padding:.442em .556em .194em 0;content:"p"}mjx-c.mjx-cB1::before{padding:.666em .778em 0 0;content:"±"}mjx-c.mjx-c5F::before{padding:0 .5em .062em 0;content:"_"}mjx-mtable{display:inline-block;text-align:center;vertical-align:.25em;position:relative;box-sizing:border-box;border-spacing:0px;border-collapse:collapse}mjx-mstyle[size="s"] mjx-mtable{vertical-align:.354em}mjx-labels{position:absolute;left:0;top:0}mjx-table{display:inline-block;vertical-align:-.5ex;box-sizing:border-box}mjx-table>mjx-itable{vertical-align:middle;text-align:left;box-sizing:border-box}mjx-labels>mjx-itable{position:absolute;top:0}mjx-mtable[justify=left]{text-align:left}mjx-mtable[justify=right]{text-align:right}mjx-mtable[justify=left][side=left]{padding-right:0!important}mjx-mtable[justify=left][side=right]{padding-left:0!important}mjx-mtable[justify=right][side=left]{padding-right:0!important}mjx-mtable[justify=right][side=right]{padding-left:0!important}mjx-mtable[align]{vertical-align:baseline}mjx-mtable[align=top]>mjx-table{vertical-align:top}mjx-mtable[align=bottom]>mjx-table{vertical-align:bottom}mjx-mtable[side=right] mjx-labels{min-width:100%}mjx-mtr{display:table-row;text-align:left}mjx-mtr[rowalign=top]>mjx-mtd{vertical-align:top}mjx-mtr[rowalign=center]>mjx-mtd{vertical-align:middle}mjx-mtr[rowalign=bottom]>mjx-mtd{vertical-align:bottom}mjx-mtr[rowalign=baseline]>mjx-mtd{vertical-align:baseline}mjx-mtr[rowalign=axis]>mjx-mtd{vertical-align:.25em}mjx-mtd{display:table-cell;text-align:center;padding:.215em .4em}mjx-mtd:first-child{padding-left:0}mjx-mtd:last-child{padding-right:0}mjx-mtable>*>mjx-itable>:first-child>mjx-mtd{padding-top:0}mjx-mtable>*>mjx-itable>:last-child>mjx-mtd{padding-bottom:0}mjx-tstrut{display:inline-block;height:1em;vertical-align:-.25em}mjx-labels[align=left]>mjx-mtr>mjx-mtd{text-align:left}mjx-labels[align=right]>mjx-mtr>mjx-mtd{text-align:right}mjx-mtd[extra]{padding:0}mjx-mtd[rowalign=top]{vertical-align:top}mjx-mtd[rowalign=center]{vertical-align:middle}mjx-mtd[rowalign=bottom]{vertical-align:bottom}mjx-mtd[rowalign=baseline]{vertical-align:baseline}mjx-mtd[rowalign=axis]{vertical-align:.25em}mjx-stretchy-v.mjx-c5B mjx-beg mjx-c::before{content:"⎡";padding:1.154em .667em .645em 0}mjx-stretchy-v.mjx-c5B mjx-ext mjx-c::before{content:"⎢";width:.667em}mjx-stretchy-v.mjx-c5B mjx-end mjx-c::before{content:"⎣";padding:1.155em .667em .644em 0}mjx-stretchy-v.mjx-c5B>mjx-end{margin-top:-1.799em}mjx-stretchy-v.mjx-c5B>mjx-ext{border-top-width:1.769em;border-bottom-width:1.769em}mjx-stretchy-v.mjx-c5D mjx-beg mjx-c::before{content:"⎤";padding:1.154em .667em .645em 0}mjx-stretchy-v.mjx-c5D mjx-ext mjx-c::before{content:"⎥";width:.667em}mjx-stretchy-v.mjx-c5D mjx-end mjx-c::before{content:"⎦";padding:1.155em .667em .644em 0}mjx-stretchy-v.mjx-c5D>mjx-end{margin-top:-1.799em}mjx-stretchy-v.mjx-c5D>mjx-ext{border-top-width:1.769em;border-bottom-width:1.769em}mjx-c.mjx-c1D703.TEX-I::before{padding:.705em .469em .01em 0;content:"θ"}mjx-c.mjx-c1D434.TEX-I::before{padding:.716em .75em 0 0;content:"A"}mjx-c.mjx-c5B::before{padding:.75em .278em .25em 0;content:"["}mjx-c.mjx-c5D::before{padding:.75em .278em .25em 0;content:"]"}mjx-c.mjx-c22EF::before{padding:.31em 1.172em 0 0;content:"⋯"}mjx-c.mjx-c22EE::before{padding:1.3em .278em .03em 0;content:"⋮"}mjx-c.mjx-c22F1::before{padding:1.52em 1.282em 0 0;content:"⋱"}mjx-c.mjx-c1D44A.TEX-I::before{padding:.683em 1.048em .022em 0;content:"W"}mjx-c.mjx-c1D444.TEX-I::before{padding:.704em .791em .194em 0;content:"Q"}mjx-c.mjx-c3E::before{padding:.54em .778em .04em 0;content:">"}mjx-c.mjx-c1D70F.TEX-I::before{padding:.431em .517em .013em 0;content:"τ"}mjx-c.mjx-c1D458.TEX-I::before{padding:.694em .521em .011em 0;content:"k"}mjx-c.mjx-c2211.TEX-S2::before{padding:.95em 1.444em .45em 0;content:"∑"}mjx-c.mjx-c3C::before{padding:.54em .778em .04em 0;content:"<"}mjx-c.mjx-c44::before{padding:.683em .764em 0 0;content:"D"}mjx-c.mjx-c20::before{padding:0 .25em 0 0;content:" "}mjx-c.mjx-c6D::before{padding:.442em .833em 0 0;content:"m"}mjx-c.mjx-c2D::before{padding:.252em .333em 0 0;content:"-"}mjx-c.mjx-c75::before{padding:.442em .556em .011em 0;content:"u"}mjx-c.mjx-c6B::before{padding:.694em .528em 0 0;content:"k"}mjx-c.mjx-c52::before{padding:.683em .736em .022em 0;content:"R"}mjx-c.mjx-c67::before{padding:.453em .5em .206em 0;content:"g"}mjx-c.mjx-c45::before{padding:.68em .681em 0 0;content:"E"}mjx-c.mjx-c78::before{padding:.431em .528em 0 0;content:"x"}mjx-c.mjx-c220F.TEX-S2::before{padding:.95em 1.278em .45em 0;content:"∏"}mjx-c.mjx-c2264::before{padding:.636em .778em .138em 0;content:"≤"}mjx-c.mjx-c1D457.TEX-I::before{padding:.661em .412em .204em 0;content:"j"}mjx-c.mjx-c1D435.TEX-I::before{padding:.683em .759em 0 0;content:"B"}mjx-c.mjx-c47::before{padding:.705em .785em .022em 0;content:"G"}mjx-c.mjx-c4C::before{padding:.683em .625em 0 0;content:"L"}mjx-c.mjx-c42::before{padding:.683em .708em 0 0;content:"B"}mjx-c.mjx-c41::before{padding:.716em .75em 0 0;content:"A"}mjx-c.mjx-c43::before{padding:.705em .722em .021em 0;content:"C"}mjx-c.mjx-c79::before{padding:.431em .528em .204em 0;content:"y"}mjx-c.mjx-c6C::before{padding:.694em .278em 0 0;content:"l"}mjx-c.mjx-c69::before{padding:.669em .278em 0 0;content:"i"}mjx-c.mjx-c6E::before{padding:.442em .556em 0 0;content:"n"}mjx-c.mjx-c64::before{padding:.694em .556em .011em 0;content:"d"}mjx-c.mjx-c65::before{padding:.448em .444em .011em 0;content:"e"}mjx-c.mjx-c72::before{padding:.442em .392em 0 0;content:"r"}mjx-c.mjx-c4E::before{padding:.683em .75em 0 0;content:"N"}mjx-c.mjx-c68::before{padding:.694em .556em 0 0;content:"h"}mjx-c.mjx-c61::before{padding:.448em .5em .011em 0;content:"a"}mjx-c.mjx-c48::before{padding:.683em .75em 0 0;content:"H"}mjx-c.mjx-c63::before{padding:.448em .444em .011em 0;content:"c"}mjx-c.mjx-c74::before{padding:.615em .389em .01em 0;content:"t"}mjx-c.mjx-c6F::before{padding:.448em .5em .01em 0;content:"o"}mjx-c.mjx-c53::before{padding:.705em .556em .022em 0;content:"S"}mjx-c.mjx-c54::before{padding:.677em .722em 0 0;content:"T"}mjx-c.mjx-c5A::before{padding:.683em .611em 0 0;content:"Z"}mjx-c.mjx-c1D442.TEX-I::before{padding:.704em .763em .022em 0;content:"O"}mjx-msup{display:inline-block;text-align:left}mjx-c.mjx-c38::before{padding:.666em .5em .022em 0;content:"8"}mjx-c.mjx-c39::before{padding:.666em .5em .022em 0;content:"9"}mjx-c.mjx-c73::before{padding:.448em .394em .011em 0;content:"s"}mjx-c.mjx-c1D448.TEX-I::before{padding:.683em .767em .022em 0;content:"U"}mjx-c.mjx-c37::before{padding:.676em .5em .022em 0;content:"7"}mjx-c.mjx-c1D438.TEX-I::before{padding:.68em .764em 0 0;content:"E"}mjx-c.mjx-c1D6FC.TEX-I::before{padding:.442em .64em .011em 0;content:"α"}mjx-c.mjx-c1D463.TEX-I::before{padding:.443em .485em .011em 0;content:"v"}mjx-c.mjx-c1D6FD.TEX-I::before{padding:.705em .566em .194em 0;content:"β"}mjx-c.mjx-c7C::before{padding:.75em .278em .249em 0;content:"|"}mjx-c.mjx-c1D43C.TEX-I::before{padding:.683em .504em 0 0;content:"I"}mjx-mtext{display:inline-block;text-align:left}mjx-mfrac{display:inline-block;text-align:left}mjx-frac{display:inline-block;vertical-align:.17em;padding:0 .22em}mjx-frac[type="d"]{vertical-align:.04em}mjx-frac[delims]{padding:0 .1em}mjx-frac[atop]{padding:0 .12em}mjx-frac[atop][delims]{padding:0}mjx-dtable{display:inline-table;width:100%}mjx-dtable>*{font-size:2000%}mjx-dbox{display:block;font-size:5%}mjx-num{display:block;text-align:center}mjx-den{display:block;text-align:center}mjx-mfrac[bevelled]>mjx-num{display:inline-block}mjx-mfrac[bevelled]>mjx-den{display:inline-block}mjx-den[align=right],mjx-num[align=right]{text-align:right}mjx-den[align=left],mjx-num[align=left]{text-align:left}mjx-nstrut{display:inline-block;height:.054em;width:0;vertical-align:-.054em}mjx-nstrut[type="d"]{height:.217em;vertical-align:-.217em}mjx-dstrut{display:inline-block;height:.505em;width:0}mjx-dstrut[type="d"]{height:.726em}mjx-line{display:block;box-sizing:border-box;min-height:1px;height:.06em;border-top:.06em solid;margin:.06em -.1em;overflow:hidden}mjx-line[type="d"]{margin:.18em -.1em}mjx-mrow{display:inline-block;text-align:left}mjx-munderover{display:inline-block;text-align:left}mjx-munderover:not([limits=false]){padding-top:.1em}mjx-munderover:not([limits=false])>*{display:block}mjx-msubsup{display:inline-block;text-align:left}mjx-script{display:inline-block;padding-right:.05em;padding-left:.033em}mjx-script>mjx-spacer{display:block}mjx-c.mjx-c210E.TEX-I::before{padding:.694em .576em .011em 0;content:"h"}mjx-c.mjx-c3A::before{padding:.43em .278em 0 0;content:":"}mjx-c.mjx-c1D464.TEX-I::before{padding:.443em .716em .011em 0;content:"w"}mjx-c.mjx-c1D45A.TEX-I::before{padding:.442em .878em .011em 0;content:"m"}mjx-c.mjx-c1D446.TEX-I::before{padding:.705em .645em .022em 0;content:"S"}mjx-c.mjx-c1D454.TEX-I::before{padding:.442em .477em .205em 0;content:"g"}mjx-c.mjx-c1D453.TEX-I::before{padding:.705em .55em .205em 0;content:"f"}mjx-c.mjx-c1D465.TEX-I::before{padding:.442em .572em .011em 0;content:"x"}mjx-c.mjx-c2217::before{padding:.465em .5em 0 0;content:"∗"}mjx-c.mjx-c1D447.TEX-I::before{padding:.677em .704em 0 0;content:"T"}mjx-c.mjx-cA0::before{padding:0 .25em 0 0;content:" "}mjx-c.mjx-c34::before{padding:.677em .5em 0 0;content:"4"}mjx-c.mjx-c36::before{padding:.666em .5em .022em 0;content:"6"}mjx-c.mjx-c2248::before{padding:.483em .778em 0 0;content:"≈"}mjx-c.mjx-c1D449.TEX-I::before{padding:.683em .769em .022em 0;content:"V"}mjx-c.mjx-c1D43F.TEX-I::before{padding:.683em .681em 0 0;content:"L"}mjx-c.mjx-c1D436.TEX-I::before{padding:.705em .76em .022em 0;content:"C"}mjx-c.mjx-c2265::before{padding:.636em .778em .138em 0;content:"≥"}mjx-c.mjx-c7B::before{padding:.75em .5em .25em 0;content:"{"}mjx-c.mjx-c7D::before{padding:.75em .5em .25em 0;content:"}"}mjx-c.mjx-c1D443.TEX-I::before{padding:.683em .751em 0 0;content:"P"}mjx-c.mjx-c2211.TEX-S1::before{padding:.75em 1.056em .25em 0;content:"∑"}mjx-container[jax=CHTML]{line-height:0}mjx-container [space="1"]{margin-left:.111em}mjx-container [space="2"]{margin-left:.167em}mjx-container [space="3"]{margin-left:.222em}mjx-container [space="4"]{margin-left:.278em}mjx-container [space="5"]{margin-left:.333em}mjx-container [rspace="1"]{margin-right:.111em}mjx-container [rspace="2"]{margin-right:.167em}mjx-container [rspace="3"]{margin-right:.222em}mjx-container [rspace="4"]{margin-right:.278em}mjx-container [rspace="5"]{margin-right:.333em}mjx-container [size="s"]{font-size:70.7%}mjx-container [size=ss]{font-size:50%}mjx-container [size=Tn]{font-size:60%}mjx-container [size=sm]{font-size:85%}mjx-container [size=lg]{font-size:120%}mjx-container [size=Lg]{font-size:144%}mjx-container [size=LG]{font-size:173%}mjx-container [size=hg]{font-size:207%}mjx-container [size=HG]{font-size:249%}mjx-container [width=full]{width:100%}mjx-box{display:inline-block}mjx-block{display:block}mjx-itable{display:inline-table}mjx-row{display:table-row}mjx-row>*{display:table-cell}mjx-mtext{display:inline-block}mjx-mstyle{display:inline-block}mjx-merror{display:inline-block;color:red;background-color:#ff0}mjx-mphantom{visibility:hidden}mjx-assistive-mml{top:0;left:0;clip:rect(1px,1px,1px,1px);user-select:none;position:absolute!important;padding:1px 0 0!important;border:0!important;display:block!important;width:auto!important;overflow:hidden!important}mjx-assistive-mml[display=block]{width:100%!important}mjx-math{display:inline-block;text-align:left;line-height:0;text-indent:0;font-style:normal;font-weight:400;font-size:100%;letter-spacing:normal;border-collapse:collapse;overflow-wrap:normal;word-spacing:normal;white-space:nowrap;direction:ltr;padding:1px 0}mjx-container[jax=CHTML][display=true]{display:block;text-align:center;margin:1em 0}mjx-container[jax=CHTML][display=true][width=full]{display:flex}mjx-container[jax=CHTML][display=true] mjx-math{padding:0}mjx-container[jax=CHTML][justify=left]{text-align:left}mjx-container[jax=CHTML][justify=right]{text-align:right}mjx-mi{display:inline-block;text-align:left}mjx-c{display:inline-block}mjx-utext{display:inline-block;padding:.75em 0 .2em}mjx-msub{display:inline-block;text-align:left}mjx-texatom{display:inline-block;text-align:left}mjx-mo{display:inline-block;text-align:left}mjx-stretchy-h{display:inline-table;width:100%}mjx-stretchy-h>*{display:table-cell;width:0}mjx-stretchy-h>*>mjx-c{display:inline-block;transform:scaleX(1)}mjx-stretchy-h>*>mjx-c::before{display:inline-block;width:initial}mjx-stretchy-h>mjx-ext{overflow:clip visible;width:100%}mjx-stretchy-h>mjx-ext>mjx-c::before{transform:scaleX(500)}mjx-stretchy-h>mjx-ext>mjx-c{width:0}mjx-stretchy-h>mjx-beg>mjx-c{margin-right:-.1em}mjx-stretchy-h>mjx-end>mjx-c{margin-left:-.1em}mjx-stretchy-v{display:inline-block}mjx-stretchy-v>*{display:block}mjx-stretchy-v>mjx-beg{height:0}mjx-stretchy-v>mjx-end>mjx-c{display:block}mjx-stretchy-v>*>mjx-c{transform:scaleY(1);transform-origin:left center;overflow:hidden}mjx-stretchy-v>mjx-ext{display:block;height:100%;box-sizing:border-box;border:0 solid transparent;overflow:visible clip}mjx-stretchy-v>mjx-ext>mjx-c::before{width:initial;box-sizing:border-box}mjx-stretchy-v>mjx-ext>mjx-c{transform:scaleY(500) translateY(.075em);overflow:visible}mjx-mark{display:inline-block;height:0}mjx-mn{display:inline-block;text-align:left}mjx-c::before{display:block;width:0}.MJX-TEX{font-family:MJXZERO,MJXTEX}.TEX-B{font-family:MJXZERO,MJXTEX-B}.TEX-I{font-family:MJXZERO,MJXTEX-I}.TEX-MI{font-family:MJXZERO,MJXTEX-MI}.TEX-BI{font-family:MJXZERO,MJXTEX-BI}.TEX-S1{font-family:MJXZERO,MJXTEX-S1}.TEX-S2{font-family:MJXZERO,MJXTEX-S2}.TEX-S3{font-family:MJXZERO,MJXTEX-S3}.TEX-S4{font-family:MJXZERO,MJXTEX-S4}.TEX-A{font-family:MJXZERO,MJXTEX-A}.TEX-C{font-family:MJXZERO,MJXTEX-C}.TEX-CB{font-family:MJXZERO,MJXTEX-CB}.TEX-FR{font-family:MJXZERO,MJXTEX-FR}.TEX-FRB{font-family:MJXZERO,MJXTEX-FRB}.TEX-SS{font-family:MJXZERO,MJXTEX-SS}.TEX-SSB{font-family:MJXZERO,MJXTEX-SSB}.TEX-SSI{font-family:MJXZERO,MJXTEX-SSI}.TEX-SC{font-family:MJXZERO,MJXTEX-SC}.TEX-T{font-family:MJXZERO,MJXTEX-T}.TEX-V{font-family:MJXZERO,MJXTEX-V}.TEX-VB{font-family:MJXZERO,MJXTEX-VB}mjx-stretchy-h mjx-c,mjx-stretchy-v mjx-c{font-family:MJXZERO,MJXTEX-S1,MJXTEX-S4,MJXTEX,MJXTEX-A!important}@font-face{font-family:MJXZERO;src:url("lib/fonts/mathjax_zero.woff") format("woff")}@font-face{font-family:MJXTEX;src:url("lib/fonts/mathjax_main-regular.woff") format("woff")}@font-face{font-family:MJXTEX-B;src:url("lib/fonts/mathjax_main-bold.woff") format("woff")}@font-face{font-family:MJXTEX-I;src:url("lib/fonts/mathjax_math-italic.woff") format("woff")}@font-face{font-family:MJXTEX-MI;src:url("lib/fonts/mathjax_main-italic.woff") format("woff")}@font-face{font-family:MJXTEX-BI;src:url("lib/fonts/mathjax_math-bolditalic.woff") format("woff")}@font-face{font-family:MJXTEX-S1;src:url("lib/fonts/mathjax_size1-regular.woff") format("woff")}@font-face{font-family:MJXTEX-S2;src:url("lib/fonts/mathjax_size2-regular.woff") format("woff")}@font-face{font-family:MJXTEX-S3;src:url("lib/fonts/mathjax_size3-regular.woff") format("woff")}@font-face{font-family:MJXTEX-S4;src:url("lib/fonts/mathjax_size4-regular.woff") format("woff")}@font-face{font-family:MJXTEX-A;src:url("lib/fonts/mathjax_ams-regular.woff") format("woff")}@font-face{font-family:MJXTEX-C;src:url("lib/fonts/mathjax_calligraphic-regular.woff") format("woff")}@font-face{font-family:MJXTEX-CB;src:url("lib/fonts/mathjax_calligraphic-bold.woff") format("woff")}@font-face{font-family:MJXTEX-FR;src:url("lib/fonts/mathjax_fraktur-regular.woff") format("woff")}@font-face{font-family:MJXTEX-FRB;src:url("lib/fonts/mathjax_fraktur-bold.woff") format("woff")}@font-face{font-family:MJXTEX-SS;src:url("lib/fonts/mathjax_sansserif-regular.woff") format("woff")}@font-face{font-family:MJXTEX-SSB;src:url("lib/fonts/mathjax_sansserif-bold.woff") format("woff")}@font-face{font-family:MJXTEX-SSI;src:url("lib/fonts/mathjax_sansserif-italic.woff") format("woff")}@font-face{font-family:MJXTEX-SC;src:url("lib/fonts/mathjax_script-regular.woff") format("woff")}@font-face{font-family:MJXTEX-T;src:url("lib/fonts/mathjax_typewriter-regular.woff") format("woff")}@font-face{font-family:MJXTEX-V;src:url("lib/fonts/mathjax_vector-regular.woff") format("woff")}@font-face{font-family:MJXTEX-VB;src:url("lib/fonts/mathjax_vector-bold.woff") format("woff")}mjx-c.mjx-c1D437.TEX-I::before{padding:.683em .828em 0 0;content:"D"}mjx-c.mjx-c1D452.TEX-I::before{padding:.442em .466em .011em 0;content:"e"}mjx-c.mjx-c1D459.TEX-I::before{padding:.694em .298em .011em 0;content:"l"}mjx-c.mjx-c1D44E.TEX-I::before{padding:.441em .529em .01em 0;content:"a"}mjx-c.mjx-c1D466.TEX-I::before{padding:.442em .49em .205em 0;content:"y"}mjx-c.mjx-c1D45B.TEX-I::before{padding:.442em .6em .011em 0;content:"n"}mjx-c.mjx-c1D45C.TEX-I::before{padding:.441em .485em .011em 0;content:"o"}mjx-c.mjx-c1D451.TEX-I::before{padding:.694em .52em .01em 0;content:"d"}mjx-c.mjx-c3D::before{padding:.583em .778em .082em 0;content:"="}mjx-c.mjx-c1D45D.TEX-I::before{padding:.442em .503em .194em 0;content:"p"}mjx-c.mjx-c1D45F.TEX-I::before{padding:.442em .451em .011em 0;content:"r"}mjx-c.mjx-c1D450.TEX-I::before{padding:.442em .433em .011em 0;content:"c"}mjx-c.mjx-c2B::before{padding:.583em .778em .082em 0;content:"+"}mjx-c.mjx-c1D45E.TEX-I::before{padding:.442em .46em .194em 0;content:"q"}mjx-c.mjx-c1D462.TEX-I::before{padding:.442em .572em .011em 0;content:"u"}mjx-c.mjx-c1D461.TEX-I::before{padding:.626em .361em .011em 0;content:"t"}mjx-c.mjx-c1D460.TEX-I::before{padding:.442em .469em .01em 0;content:"s"}mjx-c.mjx-c2212::before{padding:.583em .778em .082em 0;content:"−"}mjx-c.mjx-c1D441.TEX-I::before{padding:.683em .888em 0 0;content:"N"}mjx-c.mjx-c28::before{padding:.75em .389em .25em 0;content:"("}mjx-c.mjx-c29::before{padding:.75em .389em .25em 0;content:")"}mjx-c.mjx-c1D445.TEX-I::before{padding:.683em .759em .021em 0;content:"R"}mjx-c.mjx-c1D440.TEX-I::before{padding:.683em 1.051em 0 0;content:"M"}mjx-c.mjx-c1D456.TEX-I::before{padding:.661em .345em .011em 0;content:"i"}mjx-c.mjx-c31::before{padding:.666em .5em 0 0;content:"1"}mjx-c.mjx-c2C::before{padding:.121em .278em .194em 0;content:","}mjx-c.mjx-c32::before{padding:.666em .5em 0 0;content:"2"}mjx-c.mjx-c33::before{padding:.665em .5em .022em 0;content:"3"}mjx-c.mjx-c2E::before{padding:.12em .278em 0 0;content:"."}mjx-c.mjx-c1D439.TEX-I::before{padding:.68em .749em 0 0;content:"F"}mjx-c.mjx-c2F::before{padding:.75em .5em .25em 0;content:"/"}mjx-c.mjx-c1D44F.TEX-I::before{padding:.694em .429em .011em 0;content:"b"}mjx-c.mjx-c35::before{padding:.666em .5em .022em 0;content:"5"}mjx-c.mjx-c30::before{padding:.666em .5em .022em 0;content:"0"}mjx-c.mjx-c1D43E.TEX-I::before{padding:.683em .889em 0 0;content:"K"}mjx-c.mjx-c1D43B.TEX-I::before{padding:.683em .888em 0 0;content:"H"}</style><pre class="frontmatter language-yaml" tabindex="0" style="display: none;"><code class="language-yaml is-loaded"><span class="token key atrule">tags</span><span class="token punctuation">:</span>
  <span class="token punctuation">-</span> SQL</code><button class="copy-code-button"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon lucide-copy"><rect x="8" y="8" width="14" height="14" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button></pre><div class="markdown-preview-sizer markdown-preview-section"><h1 class="page-title heading inline-title" id="<a data-tooltip-position=&quot;top&quot; aria-label=&quot;https://cs50.harvard.edu/sql/2024/notes/4/#lecture-4&quot; rel=&quot;noopener nofollow&quot; class=&quot;external-link&quot; href=&quot;https://cs50.harvard.edu/sql/2024/notes/4/#lecture-4&quot; target=&quot;_blank&quot;>Lecture 4</a>"><p dir="auto"><a href="https://cs50.harvard.edu/sql/2024/notes/4/#lecture-4" class="external-link" rel="noopener nofollow" aria-label="https://cs50.harvard.edu/sql/2024/notes/4/#lecture-4" data-tooltip-position="top" target="_blank">Lecture 4</a></p></h1><div class="el-h1 heading-wrapper"><div class="heading-children"><div class="el-ul"><ul>
<li data-line="0" dir="auto"><a data-tooltip-position="top" aria-label="https://cs50.harvard.edu/sql/2024/notes/4/#introduction" rel="noopener nofollow" class="external-link" href="https://cs50.harvard.edu/sql/2024/notes/4/#introduction" target="_blank">Introduction</a></li>
<li data-line="1" dir="auto"><a data-tooltip-position="top" aria-label="https://cs50.harvard.edu/sql/2024/notes/4/#views" rel="noopener nofollow" class="external-link" href="https://cs50.harvard.edu/sql/2024/notes/4/#views" target="_blank">Views</a></li>
<li data-line="2" dir="auto"><div class="list-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div><a data-tooltip-position="top" aria-label="https://cs50.harvard.edu/sql/2024/notes/4/#simplifying" rel="noopener nofollow" class="external-link" href="https://cs50.harvard.edu/sql/2024/notes/4/#simplifying" target="_blank">Simplifying</a>
<ul>
<li data-line="3" dir="auto"><a data-tooltip-position="top" aria-label="https://cs50.harvard.edu/sql/2024/notes/4/#questions" rel="noopener nofollow" class="external-link" href="https://cs50.harvard.edu/sql/2024/notes/4/#questions" target="_blank">Questions</a></li>
</ul>
</li>
<li data-line="4" dir="auto"><div class="list-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div><a data-tooltip-position="top" aria-label="https://cs50.harvard.edu/sql/2024/notes/4/#aggregating" rel="noopener nofollow" class="external-link" href="https://cs50.harvard.edu/sql/2024/notes/4/#aggregating" target="_blank">Aggregating</a>
<ul>
<li data-line="5" dir="auto"><a data-tooltip-position="top" aria-label="https://cs50.harvard.edu/sql/2024/notes/4/#questions-1" rel="noopener nofollow" class="external-link" href="https://cs50.harvard.edu/sql/2024/notes/4/#questions-1" target="_blank">Questions</a></li>
</ul>
</li>
<li data-line="6" dir="auto"><a data-tooltip-position="top" aria-label="https://cs50.harvard.edu/sql/2024/notes/4/#common-table-expression-cte" rel="noopener nofollow" class="external-link" href="https://cs50.harvard.edu/sql/2024/notes/4/#common-table-expression-cte" target="_blank">Common Table Expression (CTE)</a></li>
<li data-line="7" dir="auto"><div class="list-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div><a data-tooltip-position="top" aria-label="https://cs50.harvard.edu/sql/2024/notes/4/#partitioning" rel="noopener nofollow" class="external-link" href="https://cs50.harvard.edu/sql/2024/notes/4/#partitioning" target="_blank">Partitioning</a>
<ul>
<li data-line="8" dir="auto"><a data-tooltip-position="top" aria-label="https://cs50.harvard.edu/sql/2024/notes/4/#questions-2" rel="noopener nofollow" class="external-link" href="https://cs50.harvard.edu/sql/2024/notes/4/#questions-2" target="_blank">Questions</a></li>
</ul>
</li>
<li data-line="9" dir="auto"><a data-tooltip-position="top" aria-label="https://cs50.harvard.edu/sql/2024/notes/4/#securing" rel="noopener nofollow" class="external-link" href="https://cs50.harvard.edu/sql/2024/notes/4/#securing" target="_blank">Securing</a></li>
<li data-line="10" dir="auto"><a data-tooltip-position="top" aria-label="https://cs50.harvard.edu/sql/2024/notes/4/#soft-deletions" rel="noopener nofollow" class="external-link" href="https://cs50.harvard.edu/sql/2024/notes/4/#soft-deletions" target="_blank">Soft Deletions</a></li>
<li data-line="11" dir="auto"><a data-tooltip-position="top" aria-label="https://cs50.harvard.edu/sql/2024/notes/4/#fin" rel="noopener nofollow" class="external-link" href="https://cs50.harvard.edu/sql/2024/notes/4/#fin" target="_blank">Fin</a></li>
</ul></div><div class="el-p"><p dir="auto">视图是虚拟的<br>
Materialized View 物化视图</p></div><div class="el-h2 heading-wrapper"><h2 data-heading="[Introduction](https://cs50.harvard.edu/sql/2024/notes/4/#introduction)" dir="auto" class="heading" id="[Introduction](https://cs50.harvard.edu/sql/2024/notes/4/#introduction)"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div><a data-tooltip-position="top" aria-label="https://cs50.harvard.edu/sql/2024/notes/4/#introduction" rel="noopener nofollow" class="external-link" href="https://cs50.harvard.edu/sql/2024/notes/4/#introduction" target="_blank">Introduction</a></h2><div class="heading-children"><div class="el-ul"><ul>
<li data-line="0" dir="auto">Thus far, we have learned about concepts that allow us to design complex databases and write data into them. Now, we will explore ways in which to obtain views from these databases.</li>
<li data-line="1" dir="auto">Let’s go back to the database containing books longlisted for the International Booker Prize. Here is a snapshot of tables from this database.
  <img alt="&quot;Tables containing books and authors with a many-to-many relationship&quot;" src="https://cs50.harvard.edu/sql/2024/notes/4/images/4.jpg" referrerpolicy="no-referrer"><br>
</li>
<li data-line="5" dir="auto">To find a book written by the author Han Kang, we would need to go each of through the three table above — first finding the author’s ID, then the corresponding book IDs and then the book titles. Instead, is there a way to put together related information from the three tables in a single view?</li>
<li data-line="6" dir="auto">Yes, we can use the&nbsp;<code>JOIN</code>&nbsp;command in SQL to combine rows from two or more tables based on a related column between them. Here is a visual representation of how these tables could be joined in order to line up authors and their books.
  <img alt="&quot;Table joining books, authored and authors&quot;" src="https://cs50.harvard.edu/sql/2024/notes/4/images/8.jpg" referrerpolicy="no-referrer">
  This makes it simple to observe that Han Kang authored The White Book.<br>
</li>
<li data-line="12" dir="auto">One can also imagine removing the ID columns here, such that our view looks like the following.
  <img alt="&quot;Table joining books, authored and authors with the ID columns removed&quot;" src="https://cs50.harvard.edu/sql/2024/notes/4/images/10.jpg" referrerpolicy="no-referrer"><br>
</li>
</ul></div></div></div><div class="el-h2 heading-wrapper"><h2 data-heading="[Views](https://cs50.harvard.edu/sql/2024/notes/4/#views)" dir="auto" class="heading" id="[Views](https://cs50.harvard.edu/sql/2024/notes/4/#views)"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div><a data-tooltip-position="top" aria-label="https://cs50.harvard.edu/sql/2024/notes/4/#views" rel="noopener nofollow" class="external-link" href="https://cs50.harvard.edu/sql/2024/notes/4/#views" target="_blank">Views</a></h2><div class="heading-children"><div class="el-ul"><ul>
<li data-line="0" dir="auto">A view is a virtual table defined by a query.</li>
<li data-line="1" dir="auto">Say we wrote a query to join three tables, as in the previous example, and then select the relevant columns. The new table created by this query can be saved as a view, to be further queried later on.</li>
<li data-line="2" dir="auto"><div class="list-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>Views are useful for:
<ul>
<li data-line="3" dir="auto"><strong>simplifying</strong>: putting together data from different tables to be queried more simply,</li>
<li data-line="4" dir="auto"><strong>aggregating</strong>: running aggregate functions, like finding the sum, and storing the results,</li>
<li data-line="5" dir="auto"><strong>partitioning</strong>: dividing data into logical pieces,</li>
<li data-line="6" dir="auto"><strong>securing</strong>: hiding columns that should be kept secure. While there are other ways in which views can be useful, in this lecture we will focus on the above four.</li>
<li data-line="7" dir="auto">代码复用</li>
<li data-line="8" dir="auto">......</li>
</ul>
</li>
</ul></div></div></div><div class="el-h2 heading-wrapper"><h2 data-heading="[Simplifying](https://cs50.harvard.edu/sql/2024/notes/4/#simplifying)" dir="auto" class="heading" id="[Simplifying](https://cs50.harvard.edu/sql/2024/notes/4/#simplifying)"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div><a data-tooltip-position="top" aria-label="https://cs50.harvard.edu/sql/2024/notes/4/#simplifying" rel="noopener nofollow" class="external-link" href="https://cs50.harvard.edu/sql/2024/notes/4/#simplifying" target="_blank">Simplifying</a></h2><div class="heading-children"><div class="el-ul"><ul>
<li data-line="0" dir="auto">Let us open up&nbsp;<code>longlist.db</code>&nbsp;on SQLite and run the&nbsp;<code>.schema</code>&nbsp;command to verify that the three tables we saw in the previous example are created:&nbsp;<code>authors</code>,&nbsp;<code>authored</code>&nbsp;and&nbsp;<code>books</code>.</li>
<li data-line="1" dir="auto">To select the books written by Fernanda Melchor, we would write this nested query.
<pre><code data-line="3">SELECT "title" FROM "books"
WHERE "id" IN (
    SELECT "book_id" FROM "authored"
    WHERE "author_id" = (
        SELECT "id" FROM "authors"
        WHERE "name" = 'Fernanda Melchor'
    )
);
</code><button class="copy-code-button"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon lucide-copy"><rect x="8" y="8" width="14" height="14" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button></pre>
</li>
<li data-line="14" dir="auto">The above query is complex — there are three&nbsp;<code>SELECT</code>&nbsp;queries in the nested query. To simplify this, let us first use&nbsp;<code>JOIN</code>&nbsp;to create a view containing authors and their books.</li>
<li data-line="15" dir="auto"><div class="list-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>In a new terminal, let us connect to&nbsp;<code>longlist.db</code>&nbsp;again, and run the following query.
<pre><code data-line="17">SELECT "name", "title" FROM "authors"
JOIN "authored" ON "authors"."id" = "authored"."author_id"
JOIN "books" ON "books"."id" = "authored"."book_id";
</code><button class="copy-code-button"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon lucide-copy"><rect x="8" y="8" width="14" height="14" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button></pre>
<ul>
<li data-line="23" dir="auto">Observe that it is important to specify how two tables are joined, or the columns they are joined&nbsp;<em>on</em>.</li>
<li data-line="24" dir="auto">Tip: The primary key column of one table is usually joined to the corresponding foreign key column of the other table!</li>
<li data-line="25" dir="auto">Running this will pull up a table containing all the author names next to the titles of the books they have authored.</li>
</ul>
</li>
<li data-line="26" dir="auto">To save the virtual table created in the previous step as a view, we need to change the query.
<pre><code data-line="28">CREATE VIEW "longlist" AS
SELECT "name", "title" FROM "authors"
JOIN "authored" ON "authors"."id" = "authored"."author_id"
JOIN "books" ON "books"."id" = "authored"."book_id";
</code><button class="copy-code-button"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon lucide-copy"><rect x="8" y="8" width="14" height="14" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button></pre>
  The view created here is called&nbsp;<code>longlist</code>. This view can now be used exactly as we would use a table in SQL.<br>
</li>
<li data-line="37" dir="auto">Let us write a query to see all the data within this view.
<pre><code data-line="39">SELECT * FROM "longlist";
</code><button class="copy-code-button"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon lucide-copy"><rect x="8" y="8" width="14" height="14" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button></pre>
</li>
<li data-line="43" dir="auto">Using this view, we can considerably&nbsp;<strong>simplify</strong>&nbsp;the query needed to find the books written by Fernanda Melchor.
<pre><code data-line="45">SELECT "title" FROM "longlist" WHERE "name" = 'Fernanda Melchor';
</code><button class="copy-code-button"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon lucide-copy"><rect x="8" y="8" width="14" height="14" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button></pre>
</li>
<li data-line="49" dir="auto">A view, being a virtual table, does not consume much more disk space to create. The data within a view is still stored in the underlying tables, but still accessible through this simplfied view.</li>
</ul></div><div class="el-h3 heading-wrapper"><h3 data-heading="[Questions](https://cs50.harvard.edu/sql/2024/notes/4/#questions)" dir="auto" class="heading" id="[Questions](https://cs50.harvard.edu/sql/2024/notes/4/#questions)"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div><a data-tooltip-position="top" aria-label="https://cs50.harvard.edu/sql/2024/notes/4/#questions" rel="noopener nofollow" class="external-link" href="https://cs50.harvard.edu/sql/2024/notes/4/#questions" target="_blank">Questions</a></h3><div class="heading-children"><div class="el-blockquote"><blockquote dir="auto">
<p>Can we manipulate views to be ordered, or displayed differently?</p>
</blockquote></div><div class="el-ul"><ul>
<li data-line="0" dir="auto"><div class="list-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>Yes, we can order books in a view in much the same way as we can in a table.
<ul>
<li data-line="1" dir="auto">As an example, let us display the data within the&nbsp;<code>longlist</code>&nbsp;view, ordered by the book titles.
<pre><code data-line="3">SELECT "name", "title"
FROM  "longlist"
ORDER BY "title";
</code><button class="copy-code-button"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon lucide-copy"><rect x="8" y="8" width="14" height="14" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button></pre>
</li>
<li data-line="9" dir="auto">We could also have the view itself be ordered. We can do this by including an&nbsp;<code>ORDER BY</code>&nbsp;clause in the query used to create the view.也就是创建视图的时候就进行排序<br>
</li>
</ul>
</li>
</ul></div></div></div></div></div><div class="el-h2 heading-wrapper"><h2 data-heading="[Aggregating](https://cs50.harvard.edu/sql/2024/notes/4/#aggregating)" dir="auto" class="heading" id="[Aggregating](https://cs50.harvard.edu/sql/2024/notes/4/#aggregating)"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div><a data-tooltip-position="top" aria-label="https://cs50.harvard.edu/sql/2024/notes/4/#aggregating" rel="noopener nofollow" class="external-link" href="https://cs50.harvard.edu/sql/2024/notes/4/#aggregating" target="_blank">Aggregating</a></h2><div class="heading-children"><div class="el-ul"><ul>
<li data-line="0" dir="auto">In&nbsp;<code>longlist.db</code>&nbsp;we have a table containing individual ratings given to each book. In previous weeks, we saw how to find the average rating of every book, rounded to 2 decimal places.
<pre><code data-line="2">SELECT "book_id", ROUND(AVG("rating"), 2) AS "rating" 
FROM "ratings"
GROUP BY "book_id";
</code><button class="copy-code-button"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon lucide-copy"><rect x="8" y="8" width="14" height="14" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button></pre>
</li>
<li data-line="8" dir="auto"><div class="list-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>The results of the above query can be made more useful by displaying the title of every book, and perhaps the year in which each book was longlisted. This information is present in the&nbsp;<code>books</code>&nbsp;table.
<pre><code data-line="10">SELECT "book_id", "title", "year", ROUND(AVG("rating"), 2) AS "rating" 
FROM "ratings"
JOIN "books" ON "ratings"."book_id" = "books"."id"
GROUP BY "book_id";
</code><button class="copy-code-button"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon lucide-copy"><rect x="8" y="8" width="14" height="14" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button></pre>
<ul>
<li data-line="17" dir="auto">Here, we use a&nbsp;<code>JOIN</code>&nbsp;to combine information from the&nbsp;<code>ratings</code>&nbsp;and&nbsp;<code>books</code>&nbsp;tables, joining on the book ID column.</li>
<li data-line="18" dir="auto">Notice the order of operations in this query — in particular, the placement of the&nbsp;<code>GROUP BY</code>&nbsp;operation at the end of the query after the two tables are joined.</li>
</ul>
</li>
<li data-line="19" dir="auto"><div class="list-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>This&nbsp;<strong>aggregated</strong>&nbsp;data can be stored in a view.
<pre><code data-line="21">CREATE VIEW "average_book_ratings" AS
SELECT "book_id" AS "id", "title", "year", ROUND(AVG("rating"), 2) AS "rating" 
FROM "ratings"
JOIN "books" ON "ratings"."book_id" = "books"."id"
GROUP BY "book_id";
</code><button class="copy-code-button"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon lucide-copy"><rect x="8" y="8" width="14" height="14" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button></pre>
<ul>
<li data-line="29" dir="auto">Now, let us see the data in this view.
<pre><code data-line="31">SELECT * FROM "average_book_ratings";
</code><button class="copy-code-button"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon lucide-copy"><rect x="8" y="8" width="14" height="14" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button></pre>
</li>
</ul>
</li>
<li data-line="35" dir="auto">On adding more data to the&nbsp;<code>ratings</code>&nbsp;table, to obtain an up-to-date aggregate, we need to simply requery the view using a&nbsp;<code>SELECT</code>&nbsp;command like the above!</li>
<li data-line="36" dir="auto">Each time a view is created, it gets added to the schema. We can verify this by running&nbsp;<code>.schema</code>&nbsp;to observe that&nbsp;<code>longlist</code>&nbsp;and&nbsp;<code>average_book_ratings</code>&nbsp;are now part of this database’s schema.</li>
<li data-line="37" dir="auto">To create temporary views that are not stored in the database schema, we can use&nbsp;<code>CREATE TEMPORARY VIEW</code>. This command creates a view that exists only for the duration of our connection with the database.</li>
<li data-line="38" dir="auto">To find the average rating of books&nbsp;<em>per year</em>, we can use the view we already created.
<pre><code data-line="40">SELECT "year", ROUND(AVG("rating"), 2) AS "rating" 
FROM "average_book_ratings" 
GROUP BY "year";
</code><button class="copy-code-button"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon lucide-copy"><rect x="8" y="8" width="14" height="14" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button></pre>
  Notice that we select the&nbsp;<code>rating</code>&nbsp;column from&nbsp;<code>average_book_ratings</code>, which already contains the average ratings per book. Next, we group these by year and calculate the average ratings again, which gives us the average rating per year!<br>
</li>
<li data-line="48" dir="auto">We can store the results in a <strong>temporary view</strong>.
<pre><code data-line="50">CREATE TEMPORARY VIEW "average_ratings_by_year" AS
SELECT "year", ROUND(AVG("rating"), 2) AS "rating" FROM "average_book_ratings" 
GROUP BY "year";
</code><button class="copy-code-button"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon lucide-copy"><rect x="8" y="8" width="14" height="14" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button></pre>
</li>
</ul></div><div class="el-p"><p dir="auto">.quit之后，在进入sqlite3，就不能够用 temp view 了</p></div><div class="el-h3 heading-wrapper"><h3 data-heading="[Questions](https://cs50.harvard.edu/sql/2024/notes/4/#questions-1)" dir="auto" class="heading" id="[Questions](https://cs50.harvard.edu/sql/2024/notes/4/#questions-1)"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div><a data-tooltip-position="top" aria-label="https://cs50.harvard.edu/sql/2024/notes/4/#questions-1" rel="noopener nofollow" class="external-link" href="https://cs50.harvard.edu/sql/2024/notes/4/#questions-1" target="_blank">Questions</a></h3><div class="heading-children"><div class="el-blockquote"><blockquote dir="auto">
<p>Can temporary views be used to test whether a query works or not?</p>
</blockquote></div><div class="el-ul"><ul>
<li data-line="0" dir="auto">Yes, this is a great use case for temporary views! To generalize a little, temporary views are used when we want to organize data in some way without actually storing that organization long-term.</li>
</ul></div></div></div></div></div><div class="el-h2 heading-wrapper"><h2 data-heading="[Common Table Expression (CTE)](https://cs50.harvard.edu/sql/2024/notes/4/#common-table-expression-cte)" dir="auto" class="heading" id="[Common_Table_Expression_(CTE)](https://cs50.harvard.edu/sql/2024/notes/4/#common-table-expression-cte)"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div><a data-tooltip-position="top" aria-label="https://cs50.harvard.edu/sql/2024/notes/4/#common-table-expression-cte" rel="noopener nofollow" class="external-link" href="https://cs50.harvard.edu/sql/2024/notes/4/#common-table-expression-cte" target="_blank">Common Table Expression (CTE)</a></h2><div class="heading-children"><div class="el-ul"><ul>
<li data-line="0" dir="auto">A regular view exists forever in our database schema. A temporary view exists for the duration of our connection with the database. A CTE is a view that exists for a single query alone.</li>
<li data-line="1" dir="auto">Let us recreate the view containing average book ratings per year using a CTE instead of a temporary view. First, we need to drop the existing temporary view so that we can reuse the name&nbsp;<code>average_book_ratings</code>.
<pre><code data-line="3">DROP VIEW "average_book_ratings";
</code><button class="copy-code-button"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon lucide-copy"><rect x="8" y="8" width="14" height="14" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button></pre>
</li>
<li data-line="7" dir="auto">Next, we create a CTE containing the average ratings&nbsp;<em>per book</em>. We then use the average ratings per book to calculate the average ratings&nbsp;<em>per year</em>, in much the same way as we did before.
<pre><code data-line="9">WITH "average_book_ratings" AS (
    SELECT "book_id", "title", "year", ROUND(AVG("rating"), 2) AS "rating" FROM "ratings"
    JOIN "books" ON "ratings"."book_id" = "books"."id"
    GROUP BY "book_id"
)
SELECT "year" ROUND(AVG("rating"), 2) AS "rating" FROM "average_book_ratings"
GROUP BY "year";
</code><button class="copy-code-button"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon lucide-copy"><rect x="8" y="8" width="14" height="14" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button></pre>
</li>
</ul></div></div></div><div class="el-h2 heading-wrapper"><h2 data-heading="[Partitioning](https://cs50.harvard.edu/sql/2024/notes/4/#partitioning)" dir="auto" class="heading" id="[Partitioning](https://cs50.harvard.edu/sql/2024/notes/4/#partitioning)"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div><a data-tooltip-position="top" aria-label="https://cs50.harvard.edu/sql/2024/notes/4/#partitioning" rel="noopener nofollow" class="external-link" href="https://cs50.harvard.edu/sql/2024/notes/4/#partitioning" target="_blank">Partitioning</a></h2><div class="heading-children"><div class="el-ul"><ul>
<li data-line="0" dir="auto">Views can be used to partition data, or to break it into smaller pieces that will be useful to us or an application. For example, the website for the International Booker Prize has a page of longlisted books for each year the prize was awarded. However, our database stores all the longlisted books in a single table. For the sake of creating the website, or a different purpose, it might be useful to have a different table (or view) of books for each year.</li>
<li data-line="1" dir="auto"><div class="list-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>Let us create a view to store books longlisted in 2022.
<pre><code data-line="3">CREATE VIEW "2022" AS
SELECT "id", "title" FROM "books"
WHERE "year" = 2022;
</code><button class="copy-code-button"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon lucide-copy"><rect x="8" y="8" width="14" height="14" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button></pre>
<ul>
<li data-line="9" dir="auto">We can also see the data in this view.
<pre><code data-line="11">SELECT * FROM "2022";
</code><button class="copy-code-button"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon lucide-copy"><rect x="8" y="8" width="14" height="14" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button></pre>
</li>
</ul>
</li>
</ul></div><div class="el-h3 heading-wrapper"><h3 data-heading="[Questions](https://cs50.harvard.edu/sql/2024/notes/4/#questions-2)" dir="auto" class="heading" id="[Questions](https://cs50.harvard.edu/sql/2024/notes/4/#questions-2)"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div><a data-tooltip-position="top" aria-label="https://cs50.harvard.edu/sql/2024/notes/4/#questions-2" rel="noopener nofollow" class="external-link" href="https://cs50.harvard.edu/sql/2024/notes/4/#questions-2" target="_blank">Questions</a></h3><div class="heading-children"><div class="el-blockquote"><blockquote dir="auto">
<p>Can views be updated?</p>
</blockquote></div><div class="el-ul"><ul>
<li data-line="0" dir="auto">No, because views do not have any data in the way that tables do. Views actually pull data from the underlying tables each time they are queried. This means that when an underlying table is updated, the next time the view is queried, it will display updated data from the table!</li>
</ul></div><div class="el-p"><p dir="auto">cannot modify the data in the view</p></div></div></div></div></div><div class="el-h2 heading-wrapper"><h2 data-heading="[Securing](https://cs50.harvard.edu/sql/2024/notes/4/#securing)" dir="auto" class="heading" id="[Securing](https://cs50.harvard.edu/sql/2024/notes/4/#securing)"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div><a data-tooltip-position="top" aria-label="https://cs50.harvard.edu/sql/2024/notes/4/#securing" rel="noopener nofollow" class="external-link" href="https://cs50.harvard.edu/sql/2024/notes/4/#securing" target="_blank">Securing</a></h2><div class="heading-children"><div class="el-ul"><ul>
<li data-line="0" dir="auto">Views can be used to enhance database security by limiting access to certain data.</li>
<li data-line="1" dir="auto">Consider a rideshare company’s database with a table&nbsp;<code>rides</code>&nbsp;that looks like the following.
  <img alt="&quot;Rides table containing destination, origin and riders&quot;" src="https://cs50.harvard.edu/sql/2024/notes/4/images/41.jpg" referrerpolicy="no-referrer"><br>
</li>
<li data-line="5" dir="auto">If we were to give this data to an analyst, whose job is to find the most popular ride routes, it would be irrelevant and indeed, not secure to give them the names of individual riders. Rider names are likely categorized as Personally Identifiable Information (PII) which companies are not allowed to share indiscriminately.</li>
<li data-line="6" dir="auto">Views can be handy in this situation — we can share with the analyst a view containing the origin and destination of rides, but not the rider names.</li>
<li data-line="7" dir="auto">To try this out, let us open&nbsp;<code>rideshare.db</code>&nbsp;in our terminal. Running&nbsp;<code>.schema</code>&nbsp;should reveal one table called&nbsp;<code>rides</code>&nbsp;in this database.</li>
<li data-line="8" dir="auto"><div class="list-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>We can create a view with the relevant columns, while omitting the&nbsp;<code>rider</code>&nbsp;column altogether. But we will go one step further here, and create a&nbsp;<code>rider</code>&nbsp;column to display an anonymous rider for each row in the table. This will indicate to the analyst that while we have rider names in the database, the names have been anonymized for security.
<pre><code data-line="10">CREATE VIEW "analysis" AS
SELECT "id", "origin", "destination", 'Anonymous' AS "rider" 
FROM "rides";
</code><button class="copy-code-button"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon lucide-copy"><rect x="8" y="8" width="14" height="14" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button></pre>
<ul>
<li data-line="16" dir="auto">We can query this view to ensure that it is secure.
<pre><code data-line="18">SELECT * FROM "analysis";
</code><button class="copy-code-button"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon lucide-copy"><rect x="8" y="8" width="14" height="14" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button></pre>
</li>
</ul>
</li>
<li data-line="22" dir="auto">Although we can create a view that anonymizes data, SQLite does not allow access control. This means that our analyst could simply query the original&nbsp;<code>rides</code>&nbsp;table and see all the rider names we went to great lengths to omit in the&nbsp;<code>analysis</code>&nbsp;view.</li>
</ul></div></div></div><div class="el-h2 heading-wrapper"><h2 data-heading="[Soft Deletions](https://cs50.harvard.edu/sql/2024/notes/4/#soft-deletions)" dir="auto" class="heading" id="[Soft_Deletions](https://cs50.harvard.edu/sql/2024/notes/4/#soft-deletions)"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div><a data-tooltip-position="top" aria-label="https://cs50.harvard.edu/sql/2024/notes/4/#soft-deletions" rel="noopener nofollow" class="external-link" href="https://cs50.harvard.edu/sql/2024/notes/4/#soft-deletions" target="_blank">Soft Deletions</a></h2><div class="heading-children"><div class="el-ul"><ul>
<li data-line="0" dir="auto">As we saw in previous weeks, a soft deletion involves marking a row as deleted instead of removing it from the table.</li>
<li data-line="1" dir="auto">For example, a piece of art called “Farmers working at dawn” is marked as deleted from the&nbsp;<code>collections</code>&nbsp;table by changing the value in the&nbsp;<code>deleted</code>&nbsp;column from 0 to 1.
  <img alt="&quot;Soft deletion of a row by changing the &quot;deleted&quot; value from 0 to 1&quot;" src="https://cs50.harvard.edu/sql/2024/notes/4/images/46.jpg" referrerpolicy="no-referrer"><br>
</li>
<li data-line="5" dir="auto">We can imagine creating a view to display only the art that is not deleted.</li>
<li data-line="6" dir="auto">To try this, let us open&nbsp;<code>mfa.db</code>&nbsp;in our terminal. The&nbsp;<code>collections</code>&nbsp;table does not have a&nbsp;<code>deleted</code>&nbsp;column yet, so we need to add it. The default value here will be 0, to indicate that the row is not deleted.
<pre><code data-line="8">ALTER TABLE "collections" 
ADD COLUMN "deleted" INTEGER DEFAULT 0;
</code><button class="copy-code-button"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon lucide-copy"><rect x="8" y="8" width="14" height="14" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button></pre>
</li>
<li data-line="13" dir="auto">Now, let us perform a soft delete on the artwork “Farmers working at dawn”, by updating it to have 1 in the&nbsp;<code>deleted</code>&nbsp;column.
<pre><code data-line="15">UPDATE "collections" 
SET "deleted" = 1 
WHERE "title" = 'Farmers working at dawn';
</code><button class="copy-code-button"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon lucide-copy"><rect x="8" y="8" width="14" height="14" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button></pre>
</li>
<li data-line="21" dir="auto"><div class="list-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>We can create a view to display information about the rows that are not deleted.
<pre><code data-line="23">CREATE VIEW "current_collections" AS
SELECT "id", "title", "accession_number", "acquired" 
FROM "collections" 
WHERE "deleted" = 0;
</code><button class="copy-code-button"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon lucide-copy"><rect x="8" y="8" width="14" height="14" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button></pre>
<ul>
<li data-line="30" dir="auto">We can display the data in this view to verify that “Farmers working at dawn” is not present.
<pre><code data-line="32">SELECT * FROM "current_collections";
</code><button class="copy-code-button"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon lucide-copy"><rect x="8" y="8" width="14" height="14" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button></pre>
</li>
<li data-line="36" dir="auto">On soft deletion of a row from the underlying table&nbsp;<code>collections</code>, it will be removed from the&nbsp;<code>current_collections</code>&nbsp;view on any further querying.<br>
</li>
</ul>
</li>
<li data-line="38" dir="auto"><div class="list-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>We already know that it is not possible to insert data into or delete data from a view. However, we can set up a trigger that inserts into or deletes from the underlying table! The&nbsp;<code>INSTEAD OF</code>&nbsp;trigger allows us to do this.
<pre><code data-line="40">CREATE TRIGGER "delete"
INSTEAD OF DELETE ON "current_collections"
FOR EACH ROW
BEGIN
    UPDATE "collections" SET "deleted" = 1 
    WHERE "id" = OLD."id";
END;
</code><button class="copy-code-button"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon lucide-copy"><rect x="8" y="8" width="14" height="14" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button></pre>
<ul>
<li data-line="50" dir="auto">Every time we try to delete rows from the view, this trigger will instead update the&nbsp;<code>deleted</code>&nbsp;column of the row in the underlying table&nbsp;<code>collections</code>, thus completing the soft deletion.</li>
<li data-line="51" dir="auto">We use the keyword&nbsp;<code>OLD</code>&nbsp;within our update clause to indicate that the ID of the row updated in&nbsp;<code>collections</code>&nbsp;should be the same as the ID of the row we are trying to delete from&nbsp;<code>current_collections</code>.</li>
</ul>
</li>
<li data-line="52" dir="auto">Now, we can delete a row from the&nbsp;<code>current_collections</code>&nbsp;view.
<pre><code data-line="54">DELETE FROM "current_collections" 
WHERE "title" = 'Imaginative landscape';
</code><button class="copy-code-button"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon lucide-copy"><rect x="8" y="8" width="14" height="14" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button></pre>
  We can verify that this worked by querying the view.
<pre><code data-line="61">SELECT * FROM "current_collections";
</code><button class="copy-code-button"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon lucide-copy"><rect x="8" y="8" width="14" height="14" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button></pre>
</li>
<li data-line="65" dir="auto">Similarly, we can create a trigger that inserts data into the underlying table when we try to insert it into a view.</li>
<li data-line="66" dir="auto"><div class="list-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>There are two situations to consider here. We could be trying to insert into a view a row that already exists in the underlying table, but was soft deleted. We can write the following trigger to handle this situation.
<pre><code data-line="68">CREATE TRIGGER "insert_when_exists"
INSTEAD OF INSERT ON "current_collections"
FOR EACH ROW 
WHEN NEW."accession_number" IN (
    SELECT "accession_number" FROM "collections"
)
BEGIN
    UPDATE "collections" 
    SET "deleted" = 0 
    WHERE "accession_number" = NEW."accession_number";
END;
</code><button class="copy-code-button"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon lucide-copy"><rect x="8" y="8" width="14" height="14" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button></pre>
<ul>
<li data-line="82" dir="auto">The&nbsp;<code>WHEN</code>&nbsp;keyword is used to check if the accession number of the artwork already exists in the&nbsp;<code>collections</code>&nbsp;table. This works because an accession number, as we know from previous weeks, uniquely identifies every piece of art in this table.</li>
<li data-line="83" dir="auto">If the artwork does exist in the underlying table, we set its&nbsp;<code>deleted</code>&nbsp;value to 0, indicating a reversal of the soft deletion.</li>
</ul>
</li>
<li data-line="84" dir="auto"><div class="list-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>The second situation occurs when we are trying to insert a row that does not exist in the underlying table. The following trigger handles this situation.
<pre><code data-line="86">CREATE TRIGGER "insert_when_new"
INSTEAD OF INSERT ON "current_collections"
FOR EACH ROW
WHEN NEW."accession_number" NOT IN (
    SELECT "accession_number" FROM "collections"
)
BEGIN
    INSERT INTO "collections" ("title", "accession_number", "acquired")
    VALUES (NEW."title", NEW."accession_number", NEW."acquired");
END;
</code><button class="copy-code-button"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon lucide-copy"><rect x="8" y="8" width="14" height="14" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button></pre>
<ul>
<li data-line="99" dir="auto">When the accession number of the inserted data is not already present within&nbsp;<code>collections</code>, it inserts the row into the table.</li>
</ul>
</li>
</ul></div></div></div><div class="el-h2 heading-wrapper"><h2 data-heading="[Fin](https://cs50.harvard.edu/sql/2024/notes/4/#fin)" dir="auto" class="heading" id="[Fin](https://cs50.harvard.edu/sql/2024/notes/4/#fin)"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div><a data-tooltip-position="top" aria-label="https://cs50.harvard.edu/sql/2024/notes/4/#fin" rel="noopener nofollow" class="external-link" href="https://cs50.harvard.edu/sql/2024/notes/4/#fin" target="_blank">Fin</a></h2><div class="heading-children"><div class="el-ul"><ul>
<li data-line="0" dir="auto">This brings us to the conclusion of Lecture 4 about Viewing in SQL!</li>
</ul></div><div class="mod-footer mod-ui"></div></div></div></div></div></div></div></div><div class="sidebar-right sidebar"><div class="sidebar-handle"></div><div class="sidebar-topbar"><div class="topbar-content"></div><div class="clickable-icon sidebar-collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="100%" height="100%" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" class="svg-icon"><path d="M21 3H3C1.89543 3 1 3.89543 1 5V19C1 20.1046 1.89543 21 3 21H21C22.1046 21 23 20.1046 23 19V5C23 3.89543 22.1046 3 21 3Z"></path><path d="M10 4V20"></path><path d="M4 7H7"></path><path d="M4 10H7"></path><path d="M4 13H7"></path></svg></div></div><div class="sidebar-content"><div class="graph-view-wrapper"><div class="sidebar-section-header">Interactive Graph</div><div class="graph-view-placeholder">
		<div class="graph-view-container">
			<div class="graph-icon graph-expand" role="button" aria-label="Expand" data-tooltip-position="top"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon"><line x1="7" y1="17" x2="17" y2="7"></line><polyline points="7 7 17 7 17 17"></polyline></svg></div>
			<canvas id="graph-canvas" class="hide" width="512px" height="512px"></canvas>
		</div>
		</div></div><div class="tree-container mod-root nav-folder tree-item outline-tree" data-depth="0"><div class="tree-header"><span class="sidebar-section-header">Table Of Contents</span><button class="clickable-icon collapse-tree-button" aria-label="Collapse All"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></svg></button></div><div class="tree-scroll-area tree-item-children nav-folder-children"><div class="tree-item mod-tree-folder nav-folder mod-collapsible is-collapsed" style="display: none;"></div><div class="tree-item" data-depth="1"><a class="tree-link" href="cs50-sql\lecture-4-viewing-(nc).html#<a data-tooltip-position=&quot;top&quot; aria-label=&quot;https://cs50.harvard.edu/sql/2024/notes/4/#lecture-4&quot; rel=&quot;noopener nofollow&quot; class=&quot;external-link&quot; href=&quot;https://cs50.harvard.edu/sql/2024/notes/4/#lecture-4&quot; target=&quot;_blank&quot;>Lecture 4</a>"><div class="tree-item-contents heading-link" heading-name="Lecture 4"><span class="tree-item-title">Lecture 4</span></div></a><div class="tree-item-children nav-folder-children"><div class="tree-item" data-depth="2"><a class="tree-link" href="cs50-sql\lecture-4-viewing-(nc).html#[Introduction](https://cs50.harvard.edu/sql/2024/notes/4/#introduction)"><div class="tree-item-contents heading-link" heading-name="[Introduction](https://cs50.harvard.edu/sql/2024/notes/4/#introduction)"><span class="tree-item-title"><a data-tooltip-position="top" aria-label="https://cs50.harvard.edu/sql/2024/notes/4/#introduction" rel="noopener nofollow" class="external-link" href="https://cs50.harvard.edu/sql/2024/notes/4/#introduction" target="_blank">Introduction</a></span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item" data-depth="2"><a class="tree-link" href="cs50-sql\lecture-4-viewing-(nc).html#[Views](https://cs50.harvard.edu/sql/2024/notes/4/#views)"><div class="tree-item-contents heading-link" heading-name="[Views](https://cs50.harvard.edu/sql/2024/notes/4/#views)"><span class="tree-item-title"><a data-tooltip-position="top" aria-label="https://cs50.harvard.edu/sql/2024/notes/4/#views" rel="noopener nofollow" class="external-link" href="https://cs50.harvard.edu/sql/2024/notes/4/#views" target="_blank">Views</a></span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item mod-collapsible" data-depth="2"><a class="tree-link" href="cs50-sql\lecture-4-viewing-(nc).html#[Simplifying](https://cs50.harvard.edu/sql/2024/notes/4/#simplifying)"><div class="tree-item-contents heading-link" heading-name="[Simplifying](https://cs50.harvard.edu/sql/2024/notes/4/#simplifying)"><div class="collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div><span class="tree-item-title"><a data-tooltip-position="top" aria-label="https://cs50.harvard.edu/sql/2024/notes/4/#simplifying" rel="noopener nofollow" class="external-link" href="https://cs50.harvard.edu/sql/2024/notes/4/#simplifying" target="_blank">Simplifying</a></span></div></a><div class="tree-item-children nav-folder-children"><div class="tree-item" data-depth="3"><a class="tree-link" href="cs50-sql\lecture-4-viewing-(nc).html#[Questions](https://cs50.harvard.edu/sql/2024/notes/4/#questions)"><div class="tree-item-contents heading-link" heading-name="[Questions](https://cs50.harvard.edu/sql/2024/notes/4/#questions)"><span class="tree-item-title"><a data-tooltip-position="top" aria-label="https://cs50.harvard.edu/sql/2024/notes/4/#questions" rel="noopener nofollow" class="external-link" href="https://cs50.harvard.edu/sql/2024/notes/4/#questions" target="_blank">Questions</a></span></div></a><div class="tree-item-children nav-folder-children"></div></div></div></div><div class="tree-item mod-collapsible" data-depth="2"><a class="tree-link" href="cs50-sql\lecture-4-viewing-(nc).html#[Aggregating](https://cs50.harvard.edu/sql/2024/notes/4/#aggregating)"><div class="tree-item-contents heading-link" heading-name="[Aggregating](https://cs50.harvard.edu/sql/2024/notes/4/#aggregating)"><div class="collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div><span class="tree-item-title"><a data-tooltip-position="top" aria-label="https://cs50.harvard.edu/sql/2024/notes/4/#aggregating" rel="noopener nofollow" class="external-link" href="https://cs50.harvard.edu/sql/2024/notes/4/#aggregating" target="_blank">Aggregating</a></span></div></a><div class="tree-item-children nav-folder-children"><div class="tree-item" data-depth="3"><a class="tree-link" href="cs50-sql\lecture-4-viewing-(nc).html#[Questions](https://cs50.harvard.edu/sql/2024/notes/4/#questions-1)"><div class="tree-item-contents heading-link" heading-name="[Questions](https://cs50.harvard.edu/sql/2024/notes/4/#questions-1)"><span class="tree-item-title"><a data-tooltip-position="top" aria-label="https://cs50.harvard.edu/sql/2024/notes/4/#questions-1" rel="noopener nofollow" class="external-link" href="https://cs50.harvard.edu/sql/2024/notes/4/#questions-1" target="_blank">Questions</a></span></div></a><div class="tree-item-children nav-folder-children"></div></div></div></div><div class="tree-item" data-depth="2"><a class="tree-link" href="cs50-sql\lecture-4-viewing-(nc).html#[Common_Table_Expression_(CTE)](https://cs50.harvard.edu/sql/2024/notes/4/#common-table-expression-cte)"><div class="tree-item-contents heading-link" heading-name="[Common Table Expression (CTE)](https://cs50.harvard.edu/sql/2024/notes/4/#common-table-expression-cte)"><span class="tree-item-title"><a data-tooltip-position="top" aria-label="https://cs50.harvard.edu/sql/2024/notes/4/#common-table-expression-cte" rel="noopener nofollow" class="external-link" href="https://cs50.harvard.edu/sql/2024/notes/4/#common-table-expression-cte" target="_blank">Common Table Expression (CTE)</a></span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item mod-collapsible" data-depth="2"><a class="tree-link" href="cs50-sql\lecture-4-viewing-(nc).html#[Partitioning](https://cs50.harvard.edu/sql/2024/notes/4/#partitioning)"><div class="tree-item-contents heading-link" heading-name="[Partitioning](https://cs50.harvard.edu/sql/2024/notes/4/#partitioning)"><div class="collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div><span class="tree-item-title"><a data-tooltip-position="top" aria-label="https://cs50.harvard.edu/sql/2024/notes/4/#partitioning" rel="noopener nofollow" class="external-link" href="https://cs50.harvard.edu/sql/2024/notes/4/#partitioning" target="_blank">Partitioning</a></span></div></a><div class="tree-item-children nav-folder-children"><div class="tree-item" data-depth="3"><a class="tree-link" href="cs50-sql\lecture-4-viewing-(nc).html#[Questions](https://cs50.harvard.edu/sql/2024/notes/4/#questions-2)"><div class="tree-item-contents heading-link" heading-name="[Questions](https://cs50.harvard.edu/sql/2024/notes/4/#questions-2)"><span class="tree-item-title"><a data-tooltip-position="top" aria-label="https://cs50.harvard.edu/sql/2024/notes/4/#questions-2" rel="noopener nofollow" class="external-link" href="https://cs50.harvard.edu/sql/2024/notes/4/#questions-2" target="_blank">Questions</a></span></div></a><div class="tree-item-children nav-folder-children"></div></div></div></div><div class="tree-item" data-depth="2"><a class="tree-link" href="cs50-sql\lecture-4-viewing-(nc).html#[Securing](https://cs50.harvard.edu/sql/2024/notes/4/#securing)"><div class="tree-item-contents heading-link" heading-name="[Securing](https://cs50.harvard.edu/sql/2024/notes/4/#securing)"><span class="tree-item-title"><a data-tooltip-position="top" aria-label="https://cs50.harvard.edu/sql/2024/notes/4/#securing" rel="noopener nofollow" class="external-link" href="https://cs50.harvard.edu/sql/2024/notes/4/#securing" target="_blank">Securing</a></span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item" data-depth="2"><a class="tree-link" href="cs50-sql\lecture-4-viewing-(nc).html#[Soft_Deletions](https://cs50.harvard.edu/sql/2024/notes/4/#soft-deletions)"><div class="tree-item-contents heading-link" heading-name="[Soft Deletions](https://cs50.harvard.edu/sql/2024/notes/4/#soft-deletions)"><span class="tree-item-title"><a data-tooltip-position="top" aria-label="https://cs50.harvard.edu/sql/2024/notes/4/#soft-deletions" rel="noopener nofollow" class="external-link" href="https://cs50.harvard.edu/sql/2024/notes/4/#soft-deletions" target="_blank">Soft Deletions</a></span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item" data-depth="2"><a class="tree-link" href="cs50-sql\lecture-4-viewing-(nc).html#[Fin](https://cs50.harvard.edu/sql/2024/notes/4/#fin)"><div class="tree-item-contents heading-link" heading-name="[Fin](https://cs50.harvard.edu/sql/2024/notes/4/#fin)"><span class="tree-item-title"><a data-tooltip-position="top" aria-label="https://cs50.harvard.edu/sql/2024/notes/4/#fin" rel="noopener nofollow" class="external-link" href="https://cs50.harvard.edu/sql/2024/notes/4/#fin" target="_blank">Fin</a></span></div></a><div class="tree-item-children nav-folder-children"></div></div></div></div></div></div></div><script defer="">let rs = document.querySelector(".sidebar-right"); rs.classList.add("is-collapsed"); if (window.innerWidth > 768) rs.classList.remove("is-collapsed"); rs.style.setProperty("--sidebar-width", localStorage.getItem("sidebar-right-width"));</script></div></div></body></html>