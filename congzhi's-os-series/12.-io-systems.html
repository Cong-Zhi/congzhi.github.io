<!DOCTYPE html> <html><head>
		<title>12. IO Systems</title>
		<base href="../">
		<meta id="root-path" root-path="../">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes, minimum-scale=1.0, maximum-scale=5.0">
		<meta charset="UTF-8">
		<meta name="description" content="Congzhi's Notes Vault - 12. IO Systems">
		<meta property="og:title" content="12. IO Systems">
		<meta property="og:description" content="Congzhi's Notes Vault - 12. IO Systems">
		<meta property="og:type" content="website">
		<meta property="og:url" content="https://congzhi.wiki/congzhi's-os-series/12.-io-systems.html">
		<meta property="og:image" content="https://congzhi.wiki/congzhi's-os-series/pics/pasted-image-20241121010744.jpg">
		<meta property="og:site_name" content="Congzhi's Notes Vault">
		<meta name="author" content="Congzhi"><link rel="alternate" type="application/rss+xml" title="RSS Feed" href="https://congzhi.wiki/lib/rss.xml"><script async="" id="webpage-script" src="lib/scripts/webpage.js" onload="this.onload=null;this.setAttribute(&quot;loaded&quot;, &quot;true&quot;)"></script><script type="module" async="" id="graph-view-script" src="lib/scripts/graph-view.js"></script><script async="" id="graph-wasm-script" src="lib/scripts/graph-wasm.js" onload="this.onload=null;this.setAttribute(&quot;loaded&quot;, &quot;true&quot;)"></script><script async="" id="graph-render-worker-script" src="lib/scripts/graph-render-worker.js" onload="this.onload=null;this.setAttribute(&quot;loaded&quot;, &quot;true&quot;)"></script><script async="" id="tinycolor-script" src="lib/scripts/tinycolor.js" onload="this.onload=null;this.setAttribute(&quot;loaded&quot;, &quot;true&quot;)"></script><script async="" id="pixi-script" src="https://cdnjs.cloudflare.com/ajax/libs/pixi.js/7.4.0/pixi.min.js" onload="this.onload=null;this.setAttribute(&quot;loaded&quot;, &quot;true&quot;)"></script><script async="" id="minisearch-script" src="https://cdn.jsdelivr.net/npm/minisearch@6.3.0/dist/umd/index.min.js" onload="this.onload=null;this.setAttribute(&quot;loaded&quot;, &quot;true&quot;)"></script><link rel="icon" href="lib/media/favicon.png"><script async="" id="graph-data-script" src="lib/scripts/graph-data.js" onload="this.onload=null;this.setAttribute(&quot;loaded&quot;, &quot;true&quot;)"></script><style>body{--line-width:40em;--line-width-adaptive:40em;--file-line-width:40em;--sidebar-width:min(20em, 80vw);--collapse-arrow-size:11px;--tree-horizontal-spacing:0.6em;--tree-vertical-spacing:0.6em;--sidebar-margin:12px}.sidebar{height:100%;min-width:calc(var(--sidebar-width) + var(--divider-width-hover));max-width:calc(var(--sidebar-width) + var(--divider-width-hover));font-size:14px;z-index:10;position:relative;overflow:hidden;transition:min-width ease-in-out,max-width ease-in-out;transition-duration:.2s;contain:size}.sidebar-left{left:0}.sidebar-right{right:0}.sidebar.is-collapsed{min-width:0;max-width:0}body.floating-sidebars .sidebar{position:absolute}.sidebar-content{height:100%;min-width:calc(var(--sidebar-width) - var(--divider-width-hover));top:0;padding:var(--sidebar-margin);padding-top:4em;line-height:var(--line-height-tight);background-color:var(--background-secondary);transition:background-color,border-right,border-left,box-shadow;transition-duration:var(--color-fade-speed);transition-timing-function:ease-in-out;position:absolute;display:flex;flex-direction:column}.sidebar:not(.is-collapsed) .sidebar-content{min-width:calc(max(100%,var(--sidebar-width)) - 3px);max-width:calc(max(100%,var(--sidebar-width)) - 3px)}.sidebar-left .sidebar-content{left:0;border-top-right-radius:var(--radius-l);border-bottom-right-radius:var(--radius-l)}.sidebar-right .sidebar-content{right:0;border-top-left-radius:var(--radius-l);border-bottom-left-radius:var(--radius-l)}.sidebar:has(.sidebar-content:empty):has(.topbar-content:empty){display:none}.sidebar-topbar{height:2em;width:var(--sidebar-width);top:var(--sidebar-margin);padding-inline:var(--sidebar-margin);z-index:1;position:fixed;display:flex;align-items:center;transition:width ease-in-out;transition-duration:inherit}.sidebar.is-collapsed .sidebar-topbar{width:calc(2.3em + var(--sidebar-margin) * 2)}.sidebar .sidebar-topbar.is-collapsed{width:0}.sidebar-left .sidebar-topbar{left:0}.sidebar-right .sidebar-topbar{right:0}.topbar-content{overflow:hidden;overflow:clip;width:100%;height:100%;display:flex;align-items:center;transition:inherit}.sidebar.is-collapsed .topbar-content{width:0;transition:inherit}.clickable-icon.sidebar-collapse-icon{background-color:transparent;color:var(--icon-color-focused);padding:0!important;margin:0!important;height:100%!important;width:2.3em!important;margin-inline:0.14em!important;position:absolute}.sidebar-left .clickable-icon.sidebar-collapse-icon{transform:rotateY(180deg);right:var(--sidebar-margin)}.sidebar-right .clickable-icon.sidebar-collapse-icon{transform:rotateY(180deg);left:var(--sidebar-margin)}.clickable-icon.sidebar-collapse-icon svg.svg-icon{width:100%;height:100%}.sidebar-section-header{margin:0 0 1em 0;text-transform:uppercase;letter-spacing:.06em;font-weight:600}body{transition:background-color var(--color-fade-speed) ease-in-out}.webpage-container{display:flex;flex-direction:row;height:100%;width:100%;align-items:stretch;justify-content:center}.document-container{opacity:1;flex-basis:100%;max-width:100%;width:100%;height:100%;display:flex;flex-direction:column;align-items:center;transition:opacity .2s ease-in-out;contain:inline-size}.hide{opacity:0;transition:opacity .2s ease-in-out}.document-container>.markdown-preview-view{margin:var(--sidebar-margin);margin-bottom:0;width:100%;width:-webkit-fill-available;width:-moz-available;width:fill-available;background-color:var(--background-primary);transition:background-color var(--color-fade-speed) ease-in-out;border-top-right-radius:var(--window-radius,var(--radius-m));border-top-left-radius:var(--window-radius,var(--radius-m));overflow-x:hidden!important;overflow-y:auto!important;display:flex!important;flex-direction:column!important;align-items:center!important;contain:inline-size}.document-container>.markdown-preview-view>.markdown-preview-sizer{padding-bottom:80vh!important;width:100%!important;max-width:var(--line-width)!important;flex-basis:var(--line-width)!important;transition:background-color var(--color-fade-speed) ease-in-out;contain:inline-size}.markdown-rendered img:not([width]),.view-content img:not([width]){max-width:100%;outline:0}.document-container>.view-content.embed{display:flex;padding:1em;height:100%;width:100%;align-items:center;justify-content:center}.document-container>.view-content.embed>*{max-width:100%;max-height:100%;object-fit:contain}:has(> :is(.math,table)){overflow-x:auto!important}.document-container>.view-content{overflow-x:auto;contain:content;padding:0;margin:0;height:100%}.scroll-highlight{position:absolute;width:100%;height:100%;pointer-events:none;z-index:1000;background-color:hsla(var(--color-accent-hsl),.25);opacity:0;padding:1em;inset:50%;translate:-50% -50%;border-radius:var(--radius-s)}</style><script defer="">async function loadIncludes(){if("file:"!=location.protocol){let e=document.querySelectorAll("include");for(let t=0;t<e.length;t++){let o=e[t],l=o.getAttribute("src");try{const e=await fetch(l);if(!e.ok){console.log("Could not include file: "+l),o?.remove();continue}let t=await e.text(),n=document.createRange().createContextualFragment(t),i=Array.from(n.children);for(let e of i)e.classList.add("hide"),e.style.transition="opacity 0.5s ease-in-out",setTimeout((()=>{e.classList.remove("hide")}),10);o.before(n),o.remove(),console.log("Included file: "+l)}catch(e){o?.remove(),console.log("Could not include file: "+l,e);continue}}}else{if(document.querySelectorAll("include").length>0){var e=document.createElement("div");e.id="error",e.textContent="Web server exports must be hosted on an http / web server to be viewed correctly.",e.style.position="fixed",e.style.top="50%",e.style.left="50%",e.style.transform="translate(-50%, -50%)",e.style.fontSize="1.5em",e.style.fontWeight="bold",e.style.textAlign="center",document.body.appendChild(e),document.querySelector(".document-container")?.classList.remove("hide")}}}document.addEventListener("DOMContentLoaded",(()=>{loadIncludes()}));let isFileProtocol="file:"==location.protocol;function waitLoadScripts(e,t){let o=e.map((e=>document.getElementById(e+"-script"))),l=0;!function e(){let n=o[l];l++,n&&"true"!=n.getAttribute("loaded")||l<o.length&&e(),l<o.length?n.addEventListener("load",e):t()}()}</script><link rel="stylesheet" href="lib/styles/obsidian.css"><link rel="preload" href="lib/styles/other-plugins.css" as="style" onload="this.onload=null;this.rel='stylesheet'"><noscript><link rel="stylesheet" href="lib/styles/other-plugins.css"></noscript><link rel="preload" href="lib/styles/global-variable-styles.css" as="style" onload="this.onload=null;this.rel='stylesheet'"><noscript><link rel="stylesheet" href="lib/styles/global-variable-styles.css"></noscript><link rel="preload" href="lib/styles/main-styles.css" as="style" onload="this.onload=null;this.rel='stylesheet'"><noscript><link rel="stylesheet" href="lib/styles/main-styles.css"></noscript></head><body class="publish css-settings-manager theme-light show-inline-title show-ribbon"><script defer="">let theme=localStorage.getItem("theme")||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light");"dark"==theme?(document.body.classList.add("theme-dark"),document.body.classList.remove("theme-light")):(document.body.classList.add("theme-light"),document.body.classList.remove("theme-dark")),window.innerWidth<480?document.body.classList.add("is-phone"):window.innerWidth<768?document.body.classList.add("is-tablet"):window.innerWidth<1024?document.body.classList.add("is-small-screen"):document.body.classList.add("is-large-screen")</script><div class="webpage-container workspace"><div class="sidebar-left sidebar"><div class="sidebar-handle"></div><div class="sidebar-topbar"><div class="topbar-content"><label class="theme-toggle-container" for="theme_toggle"><input class="theme-toggle-input" type="checkbox" id="theme_toggle"><div class="toggle-background"></div></label></div><div class="clickable-icon sidebar-collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="100%" height="100%" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" class="svg-icon"><path d="M21 3H3C1.89543 3 1 3.89543 1 5V19C1 20.1046 1.89543 21 3 21H21C22.1046 21 23 20.1046 23 19V5C23 3.89543 22.1046 3 21 3Z"></path><path d="M10 4V20"></path><path d="M4 7H7"></path><path d="M4 10H7"></path><path d="M4 13H7"></path></svg></div></div><div class="sidebar-content"><div class="search-input-container"><input enterkeyhint="search" type="search" spellcheck="false" placeholder="Search..."><div class="search-input-clear-button" aria-label="Clear search"></div></div><include src="lib/html/file-tree.html"></include></div><script defer="">let ls = document.querySelector(".sidebar-left"); ls.classList.add("is-collapsed"); if (window.innerWidth > 768) ls.classList.remove("is-collapsed"); ls.style.setProperty("--sidebar-width", localStorage.getItem("sidebar-left-width"));</script></div><div class="document-container markdown-reading-view hide"><div class="markdown-preview-view markdown-rendered allow-fold-headings allow-fold-lists is-readable-line-width"><style id="MJX-CHTML-styles">mjx-c.mjx-c3B::before { padding: 0.43em 0.278em 0.194em 0px; content: ";"; }
mjx-mover { display: inline-block; text-align: left; }
mjx-mover:not([limits="false"]) { padding-top: 0.1em; }
mjx-mover:not([limits="false"]) > * { display: block; text-align: left; }
mjx-c.mjx-c5E::before { padding: 0.694em 0.5em 0px 0px; content: "^"; }
mjx-c.mjx-c55::before { padding: 0.683em 0.75em 0.022em 0px; content: "U"; }
mjx-c.mjx-c1D44C.TEX-I::before { padding: 0.683em 0.763em 0px 0px; content: "Y"; }
mjx-mspace { display: inline-block; text-align: left; }
mjx-c.mjx-cD7::before { padding: 0.491em 0.778em 0px 0px; content: "×"; }
mjx-munder { display: inline-block; text-align: left; }
mjx-over { text-align: left; }
mjx-munder:not([limits="false"]) { display: inline-table; }
mjx-munder > mjx-row { text-align: left; }
mjx-under { padding-bottom: 0.1em; }
mjx-c.mjx-c5C::before { padding: 0.75em 0.5em 0.25em 0px; content: "\\"; }
mjx-msqrt { display: inline-block; text-align: left; }
mjx-root { display: inline-block; white-space: nowrap; }
mjx-surd { display: inline-block; vertical-align: top; }
mjx-sqrt { display: inline-block; padding-top: 0.07em; }
mjx-sqrt > mjx-box { border-top: 0.07em solid; }
mjx-sqrt.mjx-tall > mjx-box { padding-left: 0.3em; margin-left: -0.3em; }
mjx-c.mjx-c221A::before { padding: 0.8em 0.853em 0.2em 0px; content: "√"; }
mjx-c.mjx-c2061::before { padding: 0px; content: ""; }
mjx-c.mjx-c1D442.TEX-I::before { padding: 0.704em 0.763em 0.022em 0px; content: "O"; }
mjx-c.mjx-c4B::before { padding: 0.683em 0.778em 0px 0px; content: "K"; }
mjx-c.mjx-c46::before { padding: 0.68em 0.653em 0px 0px; content: "F"; }
mjx-c.mjx-c7A::before { padding: 0.431em 0.444em 0px 0px; content: "z"; }
mjx-c.mjx-cD7::before { padding: 0.491em 0.778em 0px 0px; content: "×"; }
mjx-c.mjx-c4D::before { padding: 0.683em 0.917em 0px 0px; content: "M"; }
mjx-c.mjx-c1D43A.TEX-I::before { padding: 0.705em 0.786em 0.022em 0px; content: "G"; }
mjx-c.mjx-c70::before { padding: 0.442em 0.556em 0.194em 0px; content: "p"; }
mjx-c.mjx-cB1::before { padding: 0.666em 0.778em 0px 0px; content: "±"; }
mjx-c.mjx-c5F::before { padding: 0px 0.5em 0.062em 0px; content: "_"; }
mjx-mtable { display: inline-block; text-align: center; vertical-align: 0.25em; position: relative; box-sizing: border-box; border-spacing: 0px; border-collapse: collapse; }
mjx-mstyle[size="s"] mjx-mtable { vertical-align: 0.354em; }
mjx-labels { position: absolute; left: 0px; top: 0px; }
mjx-table { display: inline-block; vertical-align: -0.5ex; box-sizing: border-box; }
mjx-table > mjx-itable { vertical-align: middle; text-align: left; box-sizing: border-box; }
mjx-labels > mjx-itable { position: absolute; top: 0px; }
mjx-mtable[justify="left"] { text-align: left; }
mjx-mtable[justify="right"] { text-align: right; }
mjx-mtable[justify="left"][side="left"] { padding-right: 0px !important; }
mjx-mtable[justify="left"][side="right"] { padding-left: 0px !important; }
mjx-mtable[justify="right"][side="left"] { padding-right: 0px !important; }
mjx-mtable[justify="right"][side="right"] { padding-left: 0px !important; }
mjx-mtable[align] { vertical-align: baseline; }
mjx-mtable[align="top"] > mjx-table { vertical-align: top; }
mjx-mtable[align="bottom"] > mjx-table { vertical-align: bottom; }
mjx-mtable[side="right"] mjx-labels { min-width: 100%; }
mjx-mtr { display: table-row; text-align: left; }
mjx-mtr[rowalign="top"] > mjx-mtd { vertical-align: top; }
mjx-mtr[rowalign="center"] > mjx-mtd { vertical-align: middle; }
mjx-mtr[rowalign="bottom"] > mjx-mtd { vertical-align: bottom; }
mjx-mtr[rowalign="baseline"] > mjx-mtd { vertical-align: baseline; }
mjx-mtr[rowalign="axis"] > mjx-mtd { vertical-align: 0.25em; }
mjx-mtd { display: table-cell; text-align: center; padding: 0.215em 0.4em; }
mjx-mtd:first-child { padding-left: 0px; }
mjx-mtd:last-child { padding-right: 0px; }
mjx-mtable > * > mjx-itable > :first-child > mjx-mtd { padding-top: 0px; }
mjx-mtable > * > mjx-itable > :last-child > mjx-mtd { padding-bottom: 0px; }
mjx-tstrut { display: inline-block; height: 1em; vertical-align: -0.25em; }
mjx-labels[align="left"] > mjx-mtr > mjx-mtd { text-align: left; }
mjx-labels[align="right"] > mjx-mtr > mjx-mtd { text-align: right; }
mjx-mtd[extra] { padding: 0px; }
mjx-mtd[rowalign="top"] { vertical-align: top; }
mjx-mtd[rowalign="center"] { vertical-align: middle; }
mjx-mtd[rowalign="bottom"] { vertical-align: bottom; }
mjx-mtd[rowalign="baseline"] { vertical-align: baseline; }
mjx-mtd[rowalign="axis"] { vertical-align: 0.25em; }
mjx-stretchy-v.mjx-c5B mjx-beg mjx-c::before { content: "⎡"; padding: 1.154em 0.667em 0.645em 0px; }
mjx-stretchy-v.mjx-c5B mjx-ext mjx-c::before { content: "⎢"; width: 0.667em; }
mjx-stretchy-v.mjx-c5B mjx-end mjx-c::before { content: "⎣"; padding: 1.155em 0.667em 0.644em 0px; }
mjx-stretchy-v.mjx-c5B > mjx-end { margin-top: -1.799em; }
mjx-stretchy-v.mjx-c5B > mjx-ext { border-top-width: 1.769em; border-bottom-width: 1.769em; }
mjx-stretchy-v.mjx-c5D mjx-beg mjx-c::before { content: "⎤"; padding: 1.154em 0.667em 0.645em 0px; }
mjx-stretchy-v.mjx-c5D mjx-ext mjx-c::before { content: "⎥"; width: 0.667em; }
mjx-stretchy-v.mjx-c5D mjx-end mjx-c::before { content: "⎦"; padding: 1.155em 0.667em 0.644em 0px; }
mjx-stretchy-v.mjx-c5D > mjx-end { margin-top: -1.799em; }
mjx-stretchy-v.mjx-c5D > mjx-ext { border-top-width: 1.769em; border-bottom-width: 1.769em; }
mjx-c.mjx-c1D703.TEX-I::before { padding: 0.705em 0.469em 0.01em 0px; content: "θ"; }
mjx-c.mjx-c1D434.TEX-I::before { padding: 0.716em 0.75em 0px 0px; content: "A"; }
mjx-c.mjx-c5B::before { padding: 0.75em 0.278em 0.25em 0px; content: "["; }
mjx-c.mjx-c5D::before { padding: 0.75em 0.278em 0.25em 0px; content: "]"; }
mjx-c.mjx-c22EF::before { padding: 0.31em 1.172em 0px 0px; content: "⋯"; }
mjx-c.mjx-c22EE::before { padding: 1.3em 0.278em 0.03em 0px; content: "⋮"; }
mjx-c.mjx-c22F1::before { padding: 1.52em 1.282em 0px 0px; content: "⋱"; }
mjx-c.mjx-c1D44A.TEX-I::before { padding: 0.683em 1.048em 0.022em 0px; content: "W"; }
mjx-c.mjx-c1D444.TEX-I::before { padding: 0.704em 0.791em 0.194em 0px; content: "Q"; }
mjx-c.mjx-c3E::before { padding: 0.54em 0.778em 0.04em 0px; content: ">"; }
mjx-c.mjx-c1D70F.TEX-I::before { padding: 0.431em 0.517em 0.013em 0px; content: "τ"; }
mjx-c.mjx-c1D458.TEX-I::before { padding: 0.694em 0.521em 0.011em 0px; content: "k"; }
mjx-c.mjx-c2211.TEX-S2::before { padding: 0.95em 1.444em 0.45em 0px; content: "∑"; }
mjx-c.mjx-c3C::before { padding: 0.54em 0.778em 0.04em 0px; content: "<"; }
mjx-c.mjx-c44::before { padding: 0.683em 0.764em 0px 0px; content: "D"; }
mjx-c.mjx-c20::before { padding: 0px 0.25em 0px 0px; content: " "; }
mjx-c.mjx-c6D::before { padding: 0.442em 0.833em 0px 0px; content: "m"; }
mjx-c.mjx-c2D::before { padding: 0.252em 0.333em 0px 0px; content: "-"; }
mjx-c.mjx-c75::before { padding: 0.442em 0.556em 0.011em 0px; content: "u"; }
mjx-c.mjx-c6B::before { padding: 0.694em 0.528em 0px 0px; content: "k"; }
mjx-c.mjx-c52::before { padding: 0.683em 0.736em 0.022em 0px; content: "R"; }
mjx-c.mjx-c67::before { padding: 0.453em 0.5em 0.206em 0px; content: "g"; }
mjx-c.mjx-c45::before { padding: 0.68em 0.681em 0px 0px; content: "E"; }
mjx-c.mjx-c78::before { padding: 0.431em 0.528em 0px 0px; content: "x"; }
mjx-c.mjx-c220F.TEX-S2::before { padding: 0.95em 1.278em 0.45em 0px; content: "∏"; }
mjx-c.mjx-c2264::before { padding: 0.636em 0.778em 0.138em 0px; content: "≤"; }
mjx-c.mjx-c1D457.TEX-I::before { padding: 0.661em 0.412em 0.204em 0px; content: "j"; }
mjx-c.mjx-c1D435.TEX-I::before { padding: 0.683em 0.759em 0px 0px; content: "B"; }
mjx-c.mjx-c47::before { padding: 0.705em 0.785em 0.022em 0px; content: "G"; }
mjx-c.mjx-c4C::before { padding: 0.683em 0.625em 0px 0px; content: "L"; }
mjx-c.mjx-c42::before { padding: 0.683em 0.708em 0px 0px; content: "B"; }
mjx-c.mjx-c41::before { padding: 0.716em 0.75em 0px 0px; content: "A"; }
mjx-c.mjx-c43::before { padding: 0.705em 0.722em 0.021em 0px; content: "C"; }
mjx-c.mjx-c79::before { padding: 0.431em 0.528em 0.204em 0px; content: "y"; }
mjx-c.mjx-c6C::before { padding: 0.694em 0.278em 0px 0px; content: "l"; }
mjx-c.mjx-c69::before { padding: 0.669em 0.278em 0px 0px; content: "i"; }
mjx-c.mjx-c6E::before { padding: 0.442em 0.556em 0px 0px; content: "n"; }
mjx-c.mjx-c64::before { padding: 0.694em 0.556em 0.011em 0px; content: "d"; }
mjx-c.mjx-c65::before { padding: 0.448em 0.444em 0.011em 0px; content: "e"; }
mjx-c.mjx-c72::before { padding: 0.442em 0.392em 0px 0px; content: "r"; }
mjx-c.mjx-c4E::before { padding: 0.683em 0.75em 0px 0px; content: "N"; }
mjx-c.mjx-c68::before { padding: 0.694em 0.556em 0px 0px; content: "h"; }
mjx-c.mjx-c61::before { padding: 0.448em 0.5em 0.011em 0px; content: "a"; }
mjx-c.mjx-c48::before { padding: 0.683em 0.75em 0px 0px; content: "H"; }
mjx-c.mjx-c63::before { padding: 0.448em 0.444em 0.011em 0px; content: "c"; }
mjx-c.mjx-c74::before { padding: 0.615em 0.389em 0.01em 0px; content: "t"; }
mjx-c.mjx-c6F::before { padding: 0.448em 0.5em 0.01em 0px; content: "o"; }
mjx-c.mjx-c53::before { padding: 0.705em 0.556em 0.022em 0px; content: "S"; }
mjx-c.mjx-c54::before { padding: 0.677em 0.722em 0px 0px; content: "T"; }
mjx-c.mjx-c5A::before { padding: 0.683em 0.611em 0px 0px; content: "Z"; }
mjx-msup { display: inline-block; text-align: left; }
mjx-c.mjx-c38::before { padding: 0.666em 0.5em 0.022em 0px; content: "8"; }
mjx-c.mjx-c39::before { padding: 0.666em 0.5em 0.022em 0px; content: "9"; }
mjx-c.mjx-c73::before { padding: 0.448em 0.394em 0.011em 0px; content: "s"; }
mjx-c.mjx-c1D448.TEX-I::before { padding: 0.683em 0.767em 0.022em 0px; content: "U"; }
mjx-c.mjx-c37::before { padding: 0.676em 0.5em 0.022em 0px; content: "7"; }
mjx-c.mjx-c1D438.TEX-I::before { padding: 0.68em 0.764em 0px 0px; content: "E"; }
mjx-c.mjx-c1D6FC.TEX-I::before { padding: 0.442em 0.64em 0.011em 0px; content: "α"; }
mjx-c.mjx-c1D463.TEX-I::before { padding: 0.443em 0.485em 0.011em 0px; content: "v"; }
mjx-c.mjx-c1D6FD.TEX-I::before { padding: 0.705em 0.566em 0.194em 0px; content: "β"; }
mjx-c.mjx-c7C::before { padding: 0.75em 0.278em 0.249em 0px; content: "|"; }
mjx-c.mjx-c1D43C.TEX-I::before { padding: 0.683em 0.504em 0px 0px; content: "I"; }
mjx-mtext { display: inline-block; text-align: left; }
mjx-mfrac { display: inline-block; text-align: left; }
mjx-frac { display: inline-block; vertical-align: 0.17em; padding: 0px 0.22em; }
mjx-frac[type="d"] { vertical-align: 0.04em; }
mjx-frac[delims] { padding: 0px 0.1em; }
mjx-frac[atop] { padding: 0px 0.12em; }
mjx-frac[atop][delims] { padding: 0px; }
mjx-dtable { display: inline-table; width: 100%; }
mjx-dtable > * { font-size: 2000%; }
mjx-dbox { display: block; font-size: 5%; }
mjx-num { display: block; text-align: center; }
mjx-den { display: block; text-align: center; }
mjx-mfrac[bevelled] > mjx-num { display: inline-block; }
mjx-mfrac[bevelled] > mjx-den { display: inline-block; }
mjx-den[align="right"], mjx-num[align="right"] { text-align: right; }
mjx-den[align="left"], mjx-num[align="left"] { text-align: left; }
mjx-nstrut { display: inline-block; height: 0.054em; width: 0px; vertical-align: -0.054em; }
mjx-nstrut[type="d"] { height: 0.217em; vertical-align: -0.217em; }
mjx-dstrut { display: inline-block; height: 0.505em; width: 0px; }
mjx-dstrut[type="d"] { height: 0.726em; }
mjx-line { display: block; box-sizing: border-box; min-height: 1px; height: 0.06em; border-top: 0.06em solid; margin: 0.06em -0.1em; overflow: hidden; }
mjx-line[type="d"] { margin: 0.18em -0.1em; }
mjx-mrow { display: inline-block; text-align: left; }
mjx-munderover { display: inline-block; text-align: left; }
mjx-munderover:not([limits="false"]) { padding-top: 0.1em; }
mjx-munderover:not([limits="false"]) > * { display: block; }
mjx-msubsup { display: inline-block; text-align: left; }
mjx-script { display: inline-block; padding-right: 0.05em; padding-left: 0.033em; }
mjx-script > mjx-spacer { display: block; }
mjx-c.mjx-c210E.TEX-I::before { padding: 0.694em 0.576em 0.011em 0px; content: "h"; }
mjx-c.mjx-c3A::before { padding: 0.43em 0.278em 0px 0px; content: ":"; }
mjx-c.mjx-c1D464.TEX-I::before { padding: 0.443em 0.716em 0.011em 0px; content: "w"; }
mjx-c.mjx-c1D45A.TEX-I::before { padding: 0.442em 0.878em 0.011em 0px; content: "m"; }
mjx-c.mjx-c1D446.TEX-I::before { padding: 0.705em 0.645em 0.022em 0px; content: "S"; }
mjx-c.mjx-c1D454.TEX-I::before { padding: 0.442em 0.477em 0.205em 0px; content: "g"; }
mjx-c.mjx-c1D453.TEX-I::before { padding: 0.705em 0.55em 0.205em 0px; content: "f"; }
mjx-c.mjx-c1D465.TEX-I::before { padding: 0.442em 0.572em 0.011em 0px; content: "x"; }
mjx-c.mjx-c2217::before { padding: 0.465em 0.5em 0px 0px; content: "∗"; }
mjx-c.mjx-c1D447.TEX-I::before { padding: 0.677em 0.704em 0px 0px; content: "T"; }
mjx-c.mjx-cA0::before { padding: 0px 0.25em 0px 0px; content: " "; }
mjx-c.mjx-c34::before { padding: 0.677em 0.5em 0px 0px; content: "4"; }
mjx-c.mjx-c36::before { padding: 0.666em 0.5em 0.022em 0px; content: "6"; }
mjx-c.mjx-c2248::before { padding: 0.483em 0.778em 0px 0px; content: "≈"; }
mjx-c.mjx-c1D449.TEX-I::before { padding: 0.683em 0.769em 0.022em 0px; content: "V"; }
mjx-c.mjx-c1D43F.TEX-I::before { padding: 0.683em 0.681em 0px 0px; content: "L"; }
mjx-c.mjx-c1D436.TEX-I::before { padding: 0.705em 0.76em 0.022em 0px; content: "C"; }
mjx-c.mjx-c2265::before { padding: 0.636em 0.778em 0.138em 0px; content: "≥"; }
mjx-c.mjx-c7B::before { padding: 0.75em 0.5em 0.25em 0px; content: "{"; }
mjx-c.mjx-c7D::before { padding: 0.75em 0.5em 0.25em 0px; content: "}"; }
mjx-c.mjx-c1D443.TEX-I::before { padding: 0.683em 0.751em 0px 0px; content: "P"; }
mjx-c.mjx-c2211.TEX-S1::before { padding: 0.75em 1.056em 0.25em 0px; content: "∑"; }
mjx-container[jax="CHTML"] { line-height: 0; }
mjx-container [space="1"] { margin-left: 0.111em; }
mjx-container [space="2"] { margin-left: 0.167em; }
mjx-container [space="3"] { margin-left: 0.222em; }
mjx-container [space="4"] { margin-left: 0.278em; }
mjx-container [space="5"] { margin-left: 0.333em; }
mjx-container [rspace="1"] { margin-right: 0.111em; }
mjx-container [rspace="2"] { margin-right: 0.167em; }
mjx-container [rspace="3"] { margin-right: 0.222em; }
mjx-container [rspace="4"] { margin-right: 0.278em; }
mjx-container [rspace="5"] { margin-right: 0.333em; }
mjx-container [size="s"] { font-size: 70.7%; }
mjx-container [size="ss"] { font-size: 50%; }
mjx-container [size="Tn"] { font-size: 60%; }
mjx-container [size="sm"] { font-size: 85%; }
mjx-container [size="lg"] { font-size: 120%; }
mjx-container [size="Lg"] { font-size: 144%; }
mjx-container [size="LG"] { font-size: 173%; }
mjx-container [size="hg"] { font-size: 207%; }
mjx-container [size="HG"] { font-size: 249%; }
mjx-container [width="full"] { width: 100%; }
mjx-box { display: inline-block; }
mjx-block { display: block; }
mjx-itable { display: inline-table; }
mjx-row { display: table-row; }
mjx-row > * { display: table-cell; }
mjx-mtext { display: inline-block; }
mjx-mstyle { display: inline-block; }
mjx-merror { display: inline-block; color: red; background-color: yellow; }
mjx-mphantom { visibility: hidden; }
mjx-assistive-mml { top: 0px; left: 0px; clip: rect(1px, 1px, 1px, 1px); user-select: none; position: absolute !important; padding: 1px 0px 0px !important; border: 0px !important; display: block !important; width: auto !important; overflow: hidden !important; }
mjx-assistive-mml[display="block"] { width: 100% !important; }
mjx-math { display: inline-block; text-align: left; line-height: 0; text-indent: 0px; font-style: normal; font-weight: normal; font-size: 100%; letter-spacing: normal; border-collapse: collapse; overflow-wrap: normal; word-spacing: normal; white-space: nowrap; direction: ltr; padding: 1px 0px; }
mjx-container[jax="CHTML"][display="true"] { display: block; text-align: center; margin: 1em 0px; }
mjx-container[jax="CHTML"][display="true"][width="full"] { display: flex; }
mjx-container[jax="CHTML"][display="true"] mjx-math { padding: 0px; }
mjx-container[jax="CHTML"][justify="left"] { text-align: left; }
mjx-container[jax="CHTML"][justify="right"] { text-align: right; }
mjx-mi { display: inline-block; text-align: left; }
mjx-c { display: inline-block; }
mjx-utext { display: inline-block; padding: 0.75em 0px 0.2em; }
mjx-msub { display: inline-block; text-align: left; }
mjx-texatom { display: inline-block; text-align: left; }
mjx-mo { display: inline-block; text-align: left; }
mjx-stretchy-h { display: inline-table; width: 100%; }
mjx-stretchy-h > * { display: table-cell; width: 0px; }
mjx-stretchy-h > * > mjx-c { display: inline-block; transform: scaleX(1); }
mjx-stretchy-h > * > mjx-c::before { display: inline-block; width: initial; }
mjx-stretchy-h > mjx-ext { overflow: clip visible; width: 100%; }
mjx-stretchy-h > mjx-ext > mjx-c::before { transform: scaleX(500); }
mjx-stretchy-h > mjx-ext > mjx-c { width: 0px; }
mjx-stretchy-h > mjx-beg > mjx-c { margin-right: -0.1em; }
mjx-stretchy-h > mjx-end > mjx-c { margin-left: -0.1em; }
mjx-stretchy-v { display: inline-block; }
mjx-stretchy-v > * { display: block; }
mjx-stretchy-v > mjx-beg { height: 0px; }
mjx-stretchy-v > mjx-end > mjx-c { display: block; }
mjx-stretchy-v > * > mjx-c { transform: scaleY(1); transform-origin: left center; overflow: hidden; }
mjx-stretchy-v > mjx-ext { display: block; height: 100%; box-sizing: border-box; border: 0px solid transparent; overflow: visible clip; }
mjx-stretchy-v > mjx-ext > mjx-c::before { width: initial; box-sizing: border-box; }
mjx-stretchy-v > mjx-ext > mjx-c { transform: scaleY(500) translateY(0.075em); overflow: visible; }
mjx-mark { display: inline-block; height: 0px; }
mjx-mn { display: inline-block; text-align: left; }
mjx-c::before { display: block; width: 0px; }
.MJX-TEX { font-family: MJXZERO, MJXTEX; }
.TEX-B { font-family: MJXZERO, MJXTEX-B; }
.TEX-I { font-family: MJXZERO, MJXTEX-I; }
.TEX-MI { font-family: MJXZERO, MJXTEX-MI; }
.TEX-BI { font-family: MJXZERO, MJXTEX-BI; }
.TEX-S1 { font-family: MJXZERO, MJXTEX-S1; }
.TEX-S2 { font-family: MJXZERO, MJXTEX-S2; }
.TEX-S3 { font-family: MJXZERO, MJXTEX-S3; }
.TEX-S4 { font-family: MJXZERO, MJXTEX-S4; }
.TEX-A { font-family: MJXZERO, MJXTEX-A; }
.TEX-C { font-family: MJXZERO, MJXTEX-C; }
.TEX-CB { font-family: MJXZERO, MJXTEX-CB; }
.TEX-FR { font-family: MJXZERO, MJXTEX-FR; }
.TEX-FRB { font-family: MJXZERO, MJXTEX-FRB; }
.TEX-SS { font-family: MJXZERO, MJXTEX-SS; }
.TEX-SSB { font-family: MJXZERO, MJXTEX-SSB; }
.TEX-SSI { font-family: MJXZERO, MJXTEX-SSI; }
.TEX-SC { font-family: MJXZERO, MJXTEX-SC; }
.TEX-T { font-family: MJXZERO, MJXTEX-T; }
.TEX-V { font-family: MJXZERO, MJXTEX-V; }
.TEX-VB { font-family: MJXZERO, MJXTEX-VB; }
mjx-stretchy-v mjx-c, mjx-stretchy-h mjx-c { font-family: MJXZERO, MJXTEX-S1, MJXTEX-S4, MJXTEX, MJXTEX-A !important; }
@font-face { font-family: MJXZERO; src: url("lib/fonts/mathjax_zero.woff") format("woff"); }
@font-face { font-family: MJXTEX; src: url("lib/fonts/mathjax_main-regular.woff") format("woff"); }
@font-face { font-family: MJXTEX-B; src: url("lib/fonts/mathjax_main-bold.woff") format("woff"); }
@font-face { font-family: MJXTEX-I; src: url("lib/fonts/mathjax_math-italic.woff") format("woff"); }
@font-face { font-family: MJXTEX-MI; src: url("lib/fonts/mathjax_main-italic.woff") format("woff"); }
@font-face { font-family: MJXTEX-BI; src: url("lib/fonts/mathjax_math-bolditalic.woff") format("woff"); }
@font-face { font-family: MJXTEX-S1; src: url("lib/fonts/mathjax_size1-regular.woff") format("woff"); }
@font-face { font-family: MJXTEX-S2; src: url("lib/fonts/mathjax_size2-regular.woff") format("woff"); }
@font-face { font-family: MJXTEX-S3; src: url("lib/fonts/mathjax_size3-regular.woff") format("woff"); }
@font-face { font-family: MJXTEX-S4; src: url("lib/fonts/mathjax_size4-regular.woff") format("woff"); }
@font-face { font-family: MJXTEX-A; src: url("lib/fonts/mathjax_ams-regular.woff") format("woff"); }
@font-face { font-family: MJXTEX-C; src: url("lib/fonts/mathjax_calligraphic-regular.woff") format("woff"); }
@font-face { font-family: MJXTEX-CB; src: url("lib/fonts/mathjax_calligraphic-bold.woff") format("woff"); }
@font-face { font-family: MJXTEX-FR; src: url("lib/fonts/mathjax_fraktur-regular.woff") format("woff"); }
@font-face { font-family: MJXTEX-FRB; src: url("lib/fonts/mathjax_fraktur-bold.woff") format("woff"); }
@font-face { font-family: MJXTEX-SS; src: url("lib/fonts/mathjax_sansserif-regular.woff") format("woff"); }
@font-face { font-family: MJXTEX-SSB; src: url("lib/fonts/mathjax_sansserif-bold.woff") format("woff"); }
@font-face { font-family: MJXTEX-SSI; src: url("lib/fonts/mathjax_sansserif-italic.woff") format("woff"); }
@font-face { font-family: MJXTEX-SC; src: url("lib/fonts/mathjax_script-regular.woff") format("woff"); }
@font-face { font-family: MJXTEX-T; src: url("lib/fonts/mathjax_typewriter-regular.woff") format("woff"); }
@font-face { font-family: MJXTEX-V; src: url("lib/fonts/mathjax_vector-regular.woff") format("woff"); }
@font-face { font-family: MJXTEX-VB; src: url("lib/fonts/mathjax_vector-bold.woff") format("woff"); }
mjx-c.mjx-c1D437.TEX-I::before { padding: 0.683em 0.828em 0px 0px; content: "D"; }
mjx-c.mjx-c1D452.TEX-I::before { padding: 0.442em 0.466em 0.011em 0px; content: "e"; }
mjx-c.mjx-c1D459.TEX-I::before { padding: 0.694em 0.298em 0.011em 0px; content: "l"; }
mjx-c.mjx-c1D44E.TEX-I::before { padding: 0.441em 0.529em 0.01em 0px; content: "a"; }
mjx-c.mjx-c1D466.TEX-I::before { padding: 0.442em 0.49em 0.205em 0px; content: "y"; }
mjx-c.mjx-c1D45B.TEX-I::before { padding: 0.442em 0.6em 0.011em 0px; content: "n"; }
mjx-c.mjx-c1D45C.TEX-I::before { padding: 0.441em 0.485em 0.011em 0px; content: "o"; }
mjx-c.mjx-c1D451.TEX-I::before { padding: 0.694em 0.52em 0.01em 0px; content: "d"; }
mjx-c.mjx-c3D::before { padding: 0.583em 0.778em 0.082em 0px; content: "="; }
mjx-c.mjx-c1D45D.TEX-I::before { padding: 0.442em 0.503em 0.194em 0px; content: "p"; }
mjx-c.mjx-c1D45F.TEX-I::before { padding: 0.442em 0.451em 0.011em 0px; content: "r"; }
mjx-c.mjx-c1D450.TEX-I::before { padding: 0.442em 0.433em 0.011em 0px; content: "c"; }
mjx-c.mjx-c2B::before { padding: 0.583em 0.778em 0.082em 0px; content: "+"; }
mjx-c.mjx-c1D45E.TEX-I::before { padding: 0.442em 0.46em 0.194em 0px; content: "q"; }
mjx-c.mjx-c1D462.TEX-I::before { padding: 0.442em 0.572em 0.011em 0px; content: "u"; }
mjx-c.mjx-c1D461.TEX-I::before { padding: 0.626em 0.361em 0.011em 0px; content: "t"; }
mjx-c.mjx-c1D460.TEX-I::before { padding: 0.442em 0.469em 0.01em 0px; content: "s"; }
mjx-c.mjx-c2212::before { padding: 0.583em 0.778em 0.082em 0px; content: "−"; }
mjx-c.mjx-c1D441.TEX-I::before { padding: 0.683em 0.888em 0px 0px; content: "N"; }
mjx-c.mjx-c28::before { padding: 0.75em 0.389em 0.25em 0px; content: "("; }
mjx-c.mjx-c29::before { padding: 0.75em 0.389em 0.25em 0px; content: ")"; }
mjx-c.mjx-c1D445.TEX-I::before { padding: 0.683em 0.759em 0.021em 0px; content: "R"; }
mjx-c.mjx-c1D440.TEX-I::before { padding: 0.683em 1.051em 0px 0px; content: "M"; }
mjx-c.mjx-c1D456.TEX-I::before { padding: 0.661em 0.345em 0.011em 0px; content: "i"; }
mjx-c.mjx-c31::before { padding: 0.666em 0.5em 0px 0px; content: "1"; }
mjx-c.mjx-c2C::before { padding: 0.121em 0.278em 0.194em 0px; content: ","; }
mjx-c.mjx-c32::before { padding: 0.666em 0.5em 0px 0px; content: "2"; }
mjx-c.mjx-c33::before { padding: 0.665em 0.5em 0.022em 0px; content: "3"; }
mjx-c.mjx-c2E::before { padding: 0.12em 0.278em 0px 0px; content: "."; }
mjx-c.mjx-c1D439.TEX-I::before { padding: 0.68em 0.749em 0px 0px; content: "F"; }
mjx-c.mjx-c2F::before { padding: 0.75em 0.5em 0.25em 0px; content: "/"; }
mjx-c.mjx-c1D44F.TEX-I::before { padding: 0.694em 0.429em 0.011em 0px; content: "b"; }
mjx-c.mjx-c35::before { padding: 0.666em 0.5em 0.022em 0px; content: "5"; }
mjx-c.mjx-c30::before { padding: 0.666em 0.5em 0.022em 0px; content: "0"; }
mjx-c.mjx-c1D43E.TEX-I::before { padding: 0.683em 0.889em 0px 0px; content: "K"; }
mjx-c.mjx-c1D43B.TEX-I::before { padding: 0.683em 0.888em 0px 0px; content: "H"; }
</style><pre class="frontmatter language-yaml" tabindex="0" style="display: none;"><code class="language-yaml is-loaded"><span class="token key atrule">tags</span><span class="token punctuation">:</span>
  <span class="token punctuation">-</span> OS</code><button class="copy-code-button"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon lucide-copy"><rect x="8" y="8" width="14" height="14" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button></pre><div class="markdown-preview-sizer markdown-preview-section"><h1 class="page-title heading inline-title" id="12. IO Systems"><ol start="12">
<li dir="auto">IO Systems</li>
</ol></h1><div class="el-h2 heading-wrapper"><h2 data-heading="第一课 I/O Devices" dir="auto" class="heading" id="第一课_I/O_Devices"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>第一课 I/O Devices</h2><div class="heading-children"><div class="el-hr"><hr></div><div class="el-p"><p dir="auto">在第一个阶段时，我们提到了计算机的五大部件，包括输入设备、输出设备、存储器、运算器和控制器。站在上层封装好的视角，计算机主要做了三件事：输入-运算-输出。运算是CPU为我们完成的，对于我们用户而言，一台计算机I/O就基本上决定了机器的可使用性（想想，一台只有机箱的电脑。尽管安装了操作系统，你仍无法操作这台机器）。</p></div><div class="el-p"><p dir="auto">相比CPU那几个固定的架构，IO的处理可就麻烦多了（鼠标、硬盘、打印机、键盘、音响、摄像头......）。即使不同I/O设备可能遵循行业内的相关协议，而且我们现在有各式各样的USB I/O设备为I/O的管理提供了便利。但由于这些设备使用的数据、工作方式的不尽相同，处理这么多不同种类的I/O是一件令操作系统头大的事。</p></div><div class="el-h3 heading-wrapper"><h3 data-heading="1.1 Bus, Ports, Drivers and So..." dir="auto" class="heading" id="1.1_Bus,_Ports,_Drivers_and_So..."><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>1.1 Bus, Ports, Drivers and So...</h3><div class="heading-children"><div class="el-p"><p dir="auto">I/O设备能够工作离不开<strong>总线(bus)</strong> 和<strong>控制器(controller)</strong> 的支持。前者负责I/O设备与主机(host)的连接，后者负责信号转换、数据缓冲和设备控制。I/O设备往往由唯一的I/O端口（控制器）所标识，I/O端口通常包含四个寄存器：<strong>输入数据寄存器(input data register)</strong>、<strong>输出数据寄存器(output data register)</strong>、<strong>状态寄存器(status register)</strong> 和<strong>控制寄存器(control register)</strong>，有些设备还包括<strong>地址寄存器(address register)</strong>。</p></div><div class="el-h4 heading-wrapper"><h4 data-heading="1.1.1 Bus" dir="auto" class="heading" id="1.1.1_Bus"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>1.1.1 Bus</h4><div class="heading-children"><div class="el-p"><p dir="auto">总线是一组线路和通过这些线路传输信息的协议。在计算机系统中，总线用于连接计算机的各个部件，是他们能够互相通信。总线承担着数据、地址和控制信号传输的功能，是计算机系统中不可或缺的一部分。总线可以根据传输方式分为并行总线和串行总线。</p></div><div class="el-h5 heading-wrapper"><h5 data-heading="1.1.1.1 Parallel Bus" dir="auto" class="heading" id="1.1.1.1_Parallel_Bus"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>1.1.1.1 Parallel Bus</h5><div class="heading-children"><div class="el-p"><p dir="auto"><strong>并行总线</strong>会使用多条线路同时传输多位数据。每条线路传输一位bit，多条线路可以同时传输多个bits的数据。但是并行总线之间存在电磁干扰，会导致信号的完整性和同步性问题。虽然直觉上并行总线肯定是要比串行总线快的，但当传输频率变高时，严重的信号干扰和同步问题又会使得并行总线的传输效率下降。常见的并行总线有<strong>IDE(Integrated Drive Electrons)</strong>、<strong>PCI(Peripheral Component Interconnect)</strong> 等。</p></div></div></div><div class="el-h5 heading-wrapper"><h5 data-heading="1.1.1.2 Serial Bus" dir="auto" class="heading" id="1.1.1.2_Serial_Bus"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>1.1.1.2 Serial Bus</h5><div class="heading-children"><div class="el-p"><p dir="auto"><strong>串行总线</strong>虽然只使用单条线路传输一位数据，但由于其信号的干扰更少，所有串行总线可以在较高的时钟频率下运行，从而实现了高效的数据传输。且串行总线的成本更低，支持更长距离的传输。现代高速传输技术，如<strong>USB(Universal Serial Bus)</strong>、<strong>SATA(Serial ATA)</strong> 和<strong>PCIe(PCI Express)</strong>，都是基于串行传输的。</p></div></div></div></div></div><div class="el-h4 heading-wrapper"><h4 data-heading="1.1.2 Ports" dir="auto" class="heading" id="1.1.2_Ports"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>1.1.2 Ports</h4><div class="heading-children"><div class="el-p"><p dir="auto">端口是一个很有趣的话题。我们可以把端口的类型分成物理端口和逻辑端口。物理端口是人类可以直观看到、摸到的，包括总线和控制器。而逻辑端口则是操作系统视角下的I/O端口。我们接下来介绍物理端口和逻辑端口。</p></div><div class="el-h5 heading-wrapper"><h5 data-heading="1.1.2.1 Physical Ports" dir="auto" class="heading" id="1.1.2.1_Physical_Ports"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>1.1.2.1 Physical Ports</h5><div class="heading-children"><div class="el-p"><p dir="auto"><strong>物理端口</strong>可以理解为计算机与I/O设备连接的接口。通过端口，计算机系统可以与各种外设进行数据交换。端口的种类繁多，每种端口都对应着不同总线协议的功能实现和特定的连接标准。常见的端口有USB、HDMI等。</p></div></div></div><div class="el-h5 heading-wrapper"><h5 data-heading="1.1.2.2 Logical Ports(Application I/O Interfaces)" dir="auto" class="heading" id="1.1.2.2_Logical_Ports(Application_I/O_Interfaces)"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>1.1.2.2 Logical Ports(Application I/O Interfaces)</h5><div class="heading-children"><div class="el-p"><p dir="auto"><strong>逻辑端口</strong>提供了一种抽象，使得应用程序不需要了解底层硬件的具体细节。通过逻辑端口，应用可以通过统一的接口与各种I/O设备进行交互。现代操作系统支持即插即用技术，使得用户可以方便地添加和移除I/O设备。操作系统会自动检测新设备，并加载相应的驱动程序，使设备能够立即使用。操作系统的I/O子系统提供了这样一套标准化的逻辑端口。</p></div><div class="el-p"><p dir="auto">在早期的操作系统中，操作系统仅支持几个特定的I/O设备。你要使用某个设备，你就需要更新或者换成另外支持这个设备的操作系统。由于I/O设备的数量太过于庞杂，这种方式的管理太过于麻烦。IBM PC的一大成功就在于每个用户都可以通过一个标准的接口将自己的I/O设备加入到系统中。</p></div></div></div></div></div><div class="el-h4 heading-wrapper"><h4 data-heading="1.1.3 Device Drivers" dir="auto" class="heading" id="1.1.3_Device_Drivers"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>1.1.3 Device Drivers</h4><div class="heading-children"><div class="el-p"><p dir="auto">我们说逻辑接口是内核I/O子系统提供的逻辑接口。为了使这样的逻辑接口便于上层所有的应用提供服务，我们需要在操作系统和I/O设备之间增加一层抽象，即<strong>设备驱动程序</strong>，以便实现设备的操作和管理。为了逻辑接口的标准统一，I/O子系统向下提供了一个标准的驱动程序接口。因此，不同设备使用统一的驱动程序接口。</p></div><div class="el-p"><p dir="auto">设备驱动程序是操作系统与硬件设备之间的桥梁。它们负责将操作系统的高级指令转换为设备控制器能够理解的低级指令，并将设备的反馈传递回操作系统。驱动程序的质量直接影响系统的稳定性和性能，因此高质量的驱动程序对于系统的正常运行至关重要。</p></div><div class="el-h5 heading-wrapper"><h5 data-heading="1.1.3.1 Devices Abstraction" dir="auto" class="heading" id="1.1.3.1_Devices_Abstraction"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>1.1.3.1 Devices Abstraction</h5><div class="heading-children"><div class="el-p"><p dir="auto">硬件设备各不相同，为了实现对设备更方便的管理，系统会从下面几方面来对设备进行抽象分类：</p></div><div class="el-ul"><ul>
<li data-line="0" dir="auto">Data transfer mode</li>
<li data-line="1" dir="auto">Access method</li>
<li data-line="2" dir="auto">Transfer schedule</li>
<li data-line="3" dir="auto">Dedication</li>
<li data-line="4" dir="auto">Device speed</li>
<li data-line="5" dir="auto">Transfer direction</li>
</ul></div><div class="el-p"><p dir="auto"><span alt="Pasted image 20241121010744.jpg" src="Pasted image 20241121010744.jpg" class="internal-embed media-embed image-embed is-loaded"><img alt="Pasted image 20241121010744.jpg" src="congzhi's-os-series/pics/pasted-image-20241121010744.jpg"></span></p></div></div></div><div class="el-h5 heading-wrapper"><h5 data-heading="1.1.3.x BSOD" dir="auto" class="heading" id="1.1.3.x_BSOD"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>1.1.3.x BSOD</h5><div class="heading-children"><div class="el-p"><p dir="auto">在Windows系统设计中，设备驱动程序会在内核模式下运行，其他的一些操作系统可能会将驱动程序运行在用户模式或者用户-内核之间的模式下。</p></div><div class="el-p"><p dir="auto">Windows中，设备驱动程序在内核下运行可以唤起引发蓝屏(blue screen of death)的系统调用。这是Windows常被人诟病的方面之一，尽管Windows很无辜（引发蓝屏并不是系统的问题），可能是某些I/O设备引发的问题。而通常情况下，用户并不能注意引发蓝屏问题的原因是什么。</p></div><div class="el-p"><p dir="auto">为了解决BSOD的问题，Windows在系统中加入了许多设备的驱动程序作为其默认的驱动。如果系统中没有某个设备的驱动程序，厂商可以先在Windows上进行驱动器的测试，确保在Windows的环境下安装驱动后不会引发BSOD。通过测试的设备会获得Windows的认证标志，表示该设备在Windows系统中可以稳定运行。</p></div></div></div></div></div><div class="el-h4 heading-wrapper"><h4 data-heading="1.1.4 Device Controller" dir="auto" class="heading" id="1.1.4_Device_Controller"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>1.1.4 Device Controller</h4><div class="heading-children"><div class="el-p"><p dir="auto">如果说设备驱动器作为最底层的软件层实现了I/O设备的逻辑端口的话，设备控制器则更像是提供I/O设备的物理端口。I/O控制器是一种用于管理I/O设备和主机之间传输数据的硬件，用于管理和操作I/O设备。每种I/O设备都有特定的控制器，通常而言，I/O控制器会集成在主板上，也可以通过扩展卡的形式存在。</p></div><div class="el-p"><p dir="auto">设备控制器直接接受来自主机传输来的指令信号，并负责将来自主机的指令转换为设备可以理解的电信号控制设备的运作。设备完成后，控制器还要负责将设备的响应反馈给主机。</p></div></div></div><div class="el-h4 heading-wrapper"><h4 data-heading="1.1.5 Abstraction Layers" dir="auto" class="heading" id="1.1.5_Abstraction_Layers"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>1.1.5 Abstraction Layers</h4><div class="heading-children"><div class="el-p"><p dir="auto">了解完了设备的驱动程序和控制器，我们现在知道，驱动程序是内核和控制器（硬件）之间的桥梁，而控制器是实际上控制设备工作的电子元件。即层次化的关系是&nbsp;kernel&nbsp;-&gt;&nbsp;drivers&nbsp;-&gt;&nbsp;controller。那么用户想要使用某个设备，总共需要穿越多少个抽象层？</p></div><div class="el-p"><p dir="auto">当我们想要使用一个设备时，我们需要将想法编写成应用程序。由于操作系统的封装性和保护性，我们需要使用系统调用来间接地使用I/O设备。内核的I/O子系统会根据高级指令寻找对应的设备驱动程序，由驱动程序将上层的指令转换成设备控制器能够理解的低级指令，并发送给设备控制器。最后，设备控制器解析这些低级指令来控制设备做出相应的动作。</p></div><div class="el-p"><p dir="auto"><span alt="Pasted image 20241124023333.jpg" src="Pasted image 20241124023333.jpg" class="internal-embed media-embed image-embed is-loaded"><img alt="Pasted image 20241124023333.jpg" src="congzhi's-os-series/pics/pasted-image-20241124023333.jpg"></span></p></div></div></div><div class="el-h4 heading-wrapper"><h4 data-heading="1.1.6 Block and Character I/O Devices" dir="auto" class="heading" id="1.1.6_Block_and_Character_I/O_Devices"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>1.1.6 Block and Character I/O Devices</h4><div class="heading-children"><div class="el-p"><p dir="auto">根据数据的传输模式，我们可以将I/O设备分为<strong>块设备</strong>和<strong>字符设备</strong>。在使用相关的系统调用时，我们应当注意块设备每次应至少 <code>read</code> 或 <code>write</code> 一个块，而不是一个字节。字符设备也应每次 <code>get</code> 或 <code>put</code> 相应的一个字节。</p></div><div class="el-h5 heading-wrapper"><h5 data-heading="1.1.6.1 Block I/O Devices" dir="auto" class="heading" id="1.1.6.1_Block_I/O_Devices"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>1.1.6.1 Block I/O Devices</h5><div class="heading-children"><div class="el-p"><p dir="auto">块设备是面向块设备（譬如磁盘）的设备。任何的设备都支持 <code>read</code> 和 <code>write</code> 指令，如果这个设备是一个随机访问的设备，那它还会有一个 <code>seek</code> 指令跳转到相应的块。应用程序通常上经由文件系统访问磁盘。</p></div><div class="el-p"><p dir="auto">块设备的特点是它们可以以固定大小的块进行数据传输，这样可以提高数据传输的效率。块设备通常用于存储设备，如硬盘和光盘。</p></div></div></div><div class="el-h5 heading-wrapper"><h5 data-heading="1.1.6.2 Character I/O Devices" dir="auto" class="heading" id="1.1.6.2_Character_I/O_Devices"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>1.1.6.2 Character I/O Devices</h5><div class="heading-children"><div class="el-p"><p dir="auto">字符设备是面向比特流（例如键盘）的设备。字符设备的相关系统调用有 <code>get</code> 和 <code>put</code>。字符设备通常用于需要逐字节处理数据的设备，如串口设备和终端设备。</p></div><div class="el-p"><p dir="auto">字符设备的特点是它们以字符流的形式进行数据传输，这样可以更灵活地处理数据输入和输出。字符设备通常用于输入输出设备，如键盘和鼠标。</p></div></div></div></div></div></div></div><div class="el-h3 heading-wrapper"><h3 data-heading="1.2 Memory Mapped I/O" dir="auto" class="heading" id="1.2_Memory_Mapped_I/O"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>1.2 Memory Mapped I/O</h3><div class="heading-children"><div class="el-p"><p dir="auto">之前我们说过，I/O设备往往由唯一的I/O端口（控制器）所标识。要使CPU和正确的I/O设备进行通讯，控制器为每个寄存器分配了唯一的编号，即<strong>端口号(port number)</strong>，也称为<strong>I/O地址</strong>。每个外设都需要通过I/O地址于CPU进行通信，通过不同的I/O地址，CPU能够知道数据发送的地方。</p></div><div class="el-h4 heading-wrapper"><h4 data-heading="1.2.1 PMIO" dir="auto" class="heading" id="1.2.1_PMIO"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>1.2.1 PMIO</h4><div class="heading-children"><div class="el-p"><p dir="auto"><strong>端口映射I/O（Port-Mapped&nbsp;I/O）</strong>&nbsp;是我们要介绍的第一种I/O地址类型，这种类型下的I/O地址是独立的，与内存地址无关。在开发板上，我们通常会看到这种I/O地址类型。设备拥有自己独立的I/O地址，CPU会通过专用的指令和信号与设备进行通信。例如，通过<code>IN</code>指令、<code>OUT</code>指令，以及控制信号<code>IOR</code>（I/O&nbsp;Read）、<code>IOW</code>（I/O&nbsp;Write）等来进行操作。</p></div><div class="el-p"><p dir="auto">在这种方式下，I/O的地址总线和控制总线和内存的地址总线分离。然而，IO的数据总线仍然使用系统的数据总线。</p></div></div></div><div class="el-h4 heading-wrapper"><h4 data-heading="1.2.2 MMIO" dir="auto" class="heading" id="1.2.2_MMIO"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>1.2.2 MMIO</h4><div class="heading-children"><div class="el-p"><p dir="auto"><strong>内存映射IO(Memory-Mapped IO)</strong> 方式下的IO地址被映射到了系统内存地址空间中。CPU通过访问内存地址来访问设备。这样一来，访问I/O就可以通过标准的内存访问指令来访问了，例如，<code>MEMR</code>和<code>MEMW</code>指令。它的总线和内存也都是共用的。</p></div><div class="el-p"><p dir="auto"><span alt="Pasted image 20241121021731.jpg" src="Pasted image 20241121021731.jpg" class="internal-embed media-embed image-embed is-loaded"><img alt="Pasted image 20241121021731.jpg" src="congzhi's-os-series/pics/pasted-image-20241121021731.jpg"></span></p></div></div></div></div></div><div class="el-h3 heading-wrapper"><h3 data-heading="1.3 Polling, Interrupts and DMA" dir="auto" class="heading" id="1.3_Polling,_Interrupts_and_DMA"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>1.3 Polling, Interrupts and DMA</h3><div class="heading-children"><div class="el-p"><p dir="auto">在计算机组成中，我们学习过轮询、中断和DMA(direct memory access)的I/O控制方式。我们本小节简单了解一下这三种方式的工作原理。</p></div><div class="el-h4 heading-wrapper"><h4 data-heading="1.3.1 Tight Polling" dir="auto" class="heading" id="1.3.1_Tight_Polling"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>1.3.1 Tight Polling</h4><div class="heading-children"><div class="el-p"><p dir="auto">轮询是最简单的I/O控制方式，尽管它的实现很直接，但在性能方面可能并不总是最佳选择。然而，有时候，轮询可能是你唯一能选的I/O控制方式。在轮询方式中，CPU会周期性地询问I/O设备：“你有没有需要处理的事情？/你忙不忙？我有些事情想让你做”。这种周期性检查设备状态的方法，尽管简单，却非常耗费CPU资源。</p></div><div class="el-p"><p dir="auto">我们上述的轮询一般指tight polling(紧轮询)，与之相对的，loose polling会在每次检查条件之间加入一定的延迟，以减少 CPU 的占用。这种方法更节省资源，但响应速度较慢。</p></div><div class="el-h5 heading-wrapper"><h5 data-heading="1.3.1.1 Busy Bit and Ready Bit" dir="auto" class="heading" id="1.3.1.1_Busy_Bit_and_Ready_Bit"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>1.3.1.1 Busy Bit and Ready Bit</h5><div class="heading-children"><div class="el-p"><p dir="auto">轮询会使用一个比特位来标识设备是否忙（busy bit），还有一个比特位标识设备的就绪状态（ready bit）。当设备忙时，busy bit就会被设置为1，标识设备正在执行某项任务。当设备就绪时，ready bit就会被设置为1，表示设备准备好接收新的数据了。</p></div><div class="el-p"><p dir="auto"><span alt="Pasted image 20241123043749.png" src="Pasted image 20241123043749.png" class="internal-embed media-embed image-embed is-loaded"><img alt="Pasted image 20241123043749.png" src="congzhi's-os-series/pics/pasted-image-20241123043749.png"></span></p></div></div></div><div class="el-h5 heading-wrapper"><h5 data-heading="1.3.1.2 Polling Working Flow" dir="auto" class="heading" id="1.3.1.2_Polling_Working_Flow"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>1.3.1.2 Polling Working Flow</h5><div class="heading-children"><div class="el-p"><p dir="auto">CPU在对外设进行询问时，首先会检查设备是否忙碌，若是设备忙碌就不再打扰。当设备空闲时，CPU会给I/O端口特定的命令来读/写相应的数据。CPU会把ready bit设置为1，通知设备控制器可以执行新的命令了（如果是向外设输入数据，还需要向data-in register输入相关的数据）。</p></div><div class="el-p"><p dir="auto">当设备控制器检测到相应就绪位的设置后，就会将busy bit设置为1，表示外设开始工作了。然后设备控制器从命令寄存器中读取命令并进行相应的操作。最后，设备控制器完成数据的处理后，会将ready bit和busy bit清除掉（置0），设备重新变为可用状态。</p></div></div></div><div class="el-h5 heading-wrapper"><h5 data-heading="1.3.1.3 Something to be Considered" dir="auto" class="heading" id="1.3.1.3_Something_to_be_Considered"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>1.3.1.3 Something to be Considered</h5><div class="heading-children"><div class="el-p"><p dir="auto">在Polling的情况下，由于要求CPU时时刻刻地参与，CPU的周期性轮询或忙等待某一个设备都会消耗CPU的资源，使得CPU利用率下降。Polling作为最简单的方法，可能并不是最优选。</p></div><div class="el-p"><p dir="auto">而且如果CPU不及时响应，就可能造成数据的丢失。回到传感器的例子，由于传感器的缓冲区很小或是传感器对实时性的要求，如果不及时响应读取缓冲区内的数据，就可能导致新的数据覆盖掉旧的数据，导致数据的丢失。</p></div></div></div></div></div><div class="el-h4 heading-wrapper"><h4 data-heading="1.3.2 Interrupts" dir="auto" class="heading" id="1.3.2_Interrupts"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>1.3.2 Interrupts</h4><div class="heading-children"><div class="el-p"><p dir="auto">在之前，我们用一个阶段来解释中断，但届时我们并没怎么涉及到什么关于I/O设备上面的中断。我们谈论到了外部中断，但只是一笔带过。那设备是如何向CPU发送相关的中断信号的呢？实际上，在物理线路的连接上，外设和CPU之间会架设一条<strong>中断请求线(Interrupt request line)</strong>，外设通过向这条线路发送信号，CPU就能够识别到外设是否在请求中断。</p></div><div class="el-p"><p dir="auto">CPU检测到中断之后，后面的流程和我们学过的就很类似了，保存上下文、调用中断处理程序和恢复执行。但是作为系列的末尾，我们有必要复杂化的看待问题，或者说它本来的样子。比如，我们需要考虑<strong>中断优先级</strong>、<strong>中断禁用(disabling interrupt)</strong> 等。</p></div><div class="el-h5 heading-wrapper"><h5 data-heading="1.3.2.1 Watching Interruption by Example" dir="auto" class="heading" id="1.3.2.1_Watching_Interruption_by_Example"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>1.3.2.1 Watching Interruption by Example</h5><div class="heading-children"><div class="el-p"><p dir="auto">在中断的方式中，CPU不需要时时刻刻地围绕在I/O身边，而是专注于做自己的事情。I/O设备一般都非常慢，当CPU少去大量忙等待的时间（第2、3步），效率自然就会提高。</p></div><div class="el-p"><p dir="auto">在中断方式下，CPU需要做的是发送相关的I/O请求，之后不需要等待I/O设备的完成转而做其他事情。之后，I/O设备准备好之后向主机发送中断信号，CPU响应中断并执行响应的中断服务例程。之后恢复执行。</p></div><div class="el-p"><p dir="auto"><span alt="Pasted image 20241123190040.jpg" src="Pasted image 20241123190040.jpg" class="internal-embed media-embed image-embed is-loaded"><img alt="Pasted image 20241123190040.jpg" src="congzhi's-os-series/pics/pasted-image-20241123190040.jpg"></span></p></div></div></div><div class="el-h5 heading-wrapper"><h5 data-heading="1.3.2.2 We Got a Better Choice" dir="auto" class="heading" id="1.3.2.2_We_Got_a_Better_Choice"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>1.3.2.2 We Got a Better Choice</h5><div class="heading-children"><div class="el-p"><p dir="auto">相比于轮询的I/O控制方式，中断总算是把CPU从繁重的periodic polling中解救出来了。在中断的I//O控制方式下，当设备需要CPU来处理时，设备可以发送中断信号给CPU，CPU只需要抽空过来处理就好了。但有时候，中断并不需要<strong>立即</strong>被相应执行。延迟处理(Delay handling)可能带来的效益更高，例如网络数据包的接收（NIC）。</p></div><div class="el-p"><p dir="auto">相比轮询，中断的应用到处都是。而为了避免高频次的中断，延迟处理相关的I/O，我们下面开始介绍一种更好的I/O控制方式——DMA。</p></div></div></div></div></div><div class="el-h4 heading-wrapper"><h4 data-heading="1.3.3 Direct Memory Access" dir="auto" class="heading" id="1.3.3_Direct_Memory_Access"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>1.3.3 Direct Memory Access</h4><div class="heading-children"><div class="el-p"><p dir="auto">没有DMA的世界中，当devices想向memory传输数据时，数据的流向必须经过CPU这个中介，即传输路径为Devices-&gt;CPU-&gt;Memory。而DMA的方式运行I/O设备直接对内存进行访问，绕过CPU进行数据传输。当传输完成之后，通知一下CPU就好（可能是一次中断）。</p></div><div class="el-p"><p dir="auto">我们可以告诉DMA控制器(DMA controller)源是哪个I/O设备，目的在哪，读操作还是写操作。初始化DMA控制器完成之后，DMA控制器就可以代替CPU进行数据的传输任务，进一步解放了CPU。这种实现方式中，CPU仍然会被中断，但次数要少得多。实际上，DMA控制器并不完全独立于CPU，甚至可能会由于总线争用(bus contention)而拖慢CPU的运行速度。</p></div><div class="el-p"><p dir="auto"><span alt="Pasted image 20241123042009.jpg" src="Pasted image 20241123042009.jpg" class="internal-embed media-embed image-embed is-loaded"><img alt="Pasted image 20241123042009.jpg" src="congzhi's-os-series/pics/pasted-image-20241123042009.jpg"></span></p></div></div></div></div></div><div class="el-h3 heading-wrapper"><h3 data-heading="1.4 `ioctl`" dir="auto" class="heading" id="1.4_`ioctl`"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>1.4 <code>ioctl</code></h3><div class="heading-children"><div class="el-p"><p dir="auto"><code>ioctl</code> 是一个用于操作系统和设备驱动程序之间通信的UNIX系统调用。它允许应用程序通过设备文件向设备发送相关的控制命令。它的函数原型如下：</p></div><div class="el-pre"><pre class="language-c" tabindex="0"><code data-line="0" class="language-c is-loaded"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;sys/ioctl.h&gt;</span></span>

<span class="token keyword">int</span> <span class="token function">ioctl</span><span class="token punctuation">(</span><span class="token keyword">int</span> fd<span class="token punctuation">,</span> <span class="token keyword">unsigned</span> <span class="token keyword">long</span> request<span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">/* Parameters:

1. fd: File descriptor of the device.
2. request: Device-specific request code.
3. ...: Additional arguments, depending on the request code.

Return value: Returns 0 on success, otherwise -1 and sets errno to indicate the error.
*/</span>
</code><button class="copy-code-button"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon lucide-copy"><rect x="8" y="8" width="14" height="14" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button></pre></div><div class="el-p"><p dir="auto">这个系统调用的功能极为强大，这个部分有待更新。</p></div></div></div></div></div><div class="el-h2 heading-wrapper"><h2 data-heading="第二课 Kernel I/O Subsystem" dir="auto" class="heading" id="第二课_Kernel_I/O_Subsystem"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>第二课 Kernel I/O Subsystem</h2><div class="heading-children"><div class="el-hr"><hr></div><div class="el-p"><p dir="auto">在第一节课中，我们见到过这张图，I/O系统结构是层次化的。而内核I/O子系统层位于设备驱动层之上，为上层的应用提供了虚拟的I/O端口，使应用程序可以通过统一的接口访问不同的硬件设备，而不必担心具体实现。为了提供更好的速度和安全性，这一层次还实现了buffering、I/O protection等。我们下面逐步了解这些内容。</p></div><div class="el-p"><p dir="auto"><span alt="Pasted image 20241121010724.jpg" src="Pasted image 20241121010724.jpg" class="internal-embed media-embed image-embed is-loaded"><img alt="Pasted image 20241121010724.jpg" src="congzhi's-os-series/pics/pasted-image-20241121010724.jpg"></span></p></div><div class="el-h3 heading-wrapper"><h3 data-heading="2.1 Devices Independence" dir="auto" class="heading" id="2.1_Devices_Independence"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>2.1 Devices Independence</h3><div class="heading-children"><div class="el-p"><p dir="auto">为上层应用提供统一的访问I/O设备的接口抽象是I/O子系统层的职责之一。无论是磁盘、打印机还是网络接口，应用程序都可以使用相同的系统调用与之进行交互。在类Unix的系统中，无论是字符设备还是块设备都被抽象成文件。一切对设备的访问都被看做是对文件的访问。</p></div><div class="el-p"><p dir="auto">通过这种统一的文件模型抽象，我们可以使用相同的系统调用（比如，<code>open()</code>、<code>read()</code>等）对设备进行访问。这些设备文件被放在<code>/dev</code>目录下，这种将设备视为文件的抽象是文件系统在设备独立性上发挥的作用。</p></div></div></div><div class="el-h3 heading-wrapper"><h3 data-heading="2.2 Buffering" dir="auto" class="heading" id="2.2_Buffering"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>2.2 Buffering</h3><div class="heading-children"><div class="el-p"><p dir="auto">不论是对于character-oriented devices还是block-oriented devices，由于<strong>设备之间传输速度不匹配的问题</strong>，我们在传输过程中需要增加一块缓冲区，这就是缓冲(buffering)的概念。比如，键盘是一个低速的外设，尽管你打字再快，在主机的视角来看仍然非常慢。如果你想用键盘在磁盘中的文件中写一些内容，每次都输入一个字符并同步一个块显然是不划算的。</p></div><div class="el-p"><p dir="auto">Buffer相当于一个储水罐(reservoir)，用于数据的暂存。当我们观看网络视频时，网络状况好的情况下，视频的播放一般会满慢网络中视频数据传输的速度。然而，如果网络状况时好时坏，我们就可以在网络好的时候将视频先暂存到buffer中，不至于在网络差的时候影响观看体验。</p></div><div class="el-p"><p dir="auto">当高速设备给低速设备发送数据，若是没有buffering，低速设备没有办法准确的收到来自高速设备的数据。而低速设备给高速设备发送数据时，若是没有buffering，高速设备就会等待低速设备，这样会造成性能的浪费。</p></div><div class="el-p"><p dir="auto"><span alt="Pasted image 20241121010947.jpg" src="Pasted image 20241121010947.jpg" class="internal-embed media-embed image-embed is-loaded"><img alt="Pasted image 20241121010947.jpg" src="congzhi's-os-series/pics/pasted-image-20241121010947.jpg"></span></p></div><div class="el-p"><p dir="auto">从操作系统的视角看，buffering的实现简单而直接：将一个东西加入到buffer和将一个东西从buffer中取出来。实际上就是生产者-消费者模型，我们之前也将其称为有限缓冲问题，还记得么？</p></div><div class="el-h4 heading-wrapper"><h4 data-heading="2.2.1 Buffer Calculation" dir="auto" class="heading" id="2.2.1_Buffer_Calculation"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>2.2.1 Buffer Calculation</h4><div class="heading-children"><div class="el-p"><p dir="auto">当我们引入了buffering，另一个问题就随之而来了。缓冲的大小应当设置多大，我们应当设置小缓冲区还是大缓冲区呢？当缓冲区很大时，一方面会挤占内存资源；另一方面，如果缓冲区过大，还会造成延迟的增加。当缓冲区过小，就会导致无法容纳足够的数据，这会导致频繁的I/O操作，还可能导致数据的丢失。</p></div><div class="el-p"><p dir="auto">所以我们应当在一个范围内设置缓冲区的大小，从而在减少延迟和提升传输效率间找到平衡。假如 <em>T</em> 是向输入一个块所要的时间，<em>C</em> 是输入请求之间所需要的计算时间。那么，在没有buffer的情况下，完成将一个块的传输时间就需要：<span class="math math-block is-loaded"><mjx-container class="MathJax" jax="CHTML" display="true"><mjx-math display="true" class="MJX-TEX" style="margin-left: 0px; margin-right: 0px;"><mjx-mtext class="mjx-n"><mjx-c class="mjx-c45"></mjx-c><mjx-c class="mjx-c78"></mjx-c><mjx-c class="mjx-c65"></mjx-c><mjx-c class="mjx-c63"></mjx-c><mjx-c class="mjx-c75"></mjx-c><mjx-c class="mjx-c74"></mjx-c><mjx-c class="mjx-c69"></mjx-c><mjx-c class="mjx-c6F"></mjx-c><mjx-c class="mjx-c6E"></mjx-c><mjx-c class="mjx-c20"></mjx-c><mjx-c class="mjx-c54"></mjx-c><mjx-c class="mjx-c69"></mjx-c><mjx-c class="mjx-c6D"></mjx-c><mjx-c class="mjx-c65"></mjx-c></mjx-mtext><mjx-mo class="mjx-n" space="4"><mjx-c class="mjx-c3D"></mjx-c></mjx-mo><mjx-mi class="mjx-i" space="4"><mjx-c class="mjx-c1D447 TEX-I"></mjx-c></mjx-mi><mjx-mo class="mjx-n" space="3"><mjx-c class="mjx-c2B"></mjx-c></mjx-mo><mjx-mi class="mjx-i" space="3"><mjx-c class="mjx-c1D436 TEX-I"></mjx-c></mjx-mi></mjx-math></mjx-container></span>而buffer的加入使得数据的传输和处理可以同时进行，从而执行时间缩短为：<span class="math math-block is-loaded"><mjx-container class="MathJax" jax="CHTML" display="true"><mjx-math display="true" class="MJX-TEX" style="margin-left: 0px; margin-right: 0px;"><mjx-mtext class="mjx-n"><mjx-c class="mjx-c45"></mjx-c><mjx-c class="mjx-c78"></mjx-c><mjx-c class="mjx-c65"></mjx-c><mjx-c class="mjx-c63"></mjx-c><mjx-c class="mjx-c75"></mjx-c><mjx-c class="mjx-c74"></mjx-c><mjx-c class="mjx-c69"></mjx-c><mjx-c class="mjx-c6F"></mjx-c><mjx-c class="mjx-c6E"></mjx-c><mjx-c class="mjx-c20"></mjx-c><mjx-c class="mjx-c54"></mjx-c><mjx-c class="mjx-c69"></mjx-c><mjx-c class="mjx-c6D"></mjx-c><mjx-c class="mjx-c65"></mjx-c></mjx-mtext><mjx-mo class="mjx-n" space="4"><mjx-c class="mjx-c3D"></mjx-c></mjx-mo><mjx-mi class="mjx-i" space="4"><mjx-c class="mjx-c1D45A TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D44E TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D465 TEX-I"></mjx-c></mjx-mi><mjx-mo class="mjx-n"><mjx-c class="mjx-c28"></mjx-c></mjx-mo><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D436 TEX-I"></mjx-c></mjx-mi><mjx-mo class="mjx-n"><mjx-c class="mjx-c2C"></mjx-c></mjx-mo><mjx-mi class="mjx-i" space="2"><mjx-c class="mjx-c1D447 TEX-I"></mjx-c></mjx-mi><mjx-mo class="mjx-n"><mjx-c class="mjx-c29"></mjx-c></mjx-mo><mjx-mo class="mjx-n" space="3"><mjx-c class="mjx-c2B"></mjx-c></mjx-mo><mjx-mi class="mjx-i" space="3"><mjx-c class="mjx-c1D440 TEX-I"></mjx-c></mjx-mi></mjx-math></mjx-container></span>M表示将数据从系统buffer移动到进程内存的时间。</p></div></div></div><div class="el-h4 heading-wrapper"><h4 data-heading="2.2.2 Double Buffering" dir="auto" class="heading" id="2.2.2_Double_Buffering"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>2.2.2 Double Buffering</h4><div class="heading-children"><div class="el-p"><p dir="auto">假设我们在码字。在只有一个缓冲的情况下，buffer满了，就会把buffer中的内容整个地写入到磁盘中。然而，写入磁盘并不是瞬间完成的，我们想要继续码字。在之前学习生产者-消费者问题时，我们就了解到，生产者和消费者，一时间只能有一个进入临界区。如果我们想要不间断地写，我们可能就需要两个buffer来存放我们生产的物品，这就是double buffering，即双缓冲。</p></div><div class="el-p"><p dir="auto">在double buffering中，系统使用两个缓冲区（Buffer A 和 Buffer B）来存储数据。当一个缓冲区正在被填充数据时，另一个缓冲区可以同时被处理。这样，数据的读写操作可以并行进行，减少了等待时间。当一个缓冲区的数据处理完成后，系统会切换到另一个缓冲区继续操作。这个过程不断交替进行，从而实现高效的数据传输。</p></div></div></div><div class="el-h4 heading-wrapper"><h4 data-heading="2.2.3 Circular Buffering" dir="auto" class="heading" id="2.2.3_Circular_Buffering"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>2.2.3 Circular Buffering</h4><div class="heading-children"><div class="el-p"><p dir="auto">Circular buffering是双缓冲的进阶版，并不难想清楚。</p></div></div></div></div></div><div class="el-h3 heading-wrapper"><h3 data-heading="2.4 SPOOLing and Device Reservation" dir="auto" class="heading" id="2.4_SPOOLing_and_Device_Reservation"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>2.4 SPOOLing and Device Reservation</h3><div class="heading-children"><div class="el-p"><p dir="auto">SPOOLing(Simultaneous Peripheral Operations On-Line)是一种将数据暂时存储在中间存储设备（如磁盘或内存）中的技术，以便设备可以在后台处理这些数据，而不影响前台的操作。最典型的例子就是打印机。当向打印机发送多个打印任务时，这些任务会被暂时存储在一个缓冲区(spool)中。</p></div><div class="el-p"><p dir="auto">当用户进程提交打印任务时，这个任务并不会直接送给打印机，而是送到一个提供SPOOLing service的服务器上，这个服务器会将提交的这些任务排序，最后逐个打印。这种方式可以提高系统的效率，因为计算机可以继续处理其他任务，而不需要等待打印机完成打印。</p></div></div></div><div class="el-h3 heading-wrapper"><h3 data-heading="2.5 I/O Protection" dir="auto" class="heading" id="2.5_I/O_Protection"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>2.5 I/O Protection</h3><div class="heading-children"><div class="el-p"><p dir="auto">回想一下早些时候我们引入了内核模式和用户模式的概念，我们简单地谈论了引入内核模式的好处和对系统的保护。在对待I/O设备上，我们也希望用户对I/O设备的访问和操作在系统内核的监督下进行，避免用户因不当指令导致系统或设备的故障（例如，启动一个I/O的后背隐藏能源）。同时，我们还希望操作系统可以帮我们检查该指令是否有效。</p></div><div class="el-h4 heading-wrapper"><h4 data-heading="2.5.1 Direct Access" dir="auto" class="heading" id="2.5.1_Direct_Access"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>2.5.1 Direct Access</h4><div class="heading-children"><div class="el-p"><p dir="auto">模式转换往往意味着开销。在这里，我们实际上用了性能为代价增加了系统的安全性。但有时候，我们想发挥系统的全部性能。比如说，显卡(graphic card)。在玩游戏时，为了获得全部的性能，我们想要游戏直接访问显卡的内存(direct access)。如果让每次访问(access)都经过内核，那带来的游戏体验将会很差。</p></div><div class="el-p"><p dir="auto">因此，为了让用户获得显卡和处理器的全部性能，内核将会给予特定的游戏进程有关游戏显示相关的那一部分显卡内存的相关权限。这种情况下，应用进程访问这部分显卡内存将不需要经过内核的协助。少了内核中间商赚差价，性能收益自然就高了。</p></div></div></div></div></div><div class="el-h3 heading-wrapper"><h3 data-heading="2.6 Kernel I/O Data Structure" dir="auto" class="heading" id="2.6_Kernel_I/O_Data_Structure"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>2.6 Kernel I/O Data Structure</h3><div class="heading-children"><div class="el-p"><p dir="auto">对于操作系统内核而言，知道哪个设备和主机建立了连接、设备正在为哪个进程所使用和当前设备的状态信息是必须的。在后续学习的文件系统中，我们会了解到“万物皆文件”的理念。在实际的进程内存和内核内存中，都记录着一些文件描述符(file descriptor)。内核就是根据这些文件描述符来操作I/O设备的。</p></div><div class="el-p"><p dir="auto"><span alt="Pasted image 20241121010449.jpg" src="Pasted image 20241121010449.jpg" class="internal-embed media-embed image-embed is-loaded"><img alt="Pasted image 20241121010449.jpg" src="congzhi's-os-series/pics/pasted-image-20241121010449.jpg"></span></p></div><div class="el-p"><p dir="auto">后续文件系统的学习中，我们会补充打开文件表是如何为设备的访问提供抄近道的机会。此外，经过了文件系统的封装，某些设备访问出错时就会直接返回错误码，将I/O硬件隔离开，提供了硬件的安全性。</p></div></div></div><div class="el-h3 heading-wrapper"><h3 data-heading="2.7 I/O Scheduling and Performance" dir="auto" class="heading" id="2.7_I/O_Scheduling_and_Performance"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>2.7 I/O Scheduling and Performance</h3><div class="heading-children"><div class="el-p"><p dir="auto">大多数的I/O操作都是异步的，这意味着I/O设备的请求可能在任何时间点到来。这些请求源自用户程序，操作系统需要及时将请求加入到设备的队列中，并对这些I/O请求进行调度。操作系统根据队列中的信息了解设备状态，并对这些I/O请求进行定位和调度。</p></div><div class="el-p"><p dir="auto">在FCFS的I/O调度方式中。当线程想要使用设备时，它会先检查设备的状态。如果设备空闲，就将设备的状态设置为忙并立即提交请求；如果设备忙，则将阻塞线程并将线程加入到等待队列中。当设备使用完毕后，我们可以将队列中的线程唤醒(unblock)，然后让其使用I/O。当没有线程使用设备时，就将设备的状态置为空闲。</p></div><div class="el-p"><p dir="auto"><span alt="Pasted image 20241121010924.jpg" src="Pasted image 20241121010924.jpg" class="internal-embed media-embed image-embed is-loaded"><img alt="Pasted image 20241121010924.jpg" src="congzhi's-os-series/pics/pasted-image-20241121010924.jpg"></span></p></div><div class="el-h4 heading-wrapper"><h4 data-heading="2.7.1 Fair but Inefficient" dir="auto" class="heading" id="2.7.1_Fair_but_Inefficient"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>2.7.1 Fair but Inefficient</h4><div class="heading-children"><div class="el-p"><p dir="auto">我们刚才谈论了FCFS的I/O调度方式。尽管这种方式非常公平，但未必是最高效的。CPU调度为我们提供了很多调度I/O的思路。例如，在CPU调度阶段中，我们学到了优先级，并将进程分为不同的等级。同样，在I/O调度上，我们也可以根据进程的优先级对I/O进行调度，让高优先级的进程优先使用I/O。</p></div><div class="el-p"><p dir="auto">然而，I/O设备并不像进程那样可以通过CPU和RAM进行统一操作。对于I/O设备而言，非一致性访问时间(non-uniform access time)更为关键，因为I/O很慢嘛。对于闪存驱动器(flash drive)，读和写的时间不因数据的物理位置不同而变化，但对于其他类型的设备，访问时间可能会有所不同。然而，对于类似于硬盘这样的I/O设备而言，物理结构和操作方式导致了访问时间的变化。</p></div></div></div></div></div><div class="el-h3 heading-wrapper"><h3 data-heading="2.8 The STREAMS Structure" dir="auto" class="heading" id="2.8_The_STREAMS_Structure"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>2.8 The STREAMS Structure</h3><div class="heading-children"><div class="el-p"><p dir="auto"><span alt="Pasted image 20241125035405.jpg" src="Pasted image 20241125035405.jpg" class="internal-embed media-embed image-embed is-loaded"><img alt="Pasted image 20241125035405.jpg" src="congzhi's-os-series/pics/pasted-image-20241125035405.jpg"></span></p></div></div></div><div class="el-h3 heading-wrapper"><h3 data-heading="2.9 Life Cycle of a I/O Request" dir="auto" class="heading" id="2.9_Life_Cycle_of_a_I/O_Request"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>2.9 Life Cycle of a I/O Request</h3><div class="heading-children"><div class="el-p"><p dir="auto"><span alt="Pasted image 20241121021143.jpg" src="Pasted image 20241121021143.jpg" class="internal-embed media-embed image-embed is-loaded"><img alt="Pasted image 20241121021143.jpg" src="congzhi's-os-series/pics/pasted-image-20241121021143.jpg"></span></p></div><div class="el-h4 heading-wrapper"><h4 data-heading="2.9.1 Intercomputer Communications using I/O" dir="auto" class="heading" id="2.9.1_Intercomputer_Communications_using_I/O"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>2.9.1 Intercomputer Communications using I/O</h4><div class="heading-children"><div class="el-p"><p dir="auto">在使用telnet或SSH时，打一个字母到远程主机会发生以下的中断：</p></div><div class="el-ol"><ol>
<li data-line="0" dir="auto">本地的键盘中断</li>
<li data-line="1" dir="auto">本地的网络请求中断</li>
<li data-line="2" dir="auto">远程的网络达到中断</li>
<li data-line="3" dir="auto">编辑器进程打印字母并更新屏幕</li>
<li data-line="4" dir="auto">远程的网络请求中断</li>
<li data-line="5" dir="auto">本地的网络到达中断</li>
</ol></div><div class="el-p"><p dir="auto">为了显示一个字符，我们可真是做了不少。</p></div><div class="el-p"><p dir="auto"><span alt="Pasted image 20241124024405.jpg" src="Pasted image 20241124024405.jpg" class="internal-embed media-embed image-embed is-loaded"><img alt="Pasted image 20241124024405.jpg" src="congzhi's-os-series/pics/pasted-image-20241124024405.jpg"></span></p></div><div class="el-p"><p dir="auto">如何减少中断呢？我们有很多鬼点子，比如将进程直接放到核心态去运行，这就不会产生任何中断了，但是太危险，不可取。第二种方案就是找一种功能特化的硬件来专门处理，像TLB那样，但是增加费用的同时还提升了学习成本，也不可取。那我们可以像之前学习buffer那样等输入一个块的数据后在将数据发送到远程服务器上去么？这种情形下肯定不可以了。</p></div><div class="el-p"><p dir="auto">而这种情况下使用DMA就能算得上是一个不错的选择了，DMA控制器负责将数据从网络适配器传输到系统内存，而不需要CPU的干预。这样，系统可以减少CPU处理I/O请求的次数，减少了两次中断的发生。还不错。</p></div></div></div></div></div><div class="el-h3 heading-wrapper"><h3 data-heading="2.10 Security in I/O Devices" dir="auto" class="heading" id="2.10_Security_in_I/O_Devices"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>2.10 Security in I/O Devices</h3><div class="heading-children"><div class="el-p"><p dir="auto">一些I/O设备可能会为操作系统带来一些安全隐患。这是因为设备的驱动抽象是运行在操作系统内核中的，操作系统非常信任这些drivers，这就为安全问题埋下了隐患。攻击者可能通过利用系统中的漏洞、配置错误或弱访问控制，获得比其原本权限更高的访问权限。（Privilege escalation）</p></div></div></div></div></div><div class="el-h2 heading-wrapper"><h2 data-heading="第三课 Disk Scheduling" dir="auto" class="heading" id="第三课_Disk_Scheduling"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>第三课 Disk Scheduling</h2><div class="heading-children"><div class="el-hr"><hr></div><div class="el-h3 heading-wrapper"><h3 data-heading="3.1 Magnetic Disk" dir="auto" class="heading" id="3.1_Magnetic_Disk"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>3.1 Magnetic Disk</h3><div class="heading-children"><div class="el-h4 heading-wrapper"><h4 data-heading="3.1.1 Disk Scheduling Motivation" dir="auto" class="heading" id="3.1.1_Disk_Scheduling_Motivation"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>3.1.1 Disk Scheduling Motivation</h4><div class="heading-children"></div></div><div class="el-h4 heading-wrapper"><h4 data-heading="3.1.2 Times Need to Know" dir="auto" class="heading" id="3.1.2_Times_Need_to_Know"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>3.1.2 Times Need to Know</h4><div class="heading-children"><div class="el-h5 heading-wrapper"><h5 data-heading="3.1.2.1 Disk Transfer Time" dir="auto" class="heading" id="3.1.2.1_Disk_Transfer_Time"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>3.1.2.1 Disk Transfer Time</h5><div class="heading-children"></div></div><div class="el-h5 heading-wrapper"><h5 data-heading="3.1.2.2 Disk Access Time" dir="auto" class="heading" id="3.1.2.2_Disk_Access_Time"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>3.1.2.2 Disk Access Time</h5><div class="heading-children"></div></div></div></div><div class="el-h4 heading-wrapper"><h4 data-heading="3.1.3 Read and Write from Disk" dir="auto" class="heading" id="3.1.3_Read_and_Write_from_Disk"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>3.1.3 Read and Write from Disk</h4><div class="heading-children"></div></div></div></div><div class="el-h3 heading-wrapper"><h3 data-heading="3.2 Disk Scheduling Algorithms" dir="auto" class="heading" id="3.2_Disk_Scheduling_Algorithms"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>3.2 Disk Scheduling Algorithms</h3><div class="heading-children"><div class="el-h4 heading-wrapper"><h4 data-heading="3.2.1 Random Algorithm" dir="auto" class="heading" id="3.2.1_Random_Algorithm"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>3.2.1 Random Algorithm</h4><div class="heading-children"></div></div><div class="el-h4 heading-wrapper"><h4 data-heading="3.2.2 FCFS" dir="auto" class="heading" id="3.2.2_FCFS"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>3.2.2 FCFS</h4><div class="heading-children"></div></div><div class="el-h4 heading-wrapper"><h4 data-heading="3.2.3 SSFT" dir="auto" class="heading" id="3.2.3_SSFT"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>3.2.3 SSFT</h4><div class="heading-children"></div></div><div class="el-h4 heading-wrapper"><h4 data-heading="3.2.4 SCAN" dir="auto" class="heading" id="3.2.4_SCAN"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>3.2.4 SCAN</h4><div class="heading-children"></div></div><div class="el-h4 heading-wrapper"><h4 data-heading="3.2.5 CSCAN" dir="auto" class="heading" id="3.2.5_CSCAN"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>3.2.5 CSCAN</h4><div class="heading-children"></div></div><div class="el-h4 heading-wrapper"><h4 data-heading="3.2.6 LOOK" dir="auto" class="heading" id="3.2.6_LOOK"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>3.2.6 LOOK</h4><div class="heading-children"></div></div><div class="el-h4 heading-wrapper"><h4 data-heading="3.2.7 CLOOK" dir="auto" class="heading" id="3.2.7_CLOOK"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>3.2.7 CLOOK</h4><div class="heading-children"></div></div><div class="el-h4 heading-wrapper"><h4 data-heading="3.2.8 Scheduling Implementation and Choice" dir="auto" class="heading" id="3.2.8_Scheduling_Implementation_and_Choice"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>3.2.8 Scheduling Implementation and Choice</h4><div class="heading-children"><div class="mod-footer mod-ui"></div></div></div></div></div></div></div></div></div></div><div class="sidebar-right sidebar"><div class="sidebar-handle"></div><div class="sidebar-topbar"><div class="topbar-content"></div><div class="clickable-icon sidebar-collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="100%" height="100%" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" class="svg-icon"><path d="M21 3H3C1.89543 3 1 3.89543 1 5V19C1 20.1046 1.89543 21 3 21H21C22.1046 21 23 20.1046 23 19V5C23 3.89543 22.1046 3 21 3Z"></path><path d="M10 4V20"></path><path d="M4 7H7"></path><path d="M4 10H7"></path><path d="M4 13H7"></path></svg></div></div><div class="sidebar-content"><div class="graph-view-wrapper"><div class="sidebar-section-header">Interactive Graph</div><div class="graph-view-placeholder">
		<div class="graph-view-container">
			<div class="graph-icon graph-expand" role="button" aria-label="Expand" data-tooltip-position="top"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon"><line x1="7" y1="17" x2="17" y2="7"></line><polyline points="7 7 17 7 17 17"></polyline></svg></div>
			<canvas id="graph-canvas" class="hide" width="512px" height="512px"></canvas>
		</div>
		</div></div><div class="tree-container mod-root nav-folder tree-item outline-tree" data-depth="0"><div class="tree-header"><span class="sidebar-section-header">Table Of Contents</span><button class="clickable-icon collapse-tree-button" aria-label="Collapse All"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></svg></button></div><div class="tree-scroll-area tree-item-children nav-folder-children"><div class="tree-item mod-tree-folder nav-folder mod-collapsible is-collapsed" style="display: none;"></div><div class="tree-item" data-depth="1"><a class="tree-link" href="congzhi's-os-series\12.-io-systems.html#12. IO Systems"><div class="tree-item-contents heading-link" heading-name="
IO Systems
"><span class="tree-item-title">IO Systems</span></div></a><div class="tree-item-children nav-folder-children"><div class="tree-item mod-collapsible" data-depth="2"><a class="tree-link" href="congzhi's-os-series\12.-io-systems.html#第一课_I/O_Devices"><div class="tree-item-contents heading-link" heading-name="第一课 I/O Devices"><div class="collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div><span class="tree-item-title">第一课 I/O Devices</span></div></a><div class="tree-item-children nav-folder-children"><div class="tree-item mod-collapsible" data-depth="3"><a class="tree-link" href="congzhi's-os-series\12.-io-systems.html#1.1_Bus,_Ports,_Drivers_and_So..."><div class="tree-item-contents heading-link" heading-name="1.1 Bus, Ports, Drivers and So..."><div class="collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div><span class="tree-item-title">1.1 Bus, Ports, Drivers and So...</span></div></a><div class="tree-item-children nav-folder-children"><div class="tree-item mod-collapsible" data-depth="4"><a class="tree-link" href="congzhi's-os-series\12.-io-systems.html#1.1.1_Bus"><div class="tree-item-contents heading-link" heading-name="1.1.1 Bus"><div class="collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div><span class="tree-item-title">1.1.1 Bus</span></div></a><div class="tree-item-children nav-folder-children"><div class="tree-item" data-depth="5"><a class="tree-link" href="congzhi's-os-series\12.-io-systems.html#1.1.1.1_Parallel_Bus"><div class="tree-item-contents heading-link" heading-name="1.1.1.1 Parallel Bus"><span class="tree-item-title">1.1.1.1 Parallel Bus</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item" data-depth="5"><a class="tree-link" href="congzhi's-os-series\12.-io-systems.html#1.1.1.2_Serial_Bus"><div class="tree-item-contents heading-link" heading-name="1.1.1.2 Serial Bus"><span class="tree-item-title">1.1.1.2 Serial Bus</span></div></a><div class="tree-item-children nav-folder-children"></div></div></div></div><div class="tree-item mod-collapsible" data-depth="4"><a class="tree-link" href="congzhi's-os-series\12.-io-systems.html#1.1.2_Ports"><div class="tree-item-contents heading-link" heading-name="1.1.2 Ports"><div class="collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div><span class="tree-item-title">1.1.2 Ports</span></div></a><div class="tree-item-children nav-folder-children"><div class="tree-item" data-depth="5"><a class="tree-link" href="congzhi's-os-series\12.-io-systems.html#1.1.2.1_Physical_Ports"><div class="tree-item-contents heading-link" heading-name="1.1.2.1 Physical Ports"><span class="tree-item-title">1.1.2.1 Physical Ports</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item" data-depth="5"><a class="tree-link" href="congzhi's-os-series\12.-io-systems.html#1.1.2.2_Logical_Ports(Application_I/O_Interfaces)"><div class="tree-item-contents heading-link" heading-name="1.1.2.2 Logical Ports(Application I/O Interfaces)"><span class="tree-item-title">1.1.2.2 Logical Ports(Application I/O Interfaces)</span></div></a><div class="tree-item-children nav-folder-children"></div></div></div></div><div class="tree-item mod-collapsible" data-depth="4"><a class="tree-link" href="congzhi's-os-series\12.-io-systems.html#1.1.3_Device_Drivers"><div class="tree-item-contents heading-link" heading-name="1.1.3 Device Drivers"><div class="collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div><span class="tree-item-title">1.1.3 Device Drivers</span></div></a><div class="tree-item-children nav-folder-children"><div class="tree-item" data-depth="5"><a class="tree-link" href="congzhi's-os-series\12.-io-systems.html#1.1.3.1_Devices_Abstraction"><div class="tree-item-contents heading-link" heading-name="1.1.3.1 Devices Abstraction"><span class="tree-item-title">1.1.3.1 Devices Abstraction</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item" data-depth="5"><a class="tree-link" href="congzhi's-os-series\12.-io-systems.html#1.1.3.x_BSOD"><div class="tree-item-contents heading-link" heading-name="1.1.3.x BSOD"><span class="tree-item-title">1.1.3.x BSOD</span></div></a><div class="tree-item-children nav-folder-children"></div></div></div></div><div class="tree-item" data-depth="4"><a class="tree-link" href="congzhi's-os-series\12.-io-systems.html#1.1.4_Device_Controller"><div class="tree-item-contents heading-link" heading-name="1.1.4 Device Controller"><span class="tree-item-title">1.1.4 Device Controller</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item" data-depth="4"><a class="tree-link" href="congzhi's-os-series\12.-io-systems.html#1.1.5_Abstraction_Layers"><div class="tree-item-contents heading-link" heading-name="1.1.5 Abstraction Layers"><span class="tree-item-title">1.1.5 Abstraction Layers</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item mod-collapsible" data-depth="4"><a class="tree-link" href="congzhi's-os-series\12.-io-systems.html#1.1.6_Block_and_Character_I/O_Devices"><div class="tree-item-contents heading-link" heading-name="1.1.6 Block and Character I/O Devices"><div class="collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div><span class="tree-item-title">1.1.6 Block and Character I/O Devices</span></div></a><div class="tree-item-children nav-folder-children"><div class="tree-item" data-depth="5"><a class="tree-link" href="congzhi's-os-series\12.-io-systems.html#1.1.6.1_Block_I/O_Devices"><div class="tree-item-contents heading-link" heading-name="1.1.6.1 Block I/O Devices"><span class="tree-item-title">1.1.6.1 Block I/O Devices</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item" data-depth="5"><a class="tree-link" href="congzhi's-os-series\12.-io-systems.html#1.1.6.2_Character_I/O_Devices"><div class="tree-item-contents heading-link" heading-name="1.1.6.2 Character I/O Devices"><span class="tree-item-title">1.1.6.2 Character I/O Devices</span></div></a><div class="tree-item-children nav-folder-children"></div></div></div></div></div></div><div class="tree-item mod-collapsible" data-depth="3"><a class="tree-link" href="congzhi's-os-series\12.-io-systems.html#1.2_Memory_Mapped_I/O"><div class="tree-item-contents heading-link" heading-name="1.2 Memory Mapped I/O"><div class="collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div><span class="tree-item-title">1.2 Memory Mapped I/O</span></div></a><div class="tree-item-children nav-folder-children"><div class="tree-item" data-depth="4"><a class="tree-link" href="congzhi's-os-series\12.-io-systems.html#1.2.1_PMIO"><div class="tree-item-contents heading-link" heading-name="1.2.1 PMIO"><span class="tree-item-title">1.2.1 PMIO</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item" data-depth="4"><a class="tree-link" href="congzhi's-os-series\12.-io-systems.html#1.2.2_MMIO"><div class="tree-item-contents heading-link" heading-name="1.2.2 MMIO"><span class="tree-item-title">1.2.2 MMIO</span></div></a><div class="tree-item-children nav-folder-children"></div></div></div></div><div class="tree-item mod-collapsible" data-depth="3"><a class="tree-link" href="congzhi's-os-series\12.-io-systems.html#1.3_Polling,_Interrupts_and_DMA"><div class="tree-item-contents heading-link" heading-name="1.3 Polling, Interrupts and DMA"><div class="collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div><span class="tree-item-title">1.3 Polling, Interrupts and DMA</span></div></a><div class="tree-item-children nav-folder-children"><div class="tree-item mod-collapsible" data-depth="4"><a class="tree-link" href="congzhi's-os-series\12.-io-systems.html#1.3.1_Tight_Polling"><div class="tree-item-contents heading-link" heading-name="1.3.1 Tight Polling"><div class="collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div><span class="tree-item-title">1.3.1 Tight Polling</span></div></a><div class="tree-item-children nav-folder-children"><div class="tree-item" data-depth="5"><a class="tree-link" href="congzhi's-os-series\12.-io-systems.html#1.3.1.1_Busy_Bit_and_Ready_Bit"><div class="tree-item-contents heading-link" heading-name="1.3.1.1 Busy Bit and Ready Bit"><span class="tree-item-title">1.3.1.1 Busy Bit and Ready Bit</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item" data-depth="5"><a class="tree-link" href="congzhi's-os-series\12.-io-systems.html#1.3.1.2_Polling_Working_Flow"><div class="tree-item-contents heading-link" heading-name="1.3.1.2 Polling Working Flow"><span class="tree-item-title">1.3.1.2 Polling Working Flow</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item" data-depth="5"><a class="tree-link" href="congzhi's-os-series\12.-io-systems.html#1.3.1.3_Something_to_be_Considered"><div class="tree-item-contents heading-link" heading-name="1.3.1.3 Something to be Considered"><span class="tree-item-title">1.3.1.3 Something to be Considered</span></div></a><div class="tree-item-children nav-folder-children"></div></div></div></div><div class="tree-item mod-collapsible" data-depth="4"><a class="tree-link" href="congzhi's-os-series\12.-io-systems.html#1.3.2_Interrupts"><div class="tree-item-contents heading-link" heading-name="1.3.2 Interrupts"><div class="collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div><span class="tree-item-title">1.3.2 Interrupts</span></div></a><div class="tree-item-children nav-folder-children"><div class="tree-item" data-depth="5"><a class="tree-link" href="congzhi's-os-series\12.-io-systems.html#1.3.2.1_Watching_Interruption_by_Example"><div class="tree-item-contents heading-link" heading-name="1.3.2.1 Watching Interruption by Example"><span class="tree-item-title">1.3.2.1 Watching Interruption by Example</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item" data-depth="5"><a class="tree-link" href="congzhi's-os-series\12.-io-systems.html#1.3.2.2_We_Got_a_Better_Choice"><div class="tree-item-contents heading-link" heading-name="1.3.2.2 We Got a Better Choice"><span class="tree-item-title">1.3.2.2 We Got a Better Choice</span></div></a><div class="tree-item-children nav-folder-children"></div></div></div></div><div class="tree-item" data-depth="4"><a class="tree-link" href="congzhi's-os-series\12.-io-systems.html#1.3.3_Direct_Memory_Access"><div class="tree-item-contents heading-link" heading-name="1.3.3 Direct Memory Access"><span class="tree-item-title">1.3.3 Direct Memory Access</span></div></a><div class="tree-item-children nav-folder-children"></div></div></div></div><div class="tree-item" data-depth="3"><a class="tree-link" href="congzhi's-os-series\12.-io-systems.html#1.4_`ioctl`"><div class="tree-item-contents heading-link" heading-name="1.4 `ioctl`"><span class="tree-item-title">1.4 <code>ioctl</code></span></div></a><div class="tree-item-children nav-folder-children"></div></div></div></div><div class="tree-item mod-collapsible" data-depth="2"><a class="tree-link" href="congzhi's-os-series\12.-io-systems.html#第二课_Kernel_I/O_Subsystem"><div class="tree-item-contents heading-link" heading-name="第二课 Kernel I/O Subsystem"><div class="collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div><span class="tree-item-title">第二课 Kernel I/O Subsystem</span></div></a><div class="tree-item-children nav-folder-children"><div class="tree-item" data-depth="3"><a class="tree-link" href="congzhi's-os-series\12.-io-systems.html#2.1_Devices_Independence"><div class="tree-item-contents heading-link" heading-name="2.1 Devices Independence"><span class="tree-item-title">2.1 Devices Independence</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item mod-collapsible" data-depth="3"><a class="tree-link" href="congzhi's-os-series\12.-io-systems.html#2.2_Buffering"><div class="tree-item-contents heading-link" heading-name="2.2 Buffering"><div class="collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div><span class="tree-item-title">2.2 Buffering</span></div></a><div class="tree-item-children nav-folder-children"><div class="tree-item" data-depth="4"><a class="tree-link" href="congzhi's-os-series\12.-io-systems.html#2.2.1_Buffer_Calculation"><div class="tree-item-contents heading-link" heading-name="2.2.1 Buffer Calculation"><span class="tree-item-title">2.2.1 Buffer Calculation</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item" data-depth="4"><a class="tree-link" href="congzhi's-os-series\12.-io-systems.html#2.2.2_Double_Buffering"><div class="tree-item-contents heading-link" heading-name="2.2.2 Double Buffering"><span class="tree-item-title">2.2.2 Double Buffering</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item" data-depth="4"><a class="tree-link" href="congzhi's-os-series\12.-io-systems.html#2.2.3_Circular_Buffering"><div class="tree-item-contents heading-link" heading-name="2.2.3 Circular Buffering"><span class="tree-item-title">2.2.3 Circular Buffering</span></div></a><div class="tree-item-children nav-folder-children"></div></div></div></div><div class="tree-item" data-depth="3"><a class="tree-link" href="congzhi's-os-series\12.-io-systems.html#2.4_SPOOLing_and_Device_Reservation"><div class="tree-item-contents heading-link" heading-name="2.4 SPOOLing and Device Reservation"><span class="tree-item-title">2.4 SPOOLing and Device Reservation</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item mod-collapsible" data-depth="3"><a class="tree-link" href="congzhi's-os-series\12.-io-systems.html#2.5_I/O_Protection"><div class="tree-item-contents heading-link" heading-name="2.5 I/O Protection"><div class="collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div><span class="tree-item-title">2.5 I/O Protection</span></div></a><div class="tree-item-children nav-folder-children"><div class="tree-item" data-depth="4"><a class="tree-link" href="congzhi's-os-series\12.-io-systems.html#2.5.1_Direct_Access"><div class="tree-item-contents heading-link" heading-name="2.5.1 Direct Access"><span class="tree-item-title">2.5.1 Direct Access</span></div></a><div class="tree-item-children nav-folder-children"></div></div></div></div><div class="tree-item" data-depth="3"><a class="tree-link" href="congzhi's-os-series\12.-io-systems.html#2.6_Kernel_I/O_Data_Structure"><div class="tree-item-contents heading-link" heading-name="2.6 Kernel I/O Data Structure"><span class="tree-item-title">2.6 Kernel I/O Data Structure</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item mod-collapsible" data-depth="3"><a class="tree-link" href="congzhi's-os-series\12.-io-systems.html#2.7_I/O_Scheduling_and_Performance"><div class="tree-item-contents heading-link" heading-name="2.7 I/O Scheduling and Performance"><div class="collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div><span class="tree-item-title">2.7 I/O Scheduling and Performance</span></div></a><div class="tree-item-children nav-folder-children"><div class="tree-item" data-depth="4"><a class="tree-link" href="congzhi's-os-series\12.-io-systems.html#2.7.1_Fair_but_Inefficient"><div class="tree-item-contents heading-link" heading-name="2.7.1 Fair but Inefficient"><span class="tree-item-title">2.7.1 Fair but Inefficient</span></div></a><div class="tree-item-children nav-folder-children"></div></div></div></div><div class="tree-item" data-depth="3"><a class="tree-link" href="congzhi's-os-series\12.-io-systems.html#2.8_The_STREAMS_Structure"><div class="tree-item-contents heading-link" heading-name="2.8 The STREAMS Structure"><span class="tree-item-title">2.8 The STREAMS Structure</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item mod-collapsible" data-depth="3"><a class="tree-link" href="congzhi's-os-series\12.-io-systems.html#2.9_Life_Cycle_of_a_I/O_Request"><div class="tree-item-contents heading-link" heading-name="2.9 Life Cycle of a I/O Request"><div class="collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div><span class="tree-item-title">2.9 Life Cycle of a I/O Request</span></div></a><div class="tree-item-children nav-folder-children"><div class="tree-item" data-depth="4"><a class="tree-link" href="congzhi's-os-series\12.-io-systems.html#2.9.1_Intercomputer_Communications_using_I/O"><div class="tree-item-contents heading-link" heading-name="2.9.1 Intercomputer Communications using I/O"><span class="tree-item-title">2.9.1 Intercomputer Communications using I/O</span></div></a><div class="tree-item-children nav-folder-children"></div></div></div></div><div class="tree-item" data-depth="3"><a class="tree-link" href="congzhi's-os-series\12.-io-systems.html#2.10_Security_in_I/O_Devices"><div class="tree-item-contents heading-link" heading-name="2.10 Security in I/O Devices"><span class="tree-item-title">2.10 Security in I/O Devices</span></div></a><div class="tree-item-children nav-folder-children"></div></div></div></div><div class="tree-item mod-collapsible" data-depth="2"><a class="tree-link" href="congzhi's-os-series\12.-io-systems.html#第三课_Disk_Scheduling"><div class="tree-item-contents heading-link" heading-name="第三课 Disk Scheduling"><div class="collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div><span class="tree-item-title">第三课 Disk Scheduling</span></div></a><div class="tree-item-children nav-folder-children"><div class="tree-item mod-collapsible" data-depth="3"><a class="tree-link" href="congzhi's-os-series\12.-io-systems.html#3.1_Magnetic_Disk"><div class="tree-item-contents heading-link" heading-name="3.1 Magnetic Disk"><div class="collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div><span class="tree-item-title">3.1 Magnetic Disk</span></div></a><div class="tree-item-children nav-folder-children"><div class="tree-item" data-depth="4"><a class="tree-link" href="congzhi's-os-series\12.-io-systems.html#3.1.1_Disk_Scheduling_Motivation"><div class="tree-item-contents heading-link" heading-name="3.1.1 Disk Scheduling Motivation"><span class="tree-item-title">3.1.1 Disk Scheduling Motivation</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item mod-collapsible" data-depth="4"><a class="tree-link" href="congzhi's-os-series\12.-io-systems.html#3.1.2_Times_Need_to_Know"><div class="tree-item-contents heading-link" heading-name="3.1.2 Times Need to Know"><div class="collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div><span class="tree-item-title">3.1.2 Times Need to Know</span></div></a><div class="tree-item-children nav-folder-children"><div class="tree-item" data-depth="5"><a class="tree-link" href="congzhi's-os-series\12.-io-systems.html#3.1.2.1_Disk_Transfer_Time"><div class="tree-item-contents heading-link" heading-name="3.1.2.1 Disk Transfer Time"><span class="tree-item-title">3.1.2.1 Disk Transfer Time</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item" data-depth="5"><a class="tree-link" href="congzhi's-os-series\12.-io-systems.html#3.1.2.2_Disk_Access_Time"><div class="tree-item-contents heading-link" heading-name="3.1.2.2 Disk Access Time"><span class="tree-item-title">3.1.2.2 Disk Access Time</span></div></a><div class="tree-item-children nav-folder-children"></div></div></div></div><div class="tree-item" data-depth="4"><a class="tree-link" href="congzhi's-os-series\12.-io-systems.html#3.1.3_Read_and_Write_from_Disk"><div class="tree-item-contents heading-link" heading-name="3.1.3 Read and Write from Disk"><span class="tree-item-title">3.1.3 Read and Write from Disk</span></div></a><div class="tree-item-children nav-folder-children"></div></div></div></div><div class="tree-item mod-collapsible" data-depth="3"><a class="tree-link" href="congzhi's-os-series\12.-io-systems.html#3.2_Disk_Scheduling_Algorithms"><div class="tree-item-contents heading-link" heading-name="3.2 Disk Scheduling Algorithms"><div class="collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div><span class="tree-item-title">3.2 Disk Scheduling Algorithms</span></div></a><div class="tree-item-children nav-folder-children"><div class="tree-item" data-depth="4"><a class="tree-link" href="congzhi's-os-series\12.-io-systems.html#3.2.1_Random_Algorithm"><div class="tree-item-contents heading-link" heading-name="3.2.1 Random Algorithm"><span class="tree-item-title">3.2.1 Random Algorithm</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item" data-depth="4"><a class="tree-link" href="congzhi's-os-series\12.-io-systems.html#3.2.2_FCFS"><div class="tree-item-contents heading-link" heading-name="3.2.2 FCFS"><span class="tree-item-title">3.2.2 FCFS</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item" data-depth="4"><a class="tree-link" href="congzhi's-os-series\12.-io-systems.html#3.2.3_SSFT"><div class="tree-item-contents heading-link" heading-name="3.2.3 SSFT"><span class="tree-item-title">3.2.3 SSFT</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item" data-depth="4"><a class="tree-link" href="congzhi's-os-series\12.-io-systems.html#3.2.4_SCAN"><div class="tree-item-contents heading-link" heading-name="3.2.4 SCAN"><span class="tree-item-title">3.2.4 SCAN</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item" data-depth="4"><a class="tree-link" href="congzhi's-os-series\12.-io-systems.html#3.2.5_CSCAN"><div class="tree-item-contents heading-link" heading-name="3.2.5 CSCAN"><span class="tree-item-title">3.2.5 CSCAN</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item" data-depth="4"><a class="tree-link" href="congzhi's-os-series\12.-io-systems.html#3.2.6_LOOK"><div class="tree-item-contents heading-link" heading-name="3.2.6 LOOK"><span class="tree-item-title">3.2.6 LOOK</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item" data-depth="4"><a class="tree-link" href="congzhi's-os-series\12.-io-systems.html#3.2.7_CLOOK"><div class="tree-item-contents heading-link" heading-name="3.2.7 CLOOK"><span class="tree-item-title">3.2.7 CLOOK</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item" data-depth="4"><a class="tree-link" href="congzhi's-os-series\12.-io-systems.html#3.2.8_Scheduling_Implementation_and_Choice"><div class="tree-item-contents heading-link" heading-name="3.2.8 Scheduling Implementation and Choice"><span class="tree-item-title">3.2.8 Scheduling Implementation and Choice</span></div></a><div class="tree-item-children nav-folder-children"></div></div></div></div></div></div></div></div></div></div></div><script defer="">let rs = document.querySelector(".sidebar-right"); rs.classList.add("is-collapsed"); if (window.innerWidth > 768) rs.classList.remove("is-collapsed"); rs.style.setProperty("--sidebar-width", localStorage.getItem("sidebar-right-width"));</script></div></div></body></html>